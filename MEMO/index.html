<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />

    <link rel="icon" type="image/png" href="img/favicon.png">    

    <link href="https://necolas.github.io/normalize.css/4.1.1/normalize.css" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <link href="css/m1__template.css" rel="stylesheet" />
    <link href="css/m1__elements.css" rel="stylesheet" />

    <title>MEMO|Company</title>
</head>
<body class="m1-page">

    <nav class="m1-nav">

        <div class="m1-container">

            <div>
                <a href="./"><img src="img/logo.png" alt=""></a>
            </div>

            <div class="m1-top-menu-container">
                <div id="top-menu" class="m1-top-menu">
                    <div class="m1-menu-items--left">
                        <a class="m1-menu-item m1-menu-item--active" href="./">Company</a>    
                        <a class="m1-menu-item" href="./inventory.html">Inventory</a>    
                        <a class="m1-menu-item" href="./memo.html">Memo</a>                                           
                    </div>
                    <div class="m1-menu-items--right">
                                                       
                    </div>
                </div>
            </div>
                                   
        </div>

    </nav> 

    <main class="m1-page-content">
        <div class="m1-container">
            <div class="m1-form-container">
                <form class="m1-form">
                    <div class="m1-icon--search"></div>
                    <div class="m1-input-container">
                        <input id="company-search" type="text" class="m1-input" placeholder="Search company">
                        <button id="clear-search" class="m1-button--close" style="display:none"></button>
                    </div>                    
                    <button class="m1-button m1-button--light">Search</button>                
                </form>                                               
                <button type="submit" class="m1-button m1-button--dark m1-button--long"> <span class="m1-icon--plus">Add company</span></button>
            </div>
        </div>
    </main>

    <script>
        $(function () {
            document.getElementById('company-search').addEventListener('input', function (e) {
                let companyName = e.target.value; 
                console.log(companyName);
                // if imput value is not empty - show clear input button
                toggleClearSearchButton(companyName);

                // send request to database to retrive data
                // render table                
            });

            $("#clear-search").click((e)=>{
                e.preventDefault();
                $("#company-search").val('');
                toggleClearSearchButton('');
            });

            //
            function toggleClearSearchButton(companyName){
                if(companyName){
                    $('#clear-search').fadeIn(100);
                } else{
                    $('#clear-search').fadeOut(100);
                }
            }
        });
    </script>    

</body>
</html>