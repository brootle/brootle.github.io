!function(h){"use strict";function e(e){return e.split("")}function Ge(e,n){return 0<=n.indexOf(e)}function Xe(e,n){for(var t=n.length;0<=--t;)if(e(n[t]))return n[t]}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function r(e,n){this.message=e,this.defs=n}function Q(e,n,t){if(t)for(var i in e)if(un(e,i)&&!un(n,i))throw new r("`"+i+"` is not a supported option",n);for(var i in e)un(e,i)&&(n[i]=e[i]);return n}function t(e,n){var t,i=0;for(t in n)un(n,t)&&(e[t]=n[t],i++);return i}function Ke(){}function Qe(){return!1}function Ze(){return!0}function en(){return this}function nn(){return null}((r.prototype=Object.create(Error.prototype)).constructor=r).prototype.name="DefaultsError",n(r);var tn=function(){function e(e,n){for(var t=[],i=0;i<e.length;i++){var r=n(e[i],i);r!==o&&(r instanceof a?t.push.apply(t,r.v):t.push(r))}return t}e.is_op=function(e){return e===o||e instanceof a},e.splice=function(e){return new a(e)};var o=e.skip={};function a(e){this.v=e}return e}();function rn(e,n){if(e.indexOf(n)<0)return e.push(n)}function on(e,t){return e.replace(/\{([^}]+)\}/g,function(e,n){n=t[n];return n instanceof pn?n.print_to_string():n})}function an(e,n){n=e.indexOf(n);0<=n&&e.splice(n,1)}function sn(e){Array.isArray(e)||(e=e.split(" "));var n=Object.create(null);return e.forEach(function(e){n[e]=!0}),n}function fn(e,n){for(var t=e.length;0<=--t;)if(!n(e[t],t))return!1;return!0}function cn(){this._values=Object.create(null),this._size=0}function un(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function ln(e,n){for(var t,i=e.parent(-1),r=0;t=e.parent(r++);i=t){if(t instanceof qn)return n&&t.value===i;if(t instanceof gt){if(t.left===i)continue}else if("Call"==t.TYPE){if(t.expression===i)continue}else if(t instanceof bt){if(t.condition===i)continue}else if(t instanceof lt){if(t.expression===i)continue}else if(t instanceof ut){if(t.expressions[0]===i)continue}else{if(t instanceof dn)return t.body===i;if(t instanceof _t&&t.expression===i)continue}return!1}}function i(e,n,t,i){void 0===i&&(i=pn);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));var o=["return function AST_",e,"(props){","if(props){"];n.forEach(function(e){o.push("this.",e,"=props.",e,";")});var a=i&&new i;(a&&a.initialize||t&&t.initialize)&&o.push("this.initialize();"),o.push("}}");var s=new Function(o.join(""))();if(a&&(s.prototype=a,s.BASE=i),i&&i.SUBCLASSES.push(s),(s.prototype.CTOR=s).PROPS=n||null,s.SELF_PROPS=r,s.SUBCLASSES=[],e&&(s.prototype.TYPE=s.TYPE=e),t)for(var f in t)un(t,f)&&(/^\$/.test(f)?s[f.substr(1)]=t[f]:s.prototype[f]=t[f]);return s.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==h&&(h["AST_"+e]=s),s}cn.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},all:function(e){for(var n in this._values)if(!e(this._values[n],n.substr(1)))return!1;return!0},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n,t=[];for(n in this._values)t.push(e(this._values[n],n.substr(1)));return t},clone:function(){var e,n=new cn;for(e in this._values)n._values[e]=this._values[e];return n._size=this._size,n},toObject:function(){return this._values}},cn.fromObject=function(e){var n=new cn;return n._size=t(n._values,e),n};var H=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),pn=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new si(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},walk:function(e){e.visit(this)},_validate:Ke,validate:function(){for(var e=this.CTOR;e.prototype._validate.call(this),e=e.BASE;);},validate_ast:function(){var n={};this.walk(new ni(function(e){if(e.validate_visited===n)throw new Error(on("cannot reuse {type} from [{file}:{line},{col}]",{type:"AST_"+e.TYPE,file:e.start.file,line:e.start.line,col:e.start.col}));e.validate_visited=n}))}},null);(pn.log_function=function(n,e){var t;function i(e){t[e]||(t[e]=!0,n(e))}n?(t=Object.create(null),pn.info=e?function(e,n){i("INFO: "+on(e,n))}:Ke,pn.warn=function(e,n){i("WARN: "+on(e,n))}):pn.info=pn.warn=Ke})();var o=[];pn.enable_validation=function(){pn.disable_validation(),function e(n){var t=n.prototype.transform;n.prototype.transform=function(e,n){e=t.call(this,e,n);if(e instanceof pn)e.validate();else if(!(null===e||n&&tn.is_op(e)))throw new Error("invalid transformed value: "+e);return e},o.push(function(){n.prototype.transform=t}),n.SUBCLASSES.forEach(e)}(this)},pn.disable_validation=function(){for(var e;e=o.pop();)e()};var dn=i("Statement",null,{$documentation:"Base class of all statements"}),hn=i("Debugger",null,{$documentation:"Represents a debugger statement"},dn),vn=i("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},dn),mn=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},dn);function a(e,n){if(!(e[n]instanceof pn))throw new Error(n+" must be AST_Node");if(e[n]instanceof Xt)throw new Error(n+" cannot be AST_Hole");if(e[n]instanceof ht)throw new Error(n+" cannot be AST_Spread");if(e[n]instanceof dn&&!Fn(e[n]))throw new Error(n+" cannot be AST_Statement")}var _n=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e)})},_validate:function(){a(this,"body")}},dn),gn=i("BlockScope","enclosed functions make_def parent_scope variables",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",functions:"[Object/S] like `variables`, but only lists function declarations",parent_scope:"[AST_Scope?/S] link to the parent scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope"},clone:function(e){e=this._clone(e);return this.enclosed&&(e.enclosed=this.enclosed.slice()),this.functions&&(e.functions=this.functions.clone()),this.variables&&(e.variables=this.variables.clone()),e},pinned:function(){return this.resolve().pinned()},resolve:function(){return this.parent_scope.resolve()},_validate:function(){if(null!=this.parent_scope){if(!(this.parent_scope instanceof gn))throw new Error("parent_scope must be AST_BlockScope");if(!(this.resolve()instanceof zn))throw new Error("must be contained within AST_Scope")}}},dn);function bn(e,n){e.body.forEach(function(e){e.walk(n)})}var yn=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},walk:function(e){var n=this;e.visit(n,function(){bn(n,e)})},_validate:function(){this.body.forEach(function(e){if(!(e instanceof dn))throw new Error("body must be AST_Statement[]");if(Fn(e))throw new Error("body cannot contain AST_Function")})}},gn),wn=i("BlockStatement",null,{$documentation:"A block statement"},yn),s=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_validate:function(){if(!(this.body instanceof dn))throw new Error("body must be AST_Statement");if(Fn(this.body))throw new Error("body cannot be AST_Function")}},gn),xn=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},walk:function(e){var n=this;e.visit(n,function(){n.label.walk(e),n.body.walk(e)})},clone:function(e){var n,t,i=this._clone(e);return e&&(n=i.label,t=this.label,i.walk(new ni(function(e){return e instanceof Vn?e.label&&e.label.thedef===t?((e.label.thedef=n).references.push(e),!0):void 0:e instanceof zn||void 0}))),i},_validate:function(){if(!(this.label instanceof Z))throw new Error("label must be AST_Label")}},s),kn=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},s),En=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_validate:function(){a(this,"condition")}},kn),Sn=i("Do",null,{$documentation:"A `do` statement",walk:function(e){var n=this;e.visit(n,function(){n.body.walk(e),n.condition.walk(e)})}},En),Tn=i("While",null,{$documentation:"A `while` statement",walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e)})}},En),Dn=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},walk:function(e){var n=this;e.visit(n,function(){n.init&&n.init.walk(e),n.condition&&n.condition.walk(e),n.step&&n.step.walk(e),n.body.walk(e)})},_validate:function(){if(null!=this.init){if(!(this.init instanceof pn))throw new Error("init must be AST_Node");if(this.init instanceof dn&&!(this.init instanceof it||Fn(this.init)))throw new Error("init cannot be AST_Statement")}null!=this.condition&&a(this,"condition"),null!=this.step&&a(this,"step")}},kn),On=i("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},walk:function(e){var n=this;e.visit(n,function(){n.init.walk(e),n.object.walk(e),n.body.walk(e)})},_validate:function(){if(this.init instanceof it){if(1!=this.init.definitions.length)throw new Error("init must have single declaration")}else c(this.init,function(e){if(!(e instanceof lt||e instanceof Rt))throw new Error("init must be assignable: "+e.TYPE)});a(this,"object")}},kn),An=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.body.walk(e)})},_validate:function(){a(this,"expression")}},s),zn=i("Scope","uses_eval uses_with",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",uses_with:"[boolean/S] tells whether this scope uses the `with` statement"},pinned:function(){return this.uses_eval||this.uses_with},resolve:en},yn),$n=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap:function(e){var n=this.body;return ai(["(function(exports){'$ORIG';})(typeof ",e,"=='undefined'?(",e,"={}):",e,");"].join(""),{filename:"wrap="+JSON.stringify(e)}).transform(new si(function(e){if(e instanceof vn&&"$ORIG"==e.value)return tn.splice(n)}))},enclose:function(e){"string"!=typeof e&&(e="");var n=e.indexOf(":");n<0&&(n=e.length);var t=this.body;return ai(["(function(",e.slice(0,n),'){"$ORIG"})(',e.slice(n+1),")"].join(""),{filename:"enclose="+JSON.stringify(e)}).transform(new si(function(e){if(e instanceof vn&&"$ORIG"==e.value)return tn.splice(t)}))}},zn),Mn=i("Lambda","argnames length_read uses_arguments",{$documentation:"Base class for functions",$propdoc:{argnames:"[(AST_Destructured|AST_SymbolFunarg)*] array of function arguments and/or destructured literals",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},each_argname:function(n){var t=new ni(function(e){if(e instanceof St)return e.value.walk(t),!0;e instanceof Nt&&n(e)});this.argnames.forEach(function(e){e.walk(t)})},walk:function(n){var e=this;n.visit(e,function(){e.name&&e.name.walk(n),e.argnames.forEach(function(e){e.walk(n)}),bn(e,n)})},_validate:function(){this.argnames.forEach(function(e){c(e,function(e){if(!(e instanceof Nt))throw new Error("argnames must be AST_SymbolFunarg[]")})})}},zn),jn=i("Accessor",null,{$documentation:"A getter/setter function",_validate:function(){if(null!=this.name)throw new Error("name must be null")}},Mn);function Fn(e){return e instanceof qn||e instanceof Nn||e instanceof Pn}var qn=i("Arrow","inlined value",{$documentation:"An arrow function expression",$propdoc:{value:"[AST_Node?] simple return expression, or null if using function body."},walk:function(n){var e=this;n.visit(e,function(){e.argnames.forEach(function(e){e.walk(n)}),e.value?e.value.walk(n):bn(e,n)})},_validate:function(){if(null!=this.name)throw new Error("name must be null");if(this.uses_arguments)throw new Error("uses_arguments must be false");if(null!=this.value&&(a(this,"value"),this.body.length))throw new Error("body must be empty if value exists")}},Mn);function Cn(e){return e instanceof In||e instanceof Nn}var Nn=i("AsyncFunction","inlined name",{$documentation:"An asynchronous function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Ht))throw new Error("name must be AST_SymbolLambda")}},Mn),Pn=i("Function","inlined name",{$documentation:"A function expression",$propdoc:{name:"[AST_SymbolLambda?] the name of this function"},_validate:function(){if(null!=this.name&&!(this.name instanceof Ht))throw new Error("name must be AST_SymbolLambda")}},Mn);function Hn(e){return e instanceof In||e instanceof Rn}var In=i("AsyncDefun","inlined name",{$documentation:"An asynchronous function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Pt))throw new Error("name must be AST_SymbolDefun")}},Mn),Rn=i("Defun","inlined name",{$documentation:"A function definition",$propdoc:{name:"[AST_SymbolDefun] the name of this function"},_validate:function(){if(!(this.name instanceof Pt))throw new Error("name must be AST_SymbolDefun")}},Mn),Un=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},dn),Bn=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},walk:function(e){var n=this;e.visit(n,function(){n.value&&n.value.walk(e)})}},Un),Yn=i("Return",null,{$documentation:"A `return` statement",_validate:function(){null!=this.value&&a(this,"value")}},Bn),Ln=i("Throw",null,{$documentation:"A `throw` statement",_validate:function(){a(this,"value")}},Bn),Vn=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},walk:function(e){var n=this;e.visit(n,function(){n.label&&n.label.walk(e)})},_validate:function(){if(null!=this.label&&!(this.label instanceof ee))throw new Error("label must be AST_LabelRef")}},Un),Wn=i("Break",null,{$documentation:"A `break` statement"},Vn),Jn=i("Continue",null,{$documentation:"A `continue` statement"},Vn),Gn=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.body.walk(e),n.alternative&&n.alternative.walk(e)})},_validate:function(){if(a(this,"condition"),null!=this.alternative){if(!(this.alternative instanceof dn))throw new Error("alternative must be AST_Statement");if(Fn(this.alternative))throw new error("alternative cannot be AST_Function")}}},s),Xn=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),bn(n,e)})},_validate:function(){a(this,"expression"),this.body.forEach(function(e){if(!(e instanceof Kn))throw new Error("body must be AST_SwitchBranch[]")})}},yn),Kn=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},yn),Qn=i("Default",null,{$documentation:"A `default` switch branch"},Kn),Zn=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),bn(n,e)})},_validate:function(){a(this,"expression")}},Kn),et=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){bn(n,e),n.bcatch&&n.bcatch.walk(e),n.bfinally&&n.bfinally.walk(e)})},_validate:function(){if(null!=this.bcatch&&!(this.bcatch instanceof nt))throw new Error("bcatch must be AST_Catch");if(null!=this.bfinally&&!(this.bfinally instanceof tt))throw new Error("bfinally must be AST_Finally")}},yn),nt=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[(AST_Destructured|AST_SymbolCatch)?] symbol for the exception, or null if not present"},walk:function(e){var n=this;e.visit(n,function(){n.argname&&n.argname.walk(e),bn(n,e)})},_validate:function(){null!=this.argname&&c(this.argname,function(e){if(!(e instanceof It))throw new Error("argname must be AST_SymbolCatch")})}},yn),tt=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},yn),it=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},walk:function(n){var e=this;n.visit(e,function(){e.definitions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.definitions.length<1)throw new Error("must have at least one definition")}},dn),rt=i("Const",null,{$documentation:"A `const` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof st))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Ft))throw new Error("name must be AST_SymbolConst")}),null!=e.value&&a(e,"value")})}},it),ot=i("Let",null,{$documentation:"A `let` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof st))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof qt))throw new Error("name must be AST_SymbolLet")}),null!=e.value&&a(e,"value")})}},it),at=i("Var",null,{$documentation:"A `var` statement",_validate:function(){this.definitions.forEach(function(e){if(!(e instanceof st))throw new Error("definitions must be AST_VarDef[]");c(e.name,function(e){if(!(e instanceof Ct))throw new Error("name must be AST_SymbolVar")}),null!=e.value&&a(e,"value")})}},it),st=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_Destructured|AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},walk:function(e){var n=this;e.visit(n,function(){n.name.walk(e),n.value&&n.value.walk(e)})}});function f(e,n,t,i){e[n].forEach(function(e){if(!(e instanceof pn))throw new Error(n+" must be AST_Node[]");if(!i&&e instanceof Xt)throw new Error(n+" cannot be AST_Hole");if(!t&&e instanceof ht)throw new Error(n+" cannot be AST_Spread");if(e instanceof dn&&!Fn(e))throw new Error(n+" cannot contain AST_Statement")})}var ft=i("Call","expression args pure",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},walk:function(n){var e=this;n.visit(e,function(){e.expression.walk(n),e.args.forEach(function(e){e.walk(n)})})},_validate:function(){a(this,"expression"),f(this,"args",!0)}}),ct=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},ft),ut=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},walk:function(n){var e=this;n.visit(e,function(){e.expressions.forEach(function(e){e.walk(n)})})},_validate:function(){if(this.expressions.length<2)throw new Error("expressions must contain multiple elements");f(this,"expressions")}}),lt=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"},getProperty:function(){var e=this.property;return e instanceof Bt?e.value:e instanceof mt&&"void"==e.operator&&e.expression instanceof Bt?void 0:e},_validate:function(){a(this,"expression")}}),pt=i("Dot",null,{$documentation:"A dotted property access expression",walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.property)throw new Error("property must be string")}},lt),dt=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e),n.property.walk(e)})},_validate:function(){a(this,"property")}},lt),ht=i("Spread","expression",{$documentation:"Spread expression in array/object literals or function calls",$propdoc:{expression:"[AST_Node] expression to be expanded"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){a(this,"expression")}}),vt=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){if("string"!=typeof this.operator)throw new Error("operator must be string");a(this,"expression")}}),mt=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},vt),_t=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},vt),gt=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},walk:function(e){var n=this;e.visit(n,function(){n.left.walk(e),n.right.walk(e)})},_validate:function(){if(a(this,"left"),"string"!=typeof this.operator)throw new Error("operator must be string");a(this,"right")}}),bt=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},walk:function(e){var n=this;e.visit(n,function(){n.condition.walk(e),n.consequent.walk(e),n.alternative.walk(e)})},_validate:function(){a(this,"condition"),a(this,"consequent"),a(this,"alternative")}}),yt=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`",_validate:function(){if(this.operator.indexOf("=")<0)throw new Error('operator must contain "="');if(this.left instanceof kt){if("="!=this.operator)throw new Error("invalid destructuring operator: "+this.operator);c(this.left,function(e){if(!(e instanceof lt||e instanceof Rt))throw new Error("left must be assignable: "+e.TYPE)})}}},gt),wt=i("Await","expression",{$documentation:"An await expression",$propdoc:{expression:"[AST_Node] expression with Promise to resolve on"},walk:function(e){var n=this;e.visit(n,function(){n.expression.walk(e)})},_validate:function(){a(this,"expression")}}),xt=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})},_validate:function(){f(this,"elements",!0,!0)}}),kt=i("Destructured",null,{$documentation:"Base class for destructured literal"});function c(e,n){return e instanceof Et?e.elements.forEach(function(e){e instanceof Xt||c(e,n)}):e instanceof Tt?e.properties.forEach(function(e){c(e.value,n)}):void n(e)}var Et=i("DestructuredArray","elements",{$documentation:"A destructured array literal",$propdoc:{elements:"[AST_Node*] array of elements"},walk:function(n){var e=this;n.visit(e,function(){e.elements.forEach(function(e){e.walk(n)})})}},kt),St=i("DestructuredKeyVal","key value",{$documentation:"A key: value destructured property",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value"},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof pn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof pn))throw new Error("key must be string or AST_Node");a(this,"key")}a(this,"value")}}),Tt=i("DestructuredObject","properties",{$documentation:"A destructured object literal",$propdoc:{properties:"[AST_DestructuredKeyVal*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof St))throw new Error("properties must be AST_DestructuredKeyVal[]")})}},kt),Dt=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[(AST_ObjectProperty|AST_Spread)*] array of properties"},walk:function(n){var e=this;n.visit(e,function(){e.properties.forEach(function(e){e.walk(n)})})},_validate:function(){this.properties.forEach(function(e){if(!(e instanceof Ot||e instanceof ht))throw new Error("properties must contain AST_ObjectProperty and/or AST_Spread only")})}}),Ot=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_Node] property name.  For computed property this is an AST_Node.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},walk:function(e){var n=this;e.visit(n,function(){n.key instanceof pn&&n.key.walk(e),n.value.walk(e)})},_validate:function(){if("string"!=typeof this.key){if(!(this.key instanceof pn))throw new Error("key must be string or AST_Node");a(this,"key")}if(!(this.value instanceof pn))throw new Error("value must be AST_Node")}}),At=i("ObjectKeyVal",null,{$documentation:"A key: value object property",_validate:function(){a(this,"value")}},Ot),zt=i("ObjectSetter",null,{$documentation:"An object setter property",_validate:function(){if(!(this.value instanceof jn))throw new Error("value must be AST_Accessor")}},Ot),$t=i("ObjectGetter",null,{$documentation:"An object getter property",_validate:function(){if(!(this.value instanceof jn))throw new Error("value must be AST_Accessor")}},Ot),Mt=i("Symbol","scope name thedef",{$documentation:"Base class for all symbols",$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},_validate:function(){if("string"!=typeof this.name)throw new Error("name must be string")}}),jt=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},Mt),Ft=i("SymbolConst",null,{$documentation:"Symbol defining a constant"},jt),qt=i("SymbolLet",null,{$documentation:"Symbol defining a lexical-scoped variable"},jt),Ct=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},jt),Nt=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Ct),Pt=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},jt),Ht=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},jt),It=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},jt),Z=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Mt),Rt=i("SymbolRef","fixed in_arg",{$documentation:"Reference to some symbol (not definition/declaration)"},Mt),ee=i("LabelRef",null,{$documentation:"Reference to a label symbol"},Mt),Ut=i("This",null,{$documentation:"The `this` symbol",_validate:function(){if("this"!==this.name)throw new Error('name must be "this"')}},Mt),Bt=i("Constant",null,{$documentation:"Base class for all constants"}),Yt=i("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"},_validate:function(){if("string"!=typeof this.value)throw new Error("value must be string")}},Bt),Lt=i("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"},_validate:function(){if("number"!=typeof this.value)throw new Error("value must be number")}},Bt),Vt=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"},_validate:function(){if(!(this.value instanceof RegExp))throw new Error("value must be RegExp")}},Bt),v=i("Atom",null,{$documentation:"Base class for atoms"},Bt),Wt=i("Null",null,{$documentation:"The `null` atom",value:null},v),Jt=i("NaN",null,{$documentation:"The impossible value",value:NaN},v),Gt=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},v),Xt=i("Hole",null,{$documentation:"A hole in an array",value:void 0},v),Kt=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},v),Qt=i("Boolean",null,{$documentation:"Base class for booleans"},v),Zt=i("False",null,{$documentation:"The `false` atom",value:!1},Qt),ei=i("True",null,{$documentation:"The `true` atom",value:!0},Qt);function ni(e){this.callback=e,this.directives=Object.create(null),this.stack=[]}ni.prototype={visit:function(e,n){this.push(e),!this.callback(e,n||Ke)&&n&&n(),this.pop()},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Mn?this.directives=Object.create(this.directives):e instanceof vn&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Mn&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof zn)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof vn))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n,t=this.stack;if(e.label){for(var i=t.length;0<=--i;)if((n=t[i])instanceof xn&&n.label.name==e.label.name)return n.body}else for(i=t.length;0<=--i;)if((n=t[i])instanceof kn||e instanceof Wn&&n instanceof Xn)return n},in_boolean_context:function(){for(var e,n=this.self(),t=0;e=this.parent(t);t++){if(e instanceof bt&&e.condition===n||e instanceof En&&e.condition===n||e instanceof Dn&&e.condition===n||e instanceof Gn&&e.condition===n||e instanceof Yn&&e.in_bool||e instanceof ut&&e.tail_node()!==n||e instanceof _n||e instanceof mt&&"!"==e.operator&&e.expression===n)return!0;if(e instanceof gt&&("&&"==e.operator||"||"==e.operator)||e instanceof bt||e.tail_node()===n)n=e;else{if(!(e instanceof Yn))return!1;for(var i,r=e;i=this.parent(++t);r=i)if("Call"==i.TYPE){if(!(r instanceof Mn)||r.name)return!1}else if(r instanceof Mn)return!1}}}};var u=["await abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield",D="false null true",ne="break case catch const continue debugger default delete do else finally for function if in instanceof let new return switch throw try typeof var void while with"].join(" "),T="return new delete throw else case",ne=sn(ne),u=sn(u),T=sn(T),D=sn(D),O=/^0b([01]+)$/i,A=/^0x([0-9a-f]+)$/i,z=/^0o?([0-7]+)$/i,$=sn(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),M="\n\r\u2028\u2029",j="+-*&%=<>!?|~^",F="[{(,;:",q=F+")}]",C=M+"  \t\f\v​             　\ufeff",N=sn(e("./'\""+j+q+C));function I(e){return 56320<=e&&e<=57343}function P(e){return 48<=e&&e<=57}function R(e){return!N[e]}function ti(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function ii(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function te(e,n,t,i,r){throw new ii(e,n,t,i,r)}function ie(e,n,t){return e.type==n&&(null==t||e.value==t)}M=sn(e(M)),j=sn(e(j)),F=sn(e(F)),q=sn(e(q)),C=sn(e(C)),((ii.prototype=Object.create(Error.prototype)).constructor=ii).prototype.name="SyntaxError",n(ii);var U={};function re(i,r,o,a){var s={text:i,filename:r,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]},f=!1;function c(){return s.text.charAt(s.pos)}function u(e,n){var t=s.text.charAt(s.pos++);if(e&&!t)throw U;return M[t]?(s.col=0,s.line++,n||(s.newline_before=!0),"\r"==t&&"\n"==c()&&(s.pos++,t="\n")):s.col++,t}function l(e){for(;0<e--;)u()}function p(e){return s.text.substr(s.pos,e.length)==e}function d(){s.tokline=s.line,s.tokcol=s.col,s.tokpos=s.pos}function h(e,n,t){s.regex_allowed="operator"==e&&!ri[n]||"keyword"==e&&T[n]||"punc"==e&&F[n],"punc"==e&&"."==n?f=!0:t||(f=!1);n={type:e,value:n,line:s.tokline,col:s.tokcol,pos:s.tokpos,endline:s.line,endcol:s.col,endpos:s.pos,nlb:s.newline_before,file:r};return/^(?:num|string|regexp)$/i.test(e)&&(n.raw=i.substring(n.pos,n.endpos)),t||(n.comments_before=s.comments_before,n.comments_after=s.comments_before=[]),s.newline_before=!1,new H(n)}function v(e){te(e,r,s.tokline,s.tokcol,s.tokpos)}function m(i){var r=!1,o=!1,a=!1,s="."==i,e=function(e){for(var n,t="",i=0;(n=c())&&e(n,i++);)t+=u();return t}(function(e,n){var t=e.charCodeAt(0);switch(t){case 120:case 88:return!a&&(a=!0);case 101:case 69:return a||!r&&(r=o=!0);case 45:return o||0==n&&!i;case 43:return o;case o=!1,46:return!(s||a||r)&&(s=!0)}return P(t)||/[_0-9a-fo]/i.test(e)});i&&(e=i+e),/^0[0-7_]+$/.test(e)?S.has_directive("use strict")&&v("Legacy octal literals are not allowed in strict mode"):e=e.replace(a?/([1-9a-f]|.0)_(?=[0-9a-f])/gi:/([1-9]|.0)_(?=[0-9])/gi,"$1");var n=function(e){if(n=O.exec(e))return parseInt(n[1],2);if(n=A.exec(e))return parseInt(n[1],16);if(n=z.exec(e))return parseInt(n[1],8);var n=parseFloat(e);return n==e?n:void 0}(e);if(!isNaN(n))return h("num",n);v("Invalid syntax: "+e)}function _(e){var n=u(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(g(2));case 117:if("{"!=c())return String.fromCharCode(g(4));u();var t=0;do{var i=parseInt(u(!0),16)}while(isNaN(i)&&v("Invalid hex-character pattern in string"),t=16*t+i,"}"!=c());return(u(),t<65536)?String.fromCharCode(t):(1114111<t&&v("Invalid character code: "+t),String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t)));case 13:"\n"==c()&&u(!0,e);case 10:return""}return"0"<=n&&n<="7"?function(e){var n=c();"0"<=n&&n<="7"&&(e+=u(!0))[0]<="3"&&"0"<=(n=c())&&n<="7"&&(e+=u(!0));if("0"===e)return"\0";0<e.length&&S.has_directive("use strict")&&v("Legacy octal escape sequences are not allowed in strict mode");return String.fromCharCode(parseInt(e,8))}(n):n}function g(e){for(var n=0;0<e;--e){var t=parseInt(u(!0),16);isNaN(t)&&v("Invalid hex-character pattern in string"),n=n<<4|t}return n}var b=e("Unterminated string constant",function(e){for(var n=u(),t="";;){var i=u(!0,!0);if("\\"==i)i=_(!0);else if(M[i])v("Unterminated string constant");else if(i==n)break;t+=i}var r=h("string",t);return r.quote=e,r});function y(e){var n,t=s.regex_allowed,i=function(){for(var e=s.text,n=s.pos;n<s.text.length;++n)if(M[e[n]])return n;return-1}();return-1==i?(n=s.text.substr(s.pos),s.pos=s.text.length):(n=s.text.substring(s.pos,i),s.pos=i),s.col=s.tokcol+(s.pos-s.tokpos),s.comments_before.push(h(e,n,!0)),s.regex_allowed=t,S}var w=e("Unterminated multiline comment",function(){var e=s.regex_allowed,n=function(e,n){if(e=s.text.indexOf(e,s.pos),n&&-1==e)throw U;return e}("*/",!0),n=s.text.substring(s.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(n.length+2),s.comments_before.push(h("comment2",n,!0)),s.regex_allowed=e,S});function x(){for(var e,n,t=!1,i="",r=!1;e=c();)if(t)"u"!=e&&v("Expecting UnicodeEscapeSequence -- uXXXX"),R(e=_())||v("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),i+=e,t=!1;else if("\\"==e)r=t=!0,u();else{if(!R(e))break;i+=u()}return ne[i]&&r&&(n=i.charCodeAt(0).toString(16).toUpperCase(),i="\\u"+"0000".substr(n.length)+n+i.slice(1)),i}var k=e("Unterminated regular expression",function(e){for(var n,t=!1,i=!1;n=u(!0);)if(M[n])v("Unexpected line terminator");else if(t)e+="\\"+n,t=!1;else if("["==n)i=!0,e+=n;else if("]"==n&&i)i=!1,e+=n;else{if("/"==n&&!i)break;"\\"==n?t=!0:e+=n}var r=x();try{var o=new RegExp(e,r);return o.raw_source=e,h("regexp",o)}catch(e){v(e.message)}});function E(e){return h("operator",function e(n){if(!c())return n;var t=n+c();return $[t]?(u(),e(t)):n}(e||u()))}function e(n,t){return function(e){try{return t(e)}catch(e){if(e!==U)throw e;v(n)}}}function S(e){if(null!=e)return k(e);for(a&&0==s.pos&&p("#!")&&(d(),l(2),y("comment5"));;){if(!function(){for(;C[c()];)u()}(),d(),o){if(p("\x3c!--")){l(4),y("comment3");continue}if(p("--\x3e")&&s.newline_before){l(3),y("comment4");continue}}var n=c();if(!n)return h("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return b(n);case 46:return function(){u();var e=c();if("."!=e)return P(e.charCodeAt(0))?m("."):h("punc",".");for(var n=".";n+=".",u(),"."==c(););return h("operator",n)}();case 47:var i=function(){switch(u(),c()){case"/":return u(),y("comment1");case"*":return u(),w()}return s.regex_allowed?k(""):E("/")}();if(i===S)continue;return i}if(P(t))return m();if(q[n])return h("punc",u());if(p("=>"))return h("punc",u()+u());if(j[n])return E();if(92==t||!N[n])return t=void 0,t=x(),f?h("name",t):D[t]?h("atom",t):ne[t]?$[t]?h("operator",t):h("keyword",t):h("name",t);break}v("Unexpected character '"+n+"'")}return S.context=function(e){return e&&(s=e),s},S.add_directive=function(e){s.directive_stack[s.directive_stack.length-1].push(e),s.directives[e]?s.directives[e]++:s.directives[e]=1},S.push_directives_stack=function(){s.directive_stack.push([])},S.pop_directives_stack=function(){for(var e=s.directive_stack.pop(),n=e.length;0<=--n;)s.directives[e[n]]--},S.has_directive=function(e){return 0<s.directives[e]},S}var l,oe=sn("typeof void delete -- ++ ! ~ - +"),ri=sn("-- ++"),ae=sn("= += -= /= *= %= >>= <<= >>>= |= ^= &="),oi=function(e,n){for(var t=0;t<e.length;)for(var i=e[t++],r=0;r<i.length;r++)n[i[r]]=t;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),se=sn("atom num regexp string");function ai(e,s){s=Q(s,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var f={input:"string"==typeof e?re(e,s.filename,s.html5_comments,s.shebang):e,in_async:!1,in_directives:!0,in_funarg:-1,in_function:0,in_loop:0,labels:[],peeked:null,prev:null,token:null};function c(e,n){return ie(f.token,e,n)}function u(){return f.peeked||(f.peeked=f.input())}function l(){return f.prev=f.token,f.peeked?(f.token=f.peeked,f.peeked=null):f.token=f.input(),f.in_directives=f.in_directives&&("string"==f.token.type||c("punc",";")),f.token}function p(){return f.prev}function a(e,n,t,i){var r=f.input.context();te(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function o(e,n){a(n,e.line,e.col)}function t(e,n){return e+(void 0===n?"":" «"+n+"»")}function d(e){null==e&&(e=f.token),o(e,"Unexpected token: "+t(e.type,e.value))}function h(e,n){if(c(e,n))return l();o(f.token,"Unexpected token: "+t(f.token.type,f.token.value)+", expected: "+t(e,n))}function v(e){return h("punc",e)}function m(e){return e.nlb||!fn(e.comments_before,function(e){return!e.nlb})}function _(){return!s.strict&&(c("eof")||c("punc","}")||m(f.token))}function g(e){c("punc",";")?l():e||_()||h("punc",";")}function b(){v("(");var e=X();return v(")"),e}function n(i){return function(){var e=f.token,n=i.apply(null,arguments),t=p();return n.start=e,n.end=t,n}}function y(){(c("operator","/")||c("operator","/="))&&(f.peeked=null,f.token=f.input(f.token.value.substr(1)))}f.token=l();var w=n(function(){switch(y(),f.token.type){case"string":var e=f.in_directives,n=X();return e&&(n instanceof Yt?(r=n.start.raw.slice(1,-1),f.input.add_directive(r),n.value=r):f.in_directives=e=!1),g(),e?new vn(n):new _n({body:n});case"num":case"regexp":case"operator":case"atom":return x();case"name":switch(f.token.value){case"async":if(ie(u(),"keyword","function"))return l(),l(),T(In);case"await":if(f.in_async)return x();default:return(ie(u(),"punc",":")?function(){var n=I(Z);fn(f.labels,function(e){return e.name!=n.name})||a("Label "+n.name+" defined twice");v(":"),f.labels.push(n);var e=w();f.labels.pop(),e instanceof kn||n.references.forEach(function(e){e instanceof Jn&&o(e.label.start,"Continue label `"+n.name+"` must refer to IterationStatement")});return new xn({body:e,label:n})}:x)()}case"punc":switch(f.token.value){case"{":return new wn({start:f.token,body:D(),end:p()});case"[":case"(":return x();case";":return f.in_directives=!1,l(),new mn;default:d()}case"keyword":switch(f.token.value){case"break":return l(),k(Wn);case"const":l();var t=A();return g(),t;case"continue":return l(),k(Jn);case"debugger":return l(),g(),new hn;case"do":l();n=K(w);h("keyword","while");var i=b();return g(!0),new Sn({body:n,condition:i});case"while":return l(),new Tn({condition:b(),body:K(w)});case"for":return l(),function(){v("(");var e=null;if(!c("punc",";")&&(e=c("keyword","const")?(l(),A(!0)):c("keyword","let")?(l(),z(!0)):c("keyword","var")?(l(),$(!0)):X(!0),c("operator","in")))return e instanceof it?1<e.definitions.length&&o(e.start,"Only one variable declaration allowed in for..in loop"):W(e)||(e=J(e))instanceof kt||o(e.start,"Invalid left-hand side in for..in loop"),l(),function(e){var n=X();return v(")"),new On({init:e,object:n,body:K(w)})}(e);return function(e){v(";");var n=c("punc",";")?null:X();v(";");var t=c("punc",")")?null:X();return v(")"),new Dn({init:e,condition:n,step:t,body:K(w)})}(e)}();case"function":return l(),T(Rn);case"if":return l(),function(){var e=b(),n=w(),t=null;c("keyword","else")&&(l(),t=w());return new Gn({condition:e,body:n,alternative:t})}();case"let":l();t=z();return g(),t;case"return":0!=f.in_function||s.bare_returns||a("'return' outside of function"),l();var r=null;return c("punc",";")?l():_()||(r=X(),g()),new Yn({value:r});case"switch":return l(),new Xn({expression:b(),body:K(O)});case"throw":l(),m(f.token)&&a("Illegal newline after 'throw'");r=X();return g(),new Ln({value:r});case"try":return l(),function(){var e=D(),n=null,t=null;{var i;c("keyword","catch")&&(r=f.token,l(),i=null,c("punc","(")&&(l(),i=R(It),v(")")),n=new nt({start:r,argname:i,body:D(),end:p()}))}{var r;c("keyword","finally")&&(r=f.token,l(),t=new tt({start:r,body:D(),end:p()}))}n||t||a("Missing catch/finally blocks");return new et({body:e,bcatch:n,bfinally:t})}();case"var":l();t=$();return g(),t;case"with":return f.input.has_directive("use strict")&&a("Strict mode may not include a with statement"),l(),new An({expression:b(),body:w()})}}d()});function x(){var e=X();return g(),new _n({body:e})}function k(e){var n,t=null;_()||(t=I(ee,!0)),null!=t?((n=Xe(function(e){return e.name==t.name},f.labels))||o(t.start,"Undefined label "+t.name),t.thedef=n):0==f.in_loop&&a(e.TYPE+" not inside a loop or switch"),g();e=new e({label:t});return n&&n.references.push(e),e}function E(e){return e instanceof xt?new Et({start:e.start,elements:e.elements.map(function(e){return e instanceof Xt?e:E(e)}),end:e.end}):e instanceof Dt?new Tt({start:e.start,properties:e.properties.map(function(e){return e instanceof At||o(e.start,"Invalid destructuring assignment"),new St({start:e.start,key:e.key,value:E(e.value),end:e.end})}),end:e.end}):e instanceof Rt?new Nt(e):void o(e.start,"Invalid arrow parameter")}function S(e,n){var t=f.in_async;f.in_async=!1;var i=f.in_funarg;f.in_funarg=f.in_function;var r,o,a=e.map(E);f.in_funarg=i,v("=>");e=f.in_loop,i=f.labels;return++f.in_function,f.in_directives=!0,f.input.push_directives_stack(),f.in_loop=0,f.labels=[],c("punc","{")?(r=D(),o=null,f.input.has_directive("use strict")&&a.forEach(H)):(r=[],o=G()),f.input.pop_directives_stack(),--f.in_function,f.in_loop=e,f.labels=i,f.in_async=t,new qn({start:n,argnames:a,body:r,value:o,end:p()})}var T=function(e){var n,t=f.in_async;e===In?(n=I(Pt),f.in_async=!0):e===Rn?(n=I(Pt),f.in_async=!1):(f.in_async=e===Nn,n=I(Ht,!0)),!n||e===jn||n instanceof jt||d(p()),v("(");var i=f.in_funarg;f.in_funarg=f.in_function;var r=j(")",!s.strict,!1,function(){return R(Nt)});f.in_funarg=i;var o=f.in_loop,a=f.labels;++f.in_function,f.in_directives=!0,f.input.push_directives_stack(),f.in_loop=0,f.labels=[];i=D();return f.input.has_directive("use strict")&&(n&&H(n),r.forEach(H)),f.input.pop_directives_stack(),--f.in_function,f.in_loop=o,f.labels=a,f.in_async=t,new e({name:n,argnames:r,body:i})};function D(){v("{");for(var e=[];!c("punc","}");)c("eof")&&h("punc","}"),e.push(w());return l(),e}function O(){v("{");for(var e,n,t,i,r=[];!c("punc","}");)c("eof")&&h("punc","}"),c("keyword","case")?(e&&(e.end=p()),n=[],e=new Zn({start:(i=f.token,l(),i),expression:X(),body:n}),r.push(e),v(":")):c("keyword","default")?(e&&(e.end=p()),t&&a("More than one default clause in switch statement"),n=[],e=new Qn({start:(i=f.token,l(),v(":"),i),body:n}),r.push(e),t=e):(n||d(),n.push(w()));return e&&(e.end=p()),l(),r}function i(e,n){for(var t=[];;){var i=f.token,r=R(e),o=null;if(c("operator","=")?(l(),o=G(n)):!n&&(e===Ft||r instanceof kt)&&a("Missing initializer in declaration"),t.push(new st({start:i,name:r,value:o,end:p()})),!c("punc",","))break;l()}return t}var A=function(e){return new rt({start:p(),definitions:i(Ft,e),end:p()})},z=function(e){return new ot({start:p(),definitions:i(qt,e),end:p()})},$=function(e){return new at({start:p(),definitions:i(Ct,e),end:p()})};var M=function(e){if(c("operator","new"))return function(e){var n=f.token;h("operator","new");var t=M(!1),i=c("punc","(")?(l(),j(")",!s.strict)):[],i=new ct({start:n,expression:t,args:i,end:p()});return U(i),B(i,e)}(e);var n,t=f.token;if(c("punc")){switch(t.value){case"(":if(l(),c("punc",")"))return l(),S([],t);var i=X(!1,!0),r=t.comments_before.length;[].unshift.apply(i.start.comments_before,t.comments_before),t.comments_before.length=0,t.comments_before=i.start.comments_before,0==(t.comments_before_length=r)&&0<t.comments_before.length&&((o=t.comments_before[0]).nlb||(o.nlb=t.nlb,t.nlb=!1)),t.comments_after=i.start.comments_after,i.start=t,v(")");var o=p();return o.comments_before=i.end.comments_before,[].push.apply(i.end.comments_after,o.comments_after),o.comments_after.length=0,o.comments_after=i.end.comments_after,i.end=o,i instanceof ft&&U(i),c("punc","=>")?S(i instanceof ut?i.expressions:[i],t):B(i,e);case"[":return B(F(),e);case"{":return B(C(),e)}d()}if(c("name","async")&&ie(u(),"keyword","function")?(l(),n=Nn):c("keyword","function")&&(n=Pn),n){l();var a=T(n);return a.start=t,a.end=p(),B(a,e)}if(c("name")){a=P(Rt,t);return l(),c("punc","=>")?S([a],t):B(a,e)}if(se[f.token.type])return B(function(){var e,n=f.token;switch(n.type){case"num":e=new Lt({start:n,end:n,value:n.value});break;case"string":e=new Yt({start:n,end:n,value:n.value,quote:n.quote});break;case"regexp":e=new Vt({start:n,end:n,value:n.value});break;case"atom":switch(n.value){case"false":e=new Zt({start:n,end:n});break;case"true":e=new ei({start:n,end:n});break;case"null":e=new Wt({start:n,end:n})}}return l(),e}(),e);d()};function j(e,n,t,i){i=i||G;for(var r=!0,o=[];!c("punc",e)&&(r?r=!1:v(","),!n||!c("punc",e));)t&&c("punc",",")?o.push(new Xt({start:f.token,end:f.token})):i===G&&c("operator","...")?o.push(new ht({start:f.token,expression:(l(),i()),end:p()})):o.push(i());return l(),o}var F=n(function(){return v("["),new xt({elements:j("]",!s.strict,!0)})}),q=n(function(){return T(jn)}),C=n(function(){v("{");for(var e=!0,n=[];!c("punc","}")&&(e?e=!1:v(","),s.strict||!c("punc","}"));){var t=f.token;if(c("operator","..."))l(),n.push(new ht({start:t,expression:G(),end:p()}));else{var i=N();if(c("punc","(")){var r=f.token;(o=T(Pn)).start=r,o.end=p(),n.push(new At({start:t,key:i,value:o,end:p()}))}else if(c("punc",":"))l(),n.push(new At({start:t,key:i,value:G(),end:p()}));else if(c("punc",",")||c("punc","}"))n.push(new At({start:t,key:i,value:P(Rt,t),end:p()}));else{if("name"==t.type)switch(i){case"async":i=N();var o,r=f.token;(o=T(Nn)).start=r,o.end=p(),n.push(new At({start:t,key:i,value:o,end:p()}));continue;case"get":n.push(new $t({start:t,key:N(),value:q(),end:p()}));continue;case"set":n.push(new zt({start:t,key:N(),value:q(),end:p()}));continue}d()}}}return l(),new Dt({properties:n})});function N(){var e=f.token;switch(e.type){case"operator":ne[e.value]||d();case"num":case"string":case"name":case"keyword":case"atom":return l(),""+e.value;case"punc":v("[");var n=G();return v("]"),n;default:d()}}function P(e,n){var t=n.value;return"await"===t&&f.in_async&&d(n),new("this"===t?Ut:e)({name:""+t,start:n,end:n})}function H(e){"arguments"!=e.name&&"eval"!=e.name||o(e.start,"Unexpected "+e.name+" in strict mode")}function I(e,n){if(!c("name"))return n||a("Name expected"),null;e=P(e,f.token);return f.input.has_directive("use strict")&&e instanceof jt&&H(e),l(),e}function R(e){var n=f.token;if(c("punc","["))return l(),new Et({start:n,elements:j("]",!s.strict,!0,function(){return R(e)}),end:p()});if(c("punc","{")){l();for(var t=!0,i=[];!c("punc","}")&&(t?t=!1:v(","),s.strict||!c("punc","}"));){var r,o=f.token;c("punc","[")||ie(u(),"punc",":")?(r=N(),v(":"),i.push(new St({start:o,key:r,value:R(e),end:p()}))):i.push(new St({start:o,key:o.value,value:I(e),end:p()}))}return l(),new Tt({start:n,properties:i,end:p()})}return I(e)}function U(e){for(var n=e.start,t=n.comments_before,i=un(n,"comments_before_length")?n.comments_before_length:t.length;0<=--i;){var r=t[i];if(/[@#]__PURE__/.test(r.value)){e.pure=r;break}}}var B=function(e,n){var t=e.start;if(c("punc","."))return l(),B(new pt({start:t,expression:e,property:function(){c("name")||h("name");var e=f.token.value;return l(),e}(),end:p()}),n);if(c("punc","[")){l();var i=X();return v("]"),B(new dt({start:t,expression:e,property:i,end:p()}),n)}if(n&&c("punc","(")){l();t=new ft({start:t,expression:e,args:j(")",!s.strict),end:p()});return U(t),B(t,!0)}return e};function r(e,n,t){var i=n.value;switch(i){case"++":case"--":W(t)||o(n,"Invalid use of "+i+" operator");break;case"delete":t instanceof Rt&&f.input.has_directive("use strict")&&o(t.start,"Calling delete on expression not allowed in strict mode")}return new e({operator:i,expression:t})}function Y(){var e=f.token;return f.in_async&&c("name","await")?(f.in_funarg===f.in_function&&a("Invalid use of await in function argument"),f.input.context().regex_allowed=!0,l(),new wt({start:e,expression:Y(),end:p()})):function(){var e=f.token;if(c("operator")&&oe[e.value]){l(),y();var n=r(mt,e,Y());return n.start=e,n.end=p(),n}for(var t=M(!0);c("operator")&&ri[f.token.value]&&!m(f.token);)(t=r(_t,f.token,t)).start=e,t.end=f.token,l();return t}()}var L=function(e,n,t){var i=c("operator")?f.token.value:null;"in"==i&&t&&(i=null);var r=null!=i?oi[i]:null;if(null!=r&&n<r){l();r=L(Y(),r,t);return L(new gt({start:e.start,left:e,operator:i,right:r,end:r.end}),n,t)}return e};var V=function(e){var n=f.token,t=(i=e,L(Y(),0,i));if(c("operator","?")){l();var i=G();return v(":"),new bt({start:n,condition:t,consequent:i,alternative:G(e),end:p()})}return t};function W(e){return e instanceof lt||e instanceof Rt}function J(e){if(e instanceof xt){var n=e.elements.map(J);return fn(n,function(e){return e instanceof kt||e instanceof Xt||W(e)})?new Et({start:e.start,elements:n,end:e.end}):e}if(!(e instanceof Dt))return e;for(var t=[],i=0;i<e.properties.length;i++){var r=e.properties[i];if(!(r instanceof At))return e;var o=J(r.value);if(!(o instanceof kt||W(o)))return e;t.push(new St({start:r.start,key:r.key,value:o,end:r.end}))}return new Tt({start:e.start,properties:t,end:e.end})}function G(e){var n=f.token,t=V(e),i=f.token.value;if(c("operator")&&ae[i]){if(W(t)||"="==i&&(t=J(t))instanceof kt)return l(),new yt({start:n,left:t,operator:i,right:G(e),end:p()});a("Invalid assignment")}return t}function X(e,n){for(var t=f.token,i=[];i.push(G(e)),c("punc",",")&&(l(),!(n&&c("punc",")")&&ie(u(),"punc","=>"))););return 1==i.length?i[0]:new ut({start:t,expressions:i,end:p()})}function K(e){++f.in_loop;e=e();return--f.in_loop,e}return s.expression?(y(),X()):function(){var e=f.token,n=[];for(f.input.push_directives_stack();!c("eof");)n.push(w());f.input.pop_directives_stack();var t=p(),i=s.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new $n({start:e,body:n,end:t}),i}()}function si(e,n){ni.call(this),this.before=e,this.after=n}function p(e,n){return tn(e,function(e){return e.transform(n,!0)})}function d(e,n,t,i){this.eliminated=0,this.global=!1,this.id=e,this.init=i,this.lambda=t instanceof Ht,this.mangled_name=null,this.name=t.name,this.orig=[t],this.references=[],this.replaced=0,this.scope=n,this.undeclared=!1}si.prototype=new ni,(l=function(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),e.before&&(t=e.before(this,r,n)),void 0===t&&(r(t=this,e),e.after&&void 0!==(i=e.after(t,n))&&(t=i)),e.pop(),t})})(pn,Ke),l(xn,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),l(_n,function(e,n){e.body=e.body.transform(n)}),l(yn,function(e,n){e.body=p(e.body,n)}),l(Sn,function(e,n){e.body=e.body.transform(n),e.condition=e.condition.transform(n)}),l(Tn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),l(Dn,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),l(On,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),l(An,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),l(Bn,function(e,n){e.value&&(e.value=e.value.transform(n))}),l(Vn,function(e,n){e.label&&(e.label=e.label.transform(n))}),l(Gn,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),l(Xn,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(Zn,function(e,n){e.expression=e.expression.transform(n),e.body=p(e.body,n)}),l(et,function(e,n){e.body=p(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),l(nt,function(e,n){e.argname&&(e.argname=e.argname.transform(n)),e.body=p(e.body,n)}),l(it,function(e,n){e.definitions=p(e.definitions,n)}),l(st,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),l(Mn,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=p(e.argnames,n),e.body=p(e.body,n)}),l(qn,function(e,n){e.argnames=p(e.argnames,n),e.value?e.value=e.value.transform(n):e.body=p(e.body,n)}),l(ft,function(e,n){e.expression=e.expression.transform(n),e.args=p(e.args,n)}),l(ut,function(e,n){e.expressions=p(e.expressions,n)}),l(wt,function(e,n){e.expression=e.expression.transform(n)}),l(pt,function(e,n){e.expression=e.expression.transform(n)}),l(dt,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),l(ht,function(e,n){e.expression=e.expression.transform(n)}),l(vt,function(e,n){e.expression=e.expression.transform(n)}),l(gt,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),l(bt,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),l(xt,function(e,n){e.elements=p(e.elements,n)}),l(Et,function(e,n){e.elements=p(e.elements,n)}),l(St,function(e,n){e.key instanceof pn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),l(Tt,function(e,n){e.properties=p(e.properties,n)}),l(Dt,function(e,n){e.properties=p(e.properties,n)}),l(Ot,function(e,n){e.key instanceof pn&&(e.key=e.key.transform(n)),e.value=e.value.transform(n)}),d.prototype={forEach:function(e){this.orig.forEach(e),this.references.forEach(e)},mangle:function(e){var n,t=e.cache&&e.cache.props;this.global&&t&&t.has(this.name)?this.mangled_name=t.get(this.name):this.mangled_name||this.unmangleable(e)||(n=this.redefined(),this.mangled_name=n?n.mangled_name||n.name:function(e,i){var n,t=e.scope,r=g(t,i),o=t.cname_holes,a=Object.create(null),s=[t];e.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in g(n,i))a[t]=!0}while(s.push(n),n=n.parent_scope)});for(var f=0;f<o.length;f++)if(n=B(o[f]),!a[n])return o.splice(f,1),r[n]=!0,n;for(;;)if(n=B(++t.cname),!(r[n]||u[n]||i.reserved.has[n])){if(!a[n])break;o.push(t.cname)}return r[n]=!0,n}(this,e),this.global&&t&&t.set(this.name,this.mangled_name))},redefined:function(){var e=this.defun;if(e){var n=this.name,e=e.variables.get(n)||e instanceof $n&&e.globals.get(n)||this.orig[0]instanceof Ft&&Xe(function(e){return e.name==n},e.enclosed);return e&&e!==this?e.redefined()||e:void 0}},unmangleable:function(e){return this.global&&!e.toplevel||this.undeclared||!e.eval&&this.scope.pinned()||e.keep_fnames&&(this.orig[0]instanceof Ht||this.orig[0]instanceof Pt)}};var fi=sn("delete ++ --");function m(e,n){e.enclosed=[],e.parent_scope=n,e.functions=new cn,e.variables=new cn,n&&(e.make_def=n.make_def)}function _(e,n){m(e,n),e.uses_eval=!1,e.uses_with=!1}function g(e,n){var t,i=e.names_in_use;return i||(e.cname=-1,e.cname_holes=[],e.names_in_use=i=Object.create(null),t=n.cache&&n.cache.props,e.enclosed.forEach(function(e){e.unmangleable(n)&&(i[e.name]=!0),e.global&&t&&t.has(e.name)&&(i[t.get(e.name)]=!0)})),i}function b(e){return e=Q(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1,webkit:!1}),Array.isArray(e.reserved)||(e.reserved=[]),rn(e.reserved,"arguments"),e.reserved.has=sn(e.reserved),e}$n.DEFMETHOD("figure_out_scope",function(c){c=Q(c,{cache:null,ie8:!1});var u=this,o=null,t=0,a=u.parent_scope=null,l=new ni(function(i,e){if(Hn(i))return i.name.walk(l),t(function(){i.argnames.forEach(function(e){e.walk(l)}),bn(i,l)}),!0;if(i instanceof Kn)return i.init_vars(a),e(),!0;if(i instanceof et)return t(function(){bn(i,l)}),i.bcatch&&i.bcatch.walk(l),i.bfinally&&i.bfinally.walk(l),!0;if(i instanceof An){for(var n=a;!(n=n.resolve()).uses_with&&(n.uses_with=!0,n=n.parent_scope););return t(e),!0}if(i instanceof gn)return t(e),!0;function t(e){i.init_vars(a);var n=o,t=a;i instanceof zn&&(o=i),a=i,e(),a=t,o=n}function r(e,n){e!==n&&(i.mark_enclosed(c),n=n.find_variable(i.name),i.thedef!==n&&((i.thedef=n).orig.push(i),i.mark_enclosed(c)))}i instanceof Mt&&(i.scope=a),i instanceof Z&&((i.thedef=i).references=[]),i instanceof It||i instanceof Ft?a.def_variable(i).defun=o:i instanceof Pt?(o.def_function(i,l.parent()),r(o,a)):i instanceof Nt?(o.def_variable(i),r(o,a)):i instanceof Ht?(e=o.def_function(i,"arguments"==i.name?void 0:o),c.ie8&&(e.defun=o.parent_scope.resolve())):i instanceof qt?a.def_variable(i):i instanceof Ct&&(o.def_variable(i,null),r(o,a))});u.make_def=function(e,n){return new d(++t,this,e,n)},u.walk(l),u.globals=new cn;var p=[],l=new ni(function(e){if(e instanceof nt)return e.argname instanceof kt?(p.push(e),e.argname.walk(l),p.pop(),bn(e,l),!0):void 0;if(e instanceof Mn)return p.push(e),e.argnames.forEach(function(e){e.walk(l)}),p.pop(),e instanceof qn&&e.value?e.value.walk(l):bn(e,l),!0;if(e instanceof Vn)return e.label&&e.label.thedef.references.push(e),!0;if(e instanceof It){var n=e.definition().redefined();if(n)for(var t=e.scope;t&&(rn(t.enclosed,n),t!==n.scope);t=t.parent_scope);return!0}if(e instanceof Ft){var i=e.definition().redefined();return i&&(i.const_redefs=!0),!0}if(e instanceof Rt){for(var r,o=e.name,a=e.scope.find_variable(o),s=p.length;0<s&&a&&!((s=p.lastIndexOf(a.scope,s-1))<0);){var f=a.orig[0];if(f instanceof It||f instanceof Nt||f instanceof Ht){e.in_arg=!0;break}a=a.scope.parent_scope.find_variable(o)}if(a?!("arguments"==o&&a.orig[0]instanceof Nt)||a.orig[1]instanceof Nt||a.scope instanceof qn||((r=l.parent())instanceof yt&&r.left===e||r instanceof vt&&fi[r.operator]?a.scope.uses_arguments=3:a.scope.uses_arguments<2&&!(r instanceof lt&&r.expression===e)?a.scope.uses_arguments=2:a.scope.uses_arguments||(a.scope.uses_arguments=!0)):a=u.def_global(e),"eval"==o)if("Call"==(r=l.parent()).TYPE&&r.expression===e)for(t=e.scope;!(t=t.resolve()).uses_eval&&(t.uses_eval=!0,t=t.parent_scope););else a.undeclared&&(u.uses_eval=!0);return e.thedef=a,e.reference(c),!0}});function i(e,n){var t,i,r=e.name,o=e.thedef;fn(o.orig,function(e){return!(e instanceof Ft||e instanceof qt)})&&((t=n.find_variable(r))?(i=t.redefined())&&(t=i):t=u.globals.get(r),t?t.orig.push(e):t=n.def_variable(e),o.defun=t.scope,o.forEach(function(e){e.redef=!0,e.thedef=t,e.reference(c)}),o.lambda&&(t.lambda=!0),t.undeclared&&u.variables.set(r,t))}u.walk(l),c.ie8&&u.walk(new ni(function(e){if(e instanceof It){var n=e.thedef.defun;return n.name instanceof Ht&&n.name.name==e.name&&(n=n.parent_scope.resolve()),i(e,n),!0}if(e instanceof Ht){n=e.thedef;return i(e,e.scope.parent_scope.resolve()),void 0!==e.thedef.init?e.thedef.init=!1:n.init&&(e.thedef.init=n.init),!0}}))}),$n.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);e=this.make_def(e);return e.undeclared=!0,e.global=!0,n.set(t,e),e}),gn.DEFMETHOD("init_vars",function(e){m(this,e)}),zn.DEFMETHOD("init_vars",function(e){_(this,e)}),qn.DEFMETHOD("init_vars",function(e){_(this,e)}),Mn.DEFMETHOD("init_vars",function(e){return _(this,e),this.uses_arguments=!1,this.def_variable(new Nt({name:"arguments",start:this.start,end:this.end})),this}),Mt.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(rn(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){rn(n.scope.enclosed,e)}),t!==n.scope);t=t.parent_scope);}),Mt.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),gn.DEFMETHOD("find_variable",function(e){return this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),gn.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return t.init&&!Hn(t.init)||(t.init=n),this.functions.set(e.name,t),t}),gn.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),Fn(t.init)&&(t.init=n)):(t=this.make_def(e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),Mt.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),Z.DEFMETHOD("unmangleable",Qe),Mt.DEFMETHOD("definition",function(){return this.thedef}),$n.DEFMETHOD("mangle_names",function(o){o=b(o);var n,r=-1;o.cache&&o.cache.props&&(n=g(this,o),o.cache.props.each(function(e){n[e]=!0}));var a=[],s=new ni(function(n,e){if(n instanceof xn){var t=r;return e(),r=t,!0}var i;if(n instanceof gn)return o.webkit&&n instanceof kn&&n.init instanceof ot&&n.init.definitions.forEach(function(e){e.name.match_symbol(function(e){var n,t,i;e instanceof qt&&(n=e.definition(),t=e.scope.parent_scope,i=t.def_variable(e),e.thedef=n,t.to_mangle.push(i),n.redefined=function(){return i})})},!0),n.to_mangle=[],n.variables.each(function(e){!function(n){var e=n.orig[0],t=n.redefined();if(!t){if(!(e instanceof Ft))return!1;var i=n.scope.resolve();if(n.scope===i)return!1;t=i.def_variable(e),i.to_mangle.push(t)}a.push(n),n.references.forEach(r),(e instanceof It||e instanceof Ft)&&r(e);return!0;function r(e){e.thedef=t,e.reference(o),e.thedef=n}}(e)&&n.to_mangle.push(e)}),e(),o.cache&&n instanceof $n&&n.globals.each(f),n instanceof Rn&&s.has_directive("use asm")&&((e=new Rt(n.name)).scope=n,e.reference(o)),n.to_mangle.forEach(f),!0;if(n instanceof Z){for(;i=B(++r),u[i];);return n.mangled_name=i,!0}});function f(e){o.reserved.has[e.name]||e.mangle(o)}this.walk(s),a.forEach(f)}),$n.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(u);return t.reserved.forEach(r),this.globals.each(o),this.walk(new ni(function(e){e instanceof gn&&e.variables.each(o)})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),$n.DEFMETHOD("expand_names",function(i){B.reset(),B.sort(),i=b(i);var r=this.find_colliding_names(i),o=0;function n(n){var e,t;n.global&&i.cache||n.unmangleable(i)||i.reserved.has[n.name]||(e=n.redefined(),t=e?e.rename||e.name:function(){for(var e;e=B(o++),r[e];);return e}(),n.rename=t,n.forEach(function(e){e.definition()===n&&(e.name=t)}))}this.globals.each(n),this.walk(new ni(function(e){e instanceof gn&&e.variables.each(n)}))}),pn.DEFMETHOD("tail_node",en),ut.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),$n.DEFMETHOD("compute_char_frequency",function(e){e=b(e),B.reset();var n=Mt.prototype.add_source_map;try{Mt.prototype.add_source_map=function(){this.unmangleable(e)||B.consider(this.name,-1)},e.properties&&(pt.prototype.add_source_map=function(){B.consider(this.property,-1)},dt.prototype.add_source_map=function(){!function e(n){n instanceof Yt?B.consider(n.value,-1):n instanceof bt?(e(n.consequent),e(n.alternative)):n instanceof ut&&e(n.tail_node())}(this.property)}),B.consider(this.print_to_string(),1)}finally{Mt.prototype.add_source_map=n,delete pt.prototype.add_source_map,delete dt.prototype.add_source_map}B.sort()});var y,w,x,k,E,S,B=(y=Object.create(null),k=Y("0123456789"),E=Y("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_"),W.consider=function(e,n){for(var t=e.length;0<=--t;)x[e[t]]+=n},W.sort=function(){w=E.sort(V).concat(k.sort(V))},(W.reset=L)(),W);function Y(e){for(var n=[],t=0;t<e.length;t++){var i=e[t];n.push(i),y[i]=-.01*t}return n}function L(){x=Object.create(y)}function V(e,n){return x[n]-x[e]}function W(e){var n="",t=54;for(e++;n+=w[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}function J(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function ci(f){var e=!f;f=Q(f,{ascii_only:!1,beautify:!1,braces:!1,comments:!1,galio:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var n,c=Qe;f.comments&&(n=f.comments,"string"==typeof f.comments&&/^\/.*\/[a-zA-Z]*$/.test(f.comments)&&(F=f.comments.lastIndexOf("/"),n=new RegExp(f.comments.substr(1,F-1),f.comments.substr(F+1))),c=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?J:Ze);var i=f.indent_start,r=0,o=1,u=0,a="",s=f.ascii_only?function(e,t){return t&&(e=e.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(e){return"\\u{"+(e.charCodeAt(0)-55232<<10|e.charCodeAt(1)-56320).toString(16)+"}"})),e.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n,t="",i=0,r=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=(n=o)&&n<=56319){if(I(e.charCodeAt(i+1))){i++;continue}}else if(!I(o))continue;t+=e.slice(r,i)+"\\u"+o.toString(16),r=i+1}return 0==r?e:t+e.slice(r)};function t(e,n){n=function(t,e){var i=0,r=0;function n(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return f.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),t=s(t),f.quote_style){case 1:return n();case 2:return o();case 3:return("'"==e?n:o)();default:return(r<i?n:o)()}}(e,n);return f.inline_script&&(n=(n=(n=n.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),n}var l,p,d=!1,h=0,v=!0,m=!1,_=!1,g=!1,b=!1,y=-1,w="",x=f.source_map&&[],k=x?function(n,t){x.forEach(function(e){e.line+=n,e.col+=t})}:Ke,E=x?function(){x.forEach(function(e){f.source_map.add(e.token.file,e.line,e.col,e.token.line,e.token.col,e.name||"name"!=e.token.type?e.name:e.token.value)}),x=[]}:Ke;function S(e){var n=a.lastIndexOf("\n");h<n&&(h=n);var t=a.slice(0,h),n=a.slice(h);for(k(e,n.length-r),o+=e,u+=e,r=n.length,a=t;e--;)a+="\n";a+=n}var T=f.max_line_len?function(){v?r>f.max_line_len&&pn.warn("Output exceeds {max_line_len} characters",f):(r>f.max_line_len&&S(1),v=!0,E())}:Ke,D=sn("( [ + * / - , .");function O(e){var n=(e=String(e)).charAt(0);g&&n&&(g=!1,"\n"!=n&&(O("\n"),z())),b&&n&&(b=!1,/[\s;})]/.test(n)||A()),y=-1;var t=w.slice(-1);_&&(_=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(f.semicolons||D[n]?(a+=";",r++,u++):(T(),a+="\n",u++,o++,r=0,/^\s+$/.test(e)&&(_=!0)),f.beautify||(m=!1))),m&&((R(t)&&(R(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==w||"--"==e&&"!"==w||"in"==e&&"/"==t||"--"==w&&">"==n)&&(a+=" ",r++,u++),"<"==t&&"!"==e||(m=!1)),l&&(x.push({token:l,name:p,line:o,col:r}),l=!1,v&&E()),a+=e,d="("==e.slice(-1),u+=e.length;n=e.split(/\r?\n/),t=n.length-1;o+=t,r+=n[0].length,0<t&&(T(),r=n[t].length),w=e}var A=f.beautify?function(){O(" ")}:function(){m=!0},z=f.beautify?function(e){O(function e(n,t){if(t<=0)return"";if(1==t)return n;var i=e(n,t>>1);return i+=i,1&t?i+n:i}(" ",e?i-(f.indent_level>>1):i))}:Ke,$=f.beautify?function(e,n){!0===e&&(e=q());var t=i;i=e;n=n();return i=t,n}:function(e,n){return n()},M=f.max_line_len||f.preserve_line?function(){T(),h=a.length,v=!1}:Ke,j=f.beautify?function(){if(y<0)return O("\n");"\n"!=a[y]&&(a=a.slice(0,y)+"\n"+a.slice(y),u++,o++),y++}:M,F=f.beautify?function(){O(";")}:function(){_=!0};function q(){return i+f.indent_level}function C(){return v||T(),a}function N(){var e=a.lastIndexOf("\n");return/^ *$/.test(a.slice(e+1))}var P=[];return{get:C,toString:C,indent:z,should_break:e?Ke:function(){return f.width&&r-i>=f.width},has_parens:function(){return d},newline:j,print:O,space:A,comma:function(){M(),O(","),M(),A()},colon:function(){O(":"),A()},last:function(){return w},semicolon:F,force_semicolon:function(){_&&O(";"),O(";")},to_utf8:s,print_name:function(e){O((e=(e=e).toString(),e=s(e,!0)))},print_string:function(e,n){O(t(e,n))},next_indent:q,with_indent:$,with_block:function(e){var n;return O("{"),j(),$(q(),function(){n=e()}),z(),O("}"),n},with_parens:function(e){return O("("),M(),e=e(),M(),O(")"),e},with_square:function(e){return O("["),M(),e=e(),M(),O("]"),e},add_mapping:x?function(e,n){l=e,p=n}:Ke,option:function(e){return f[e]},prepend_comments:e?Ke:function(e){var t,n,i,r=this,o=e instanceof Bn&&e.value,a=(a=s(e))||[];function s(e){var n=e.start;if(!n){if(!o)return;e.start=n=new H}e=n.comments_before;if(!e){if(!o)return;n.comments_before=e=[]}if(e._dumped!==r)return e._dumped=r,e}o&&((t=new ni(function(e){var n=t.parent();if(!(n instanceof Bn||n instanceof gt&&n.left===e||"Call"==n.TYPE&&n.expression===e||n instanceof bt&&n.condition===e||n instanceof pt&&n.expression===e||n instanceof ut&&n.expressions[0]===e||n instanceof dt&&n.expression===e||n instanceof _t))return!0;e=s(e);e&&(a=a.concat(e))})).push(e),e.value.walk(t)),0==u&&(0<a.length&&f.shebang&&"comment5"==a[0].type&&(O("#!"+a.shift().value+"\n"),z()),(n=f.preamble)&&O(n.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))),0!=(a=a.filter(c,e)).length&&(i=N(),a.forEach(function(e,n){i||(e.nlb?(O("\n"),z(),i=!0):0<n&&A()),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),z(),i=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),i=!1)}),i||(e.start.nlb?(O("\n"),z()):A()))},append_comments:e||c===Qe?Ke:function(e,t){var n,i=e.end;!i||(n=i[t?"comments_before":"comments_after"])&&n._dumped!==this&&(e instanceof dn||fn(n,function(e){return!/comment[134]/.test(e.type)}))&&(n._dumped=this,i=a.length,n.filter(c,e).forEach(function(e,n){b=!1,g?(O("\n"),z(),g=!1):e.nlb&&(0<n||!N())?(O("\n"),z()):(0<n||!t)&&A(),/comment[134]/.test(e.type)?(O("//"+e.value.replace(/[@#]__PURE__/g," ")),g=!0):"comment2"==e.type&&(O("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),b=!0)}),a.length>i&&(y=i))},line:function(){return o},col:function(){return r},pos:function(){return u},push_node:function(e){P.push(e)},pop_node:f.preserve_line?function(){var e=P.pop();e.start&&e.start.line>o&&S(e.start.line-o)}:function(){P.pop()},parent:function(e){return P[P.length-2-(e||0)]}}}function G(e,n){e.DEFMETHOD("_codegen",n)}function X(e,n){e.DEFMETHOD("needs_parens",n)}function K(e){if(!e.has_parens()&&ln(e))return!0;var n;if(e.option("webkit")&&((n=e.parent())instanceof lt&&n.expression===this))return!0;if(e.option("wrap_iife")&&((n=e.parent())instanceof ft&&n.expression===this))return!0}function fe(e){return!e.has_parens()&&ln(e,!0)}function ce(e,n){n=n.parent();return n instanceof wt||(n instanceof gt?!(n instanceof yt):n instanceof ft?n.expression===e:n instanceof bt?n.condition===e:n instanceof lt?n.expression===e:n instanceof vt||void 0)}function ue(e,t,i,n){var r=e.length-1,o=n,n=S;e.forEach(function(e,n){o&&(e instanceof vn?"use asm"==e.value&&(S=!0):e instanceof mn||(e instanceof _n&&e.body instanceof Yt&&i.force_semicolon(),o=!1)),e instanceof mn||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline()))}),S=n}function le(e,n){n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}")}function pe(e,n,t){0<e.body.length?n.with_block(function(){ue(e.body,!1,n,t)}):le(e,n)}function de(e,t){e.name&&(t.space(),e.name.print(t)),t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)})}),t.space(),pe(e,t,!0)}function he(e){e.print("async"),e.space(),e.print("function"),de(this,e)}function ve(t,i){return function(e){e.print(t);var n=this[i];n&&(e.space(),n.print(e)),e.semicolon()}}function me(e,n){n.newline(),e.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}function _e(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var e=t.parent();(e&&e.init!==this||!(e instanceof Dn||e instanceof On))&&t.semicolon()}}function ge(e,n,t){var i=!1;t&&e.walk(new ni(function(e){return!!i||(e instanceof gt&&"in"==e.operator?i=!0:e instanceof zn&&!(e instanceof qn&&e.value)||void 0)})),e.print(n,i)}function be(e,t){(e.expression instanceof ft||e.expression instanceof Mn)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}function ye(e,n){var t=e.key;t instanceof pn?n.with_square(function(){t.print(n)}):n.option("quote_keys")?n.print_string(t):""+ +t==t&&0<=t?n.print(Se(t)):(e=e.start&&e.start.quote,(u[t]?n.option("ie8"):!ti(t))||e&&n.option("keep_quoted_props")?n.print_string(t,e):n.print_name(t))}function we(e){ye(this,e),e.colon(),this.value.print(e)}function xe(n){return function(e){e.print(n),e.space(),ye(this,e),de(this.value,e)}}function ke(e,n){n.option("braces")&&!(e instanceof rt||e instanceof ot)?Te(e,n):!e||e instanceof mn?n.force_semicolon():e.print(n)}function Ee(e,n){return 0<e.args.length||n.option("beautify")}function Se(e){var n,t,i=e.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i];return Math.floor(e)===e&&(e<0?r.push("-0x"+(-e).toString(16).toLowerCase()):r.push("0x"+e.toString(16).toLowerCase())),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/0+$/.exec(i))?(t=n[0].length,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),function(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}(r)}function Te(e,n){!e||e instanceof mn?n.print("{}"):e instanceof wn?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function De(e,n){e.forEach(function(e){e.DEFMETHOD("add_source_map",n)})}function ui(e,n){if(!(this instanceof ui))return new ui(e,n);si.call(this,this.before,this.after),this.options=Q(e,{arguments:!n,arrows:!n,assignments:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,directives:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,functions:!n,global_defs:!1,hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_fargs:n||"strict",keep_fnames:!1,keep_infinity:!1,loops:!n,merge_vars:!n,negate_iife:!n,objects:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_funcs:!n,reduce_vars:!n,sequences:!n,side_effects:!n,spread:!n,strings:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,varify:!n},!0);n=this.options.evaluate;this.eval_threshold=/eager/.test(n)?1/0:+n;var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&un(t,i)&&(t[i.slice(1)]=ai(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3);n=this.options.keep_fargs;this.drop_fargs="strict"==n?function(e,n){if(e.length_read)return!1;var t=e.name;if(!t)return n&&"Call"==n.TYPE&&n.expression===e;if(t.fixed_value()!==e)return!1;t=t.definition();if(t.direct_access)return!1;t=t.escaped;return t&&1!=t.depth}:n?Qe:Ze;var r=this.options.pure_funcs;"function"==typeof r?this.pure_funcs=r:"string"==typeof r?this.pure_funcs=function(e){return r!==e.expression.print_to_string()}:Array.isArray(r)?this.pure_funcs=function(e){return!Ge(e.expression.print_to_string(),r)}:this.pure_funcs=Ze;n=this.options.sequences;this.sequences_limit=1==n?800:0|n;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return Ge(e.name,o)});n=this.options.toplevel;this.toplevel="string"==typeof n?{funcs:/funcs/.test(n),vars:/vars/.test(n)}:{funcs:n,vars:n}}S=!1,pn.DEFMETHOD("print",function(e,n){var t=this;function i(){e.prepend_comments(t),t.add_source_map(e),t._codegen(e),e.append_comments(t)}e.push_node(t),n||t.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),pn.DEFMETHOD("print_to_string",function(e){e=ci(e);return this.print(e),e.get()}),X(pn,Qe),X(Nn,K),X(Pn,K),X(Dt,fe),X(vt,function(e){e=e.parent();return(e instanceof ft||e instanceof lt)&&e.expression===this}),X(ut,function(e){e=e.parent();return e instanceof xt||e instanceof qn&&e.value===this||e instanceof wt||e instanceof gt||e instanceof ft||e instanceof bt||e instanceof St||e instanceof Ot||e instanceof lt&&e.expression===this||e instanceof ht||e instanceof vt||e instanceof st}),X(gt,function(e){var n=e.parent();if(n instanceof wt)return!0;if(n instanceof gt){var t=n.operator,e=oi[t],t=this.operator,t=oi[t];return t<e||e==t&&this===n.right}return n instanceof ft||n instanceof lt?n.expression===this:n instanceof vt||void 0}),X(lt,function(e){var n=this,e=e.parent();if(e instanceof ct&&e.expression===n){for(;n=n.expression,n instanceof lt;);return"Call"==n.TYPE}}),X(ft,function(e){var n=e.parent();if(n instanceof ct)return n.expression===this;if(e.option("webkit")){e=e.parent(1);return this.expression instanceof Pn&&n instanceof lt&&n.expression===this&&e instanceof yt&&e.left===n}}),X(ct,function(e){if(Ee(this,e))return!1;e=e.parent();return e instanceof ft?e.expression===this:e instanceof lt}),X(Lt,function(e){var n=e.parent();if(n instanceof lt&&n.expression===this){n=this.value;return n<0||e.option("galio")&&/^0/.test(Se(n))}}),X(qn,function(e){return ce(this,e)}),X(yt,function(e){return!!ce(this,e)||(e.option("v8")?this.left instanceof kt:this.left instanceof Tt?fe(e):void 0)}),X(bt,function(e){return ce(this,e)}),X(wt,function(e){e=e.parent();return e instanceof ft||e instanceof lt?e.expression===this:void 0}),G(vn,function(e){var n=this.quote,t=this.value;switch(e.option("quote_style")){case 0:case 2:-1==t.indexOf('"')&&(n='"');break;case 1:-1==t.indexOf("'")&&(n="'")}e.print(n+t+n),e.semicolon()}),G(hn,function(e){e.print("debugger"),e.semicolon()}),G(dn,function(e){this.body.print(e),e.semicolon()}),G($n,function(e){ue(this.body,!0,e,!0),e.print("")}),G(xn,function(e){this.label.print(e),e.colon(),this.body.print(e)}),G(_n,function(e){this.body.print(e),e.semicolon()}),G(wn,function(e){pe(this,e)}),G(mn,function(e){e.semicolon()}),G(Sn,function(e){var n=this;e.print("do"),e.space(),Te(n.body,e),e.space(),e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.semicolon()}),G(Tn,function(e){var n=this;e.print("while"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),ke(n.body,e)}),G(Dn,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init?(n.init instanceof it?n.init.print(e):ge(n.init,e,!0),e.print(";"),e.space()):e.print(";"),n.condition?(n.condition.print(e),e.print(";"),e.space()):e.print(";"),n.step&&n.step.print(e)}),e.space(),ke(n.body,e)}),G(On,function(e){var n=this;e.print("for"),e.space(),e.with_parens(function(){n.init.print(e),e.space(),e.print("in"),e.space(),n.object.print(e)}),e.space(),ke(n.body,e)}),G(An,function(e){var n=this;e.print("with"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),ke(n.body,e)}),G(qn,function(t){var e=this;1==e.argnames.length&&e.argnames[0]instanceof Nt?e.argnames[0].print(t):t.with_parens(function(){e.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)})}),t.space(),t.print("=>"),t.space(),e.value?e.value.print(t):pe(e,t,!0)}),G(Mn,function(e){e.print("function"),de(this,e)}),G(In,he),G(Nn,he),G(Yn,ve("return","value")),G(Ln,ve("throw","value")),G(Wn,ve("break","label")),G(Jn,ve("continue","label")),G(Gn,function(e){var n=this;e.print("if"),e.space(),e.with_parens(function(){n.condition.print(e)}),e.space(),n.alternative?(function(e,n){var t=e.body;if(n.option("braces")&&!(t instanceof rt||t instanceof ot)||n.option("ie8")&&t instanceof Sn)return Te(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Gn){if(!t.alternative)return Te(e.body,n);t=t.alternative}else{if(!(t instanceof s))break;t=t.body}ke(e.body,n)}(n,e),e.space(),e.print("else"),e.space(),n.alternative instanceof Gn?n.alternative.print(e):ke(n.alternative,e)):ke(n.body,e)}),G(Xn,function(t){var e=this;t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?le(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),G(Qn,function(e){e.print("default:"),me(this,e)}),G(Zn,function(e){e.print("case"),e.space(),this.expression.print(e),e.print(":"),me(this,e)}),G(et,function(e){var n=this;e.print("try"),e.space(),pe(n,e),n.bcatch&&(e.space(),n.bcatch.print(e)),n.bfinally&&(e.space(),n.bfinally.print(e))}),G(nt,function(e){var n=this;e.print("catch"),n.argname&&(e.space(),e.with_parens(function(){n.argname.print(e)})),e.space(),pe(n,e)}),G(tt,function(e){e.print("finally"),e.space(),pe(this,e)}),G(rt,_e("const")),G(ot,_e("let")),G(at,_e("var")),G(st,function(e){var n;this.name.print(e),this.value&&(e.space(),e.print("="),e.space(),n=(n=e.parent(1))instanceof Dn||n instanceof On,ge(this.value,e,n))}),G(ft,function(e){this.expression.print(e),be(this,e)}),G(ct,function(e){e.print("new"),e.space(),this.expression.print(e),Ee(this,e)&&be(this,e)}),G(ut,function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),G(pt,function(e){var n=this.expression;n.print(e);var t=this.property;e.option("ie8")&&u[t]?(e.print("["),e.add_mapping(this.end),e.print_string(t),e.print("]")):(n instanceof Lt&&0<=n.value&&(/[xa-f.)]/i.test(e.last())||e.print(".")),e.print("."),e.add_mapping(this.end),e.print_name(t))}),G(dt,function(e){this.expression.print(e),e.print("["),this.property.print(e),e.print("]")}),G(ht,function(e){e.print("..."),this.expression.print(e)}),G(mt,function(e){var n=this.operator,t=this.expression;e.print(n),(/^[a-z]/i.test(n)||/[+-]$/.test(n)&&t instanceof mt&&/^[+-]/.test(t.operator))&&e.space(),t.print(e)}),G(_t,function(e){this.expression.print(e),e.print(this.operator)}),G(gt,function(e){this.left.print(e),e.space(),e.print(this.operator),e.space(),this.right.print(e)}),G(bt,function(e){this.condition.print(e),e.space(),e.print("?"),e.space(),this.consequent.print(e),e.space(),e.colon(),this.alternative.print(e)}),G(wt,function(e){e.print("await"),e.space(),this.expression.print(e)}),G(xt,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof Xt&&t.comma()}),t.space()}:Ke)}),G(Et,function(t){var e=this.elements,i=e.length;t.with_square(0<i?function(){t.space(),e.forEach(function(e,n){n&&t.comma(),e.print(t),n===i-1&&e instanceof Xt&&t.comma()}),t.space()}:Ke)}),G(St,we),G(Tt,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):le(this,t)}),G(Dt,function(t){var e=this.properties;0<e.length?t.with_block(function(){e.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):le(this,t)}),G(At,we),G($t,xe("get")),G(zt,xe("set")),G(Mt,function(e){var n=this.definition();e.print_name(n&&n.mangled_name||this.name)}),G(Xt,Ke),G(Ut,function(e){e.print("this")}),G(Bt,function(e){e.print(this.value)}),G(Yt,function(e){e.print_string(this.value,this.quote)}),G(Lt,function(e){var n=this.start;S&&n&&null!=n.raw?e.print(n.raw):e.print(Se(this.value))}),G(Vt,function(e){var n=this.value,t=n.toString(),i=t.lastIndexOf("/");n.raw_source?t="/"+n.raw_source+t.slice(i):1==i?t="/(?:)"+t.slice(i):t.indexOf("/",1)<i&&(t="/"+t.slice(1,i).replace(/\\\\|[^/]?\//g,function(e){return"\\"==e[0]?e:e.slice(0,-1)+"\\/"})+t.slice(i)),e.print(e.to_utf8(t).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(e){switch(e[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e}}).replace(/[\n\r\u2028\u2029]/g,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}));t=e.parent();t instanceof gt&&/^in/.test(t.operator)&&t.left===this&&e.print(" ")}),De([pn,xn],Ke),De([xt,wn,nt,Bt,hn,it,kt,tt,Un,Mn,ct,Dt,s,Mt,Xn,Kn,et],function(e){e.add_mapping(this.start)}),De([St,Ot],function(e){"string"==typeof this.key&&e.add_mapping(this.start,this.key)}),t(ui.prototype=new si,{option:function(e){return this.options[e]},exposed:function(e){if(e.undeclared)return!0;if(!(e.global||e.scope.resolve()instanceof $n))return!1;var n=this.toplevel;return!fn(e.orig,function(e){return n[e instanceof Pt?"funcs":"vars"]})},compress:function(e){e=e.resolve_defines(this),this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new ni(function(){a++})),pn.info("pass {pass}: last_count: {min_count}, count: {count}",{pass:o,min_count:t,count:a}),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},before:function(e,n,t){if(e._squeezed)return e;var i=e instanceof zn;i&&(e.hoist_properties(this),e.hoist_declarations(this),e.process_boolean_returns(this)),n(e,this),n(e,this);var r=e.optimize(this);return!i||r!==e||this.has_directive("use asm")||r.pinned()||(r.merge_variables(this),r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(e){function l(e,n){var t,i=n.getProperty();if(!(i instanceof pn)){if(e instanceof xt){n=e.elements;if("length"==i)return k(n.length,e);"number"==typeof i&&i in n&&(t=n[i])}else if(e instanceof Mn){if("length"==i)return e.length_read=!0,k(e.argnames.length,e)}else if(e instanceof Dt){i=""+i;for(var r=e.properties,o=r.length;0<=--o;){if(!(r[o]instanceof At))return;t||r[o].key!==i||(t=r[o].value)}}return t instanceof Rt&&t.fixed_value()||t}}function Q(e,n,t,i,r,o,a){var s=n.parent(r);if(!(e.option("unsafe")&&s instanceof pt&&(c=i,f=s.property,c instanceof Qt?G.Boolean[f]:c instanceof Lt?G.Number[f]:c instanceof Yt?G.String[f]:"valueOf"!=f&&(c instanceof xt?G.Array[f]:c instanceof Mn?G.Function[f]:c instanceof Dt?G.Object[f]:c instanceof Vt&&(G.RegExp[f]&&!c.value.global))))){var f,c=se(t,s);if(c)return c;if(s instanceof xt)return Q(e,n,s,s,r+1);if(s instanceof ft)return!o&&s.expression===t&&!s.is_expr_pure(e)&&(!Fn(i)||!(s instanceof ct)&&i.contains_this());if(s instanceof On)return s.init===t;if(s instanceof At){if(s.value!==t)return;c=n.parent(r+1);return Q(e,n,c,c,r+2)}if(s instanceof lt&&s.expression===t){i=l(i,s);return(!o||a)&&Q(e,n,s,i,r+1)}}}function Z(e){if("arguments"!=e.name)return!1;e=e.orig;return 1==e.length&&e[0]instanceof Nt}function b(e,n){do{if(e===n)return;if(n instanceof zn)return 1}while(n=n.parent_scope)}function ee(e,n){var t=e.definition().orig;return(!e.in_arg||!(t[0]instanceof Nt||t[1]instanceof Nt))&&fn(t,function(e){return!(e instanceof Ft||e instanceof qt||n&&e instanceof Ht)})}function o(e,n,t){t.assignments=0,t.bool_fn=0,t.cross_loop=!1,t.direct_access=!1,t.escaped=[],t.fixed=!t.const_redefs&&!t.scope.pinned()&&!n.exposed(t)&&!(Fn(t.init)&&t.init!==t.scope)&&t.init,Hn(t.fixed)&&!fn(t.references,function(e){var n=e.scope.resolve();do{if(t.scope===n)return 1}while(Fn(n)&&(n=n.parent_scope.resolve()))})&&(e.defun_ids[t.id]=!1),t.recursive_refs=0,t.references=[],t.should_replace=void 0,t.single_use=void 0}function f(n,t,e){e.variables.each(function(e){o(n,t,e),null===e.fixed?(e.safe_ids=n.safe_ids,d(n,e)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,d(n,e))}),e.may_call_this=function(){e.may_call_this=Ke,e.contains_this()&&e.functions.each(function(e){!Hn(e.init)||e.id in n.defun_ids||(n.defun_ids[e.id]=!1)})},e.uses_arguments&&e.each_argname(function(e){e.definition().last_ref=!1}),t.option("ie8")&&e.variables.each(function(e){var n=e.orig[0].definition();n!==e&&(n.fixed=!1)})}function s(n,t){if(t.id in n.defun_ids){var e=n.defun_ids[t.id];if(e){var i=n.defun_visited[t.id];if(e===n.safe_ids){if(!i)return t.fixed}else i?t.init.enclosed.forEach(function(e){t.init.variables.get(e.name)!==e&&(v(n,e)||(e.fixed=!1))}):n.defun_ids[t.id]=!1}}else{if(!n.in_loop)return n.defun_ids[t.id]=n.safe_ids,t.fixed;n.defun_ids[t.id]=!1}}function c(n,e){e.functions.each(function(e){Hn(e.init)&&!n.defun_visited[e.id]&&(n.defun_ids[e.id]=n.safe_ids,e.init.walk(n))})}function u(e){e.safe_ids=Object.create(e.safe_ids)}function p(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function d(e,n){e.safe_ids[n.id]={}}function h(e,n){e.references.push(n),!1!==e.last_ref&&(e.last_ref=n)}function v(e,n){if("m"==n.single_use)return!1;var t=e.safe_ids[n.id];return t?(un(e.safe_ids,n.id)||(t.read=!(!t.read||t.read===e.safe_ids)||e.safe_ids),null==n.fixed?!Z(n)&&((!n.global||"arguments"!=n.name)&&(e.loop_ids[n.id]=null,n.fixed=ne(Gt,n.orig[0]),!0)):!t.assign||t.assign===e.safe_ids):Hn(n.fixed)}function m(e,n,t){if(t||fn(n.orig,function(e){return!(e instanceof Ft)})){if(void 0===n.fixed)return t||fn(n.orig,function(e){return!(e instanceof qt)});if(null===n.fixed&&n.safe_ids)return n.safe_ids[n.id]=!1,delete n.safe_ids,1;if(!1!==n.fixed){t=e.safe_ids[n.id];if(!un(e.safe_ids,n.id)){if(!t)return;if(t.read&&n.scope!==e.find_parent(zn))return;t.assign=!(!t.assign||t.assign===e.safe_ids)||e.safe_ids}if(null!=n.fixed&&t.read){if(t.read!==e.safe_ids)return;if(e.loop_ids[n.id]!==e.in_loop)return}return v(e,n)&&fn(n.orig,function(e){return!(e instanceof Ht)})}}}function _(e,n){var t=ne(Rt,e,e);return t.fixed=n||ne(Gt,e),t}function g(e,n,t,i,r,o,a){var s,f,c=e.parent(o);if(!r||!r.is_constant()){if(s=n,f=i,(u=c)instanceof yt?"="==u.operator&&u.right===f:u instanceof ft?u.expression!==f||u instanceof ct:u instanceof Bn?u.value===f&&f.scope!==s.scope:u instanceof st&&u.value===f)return n.escaped.push(c),!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped.depth||n.escaped.depth>a)&&(n.escaped.depth=a));if(u=i,(f=c)instanceof xt||(f instanceof gt?ae[f.operator]:f instanceof bt?f.condition!==u:f instanceof ut&&f.tail_node()===u))g(e,n,t,c,c,o+1,a);else if(c instanceof At&&c.value===i){var u=e.parent(o+1);g(e,n,t,u,u,o+2,a)}else if(c instanceof lt&&c.expression===i&&(g(e,n,t,c,r=l(r,c),o+1,a+1),r))return;0<o||c instanceof ft&&c.expression===i||c instanceof ut&&c.tail_node()!==i||c instanceof _n||c instanceof vt&&!fi[c.operator]||(n.direct_access=!0)}}function y(e){var n;e instanceof dt&&((n=e.expression)instanceof Rt&&(Z(n=n.definition())&&((e=e.property).is_constant()&&(e=e.value),(e instanceof pn||/^[1-9]*[0-9]$/.test(e))&&(n.reassigned=!0,(e instanceof pn?n.scope.argnames:[n.scope.argnames[e]]).forEach(function(e){e instanceof Nt&&(e.definition().fixed=!1)})))))}function w(o,e,a,n){var s=new ni(function(i){if(i instanceof Et){x(i);var r=a;return i.elements.forEach(function(e,n){return e instanceof Xt?x(e):(a=function(){return ne(dt,e,{expression:r(),property:ne(Lt,e,{value:n})})},void e.walk(s))}),a=r,!0}if(i instanceof Tt){x(i);r=a;return i.properties.forEach(function(t){x(t),t.key instanceof pn&&(u(o),t.key.walk(o),p(o)),a=function(){var e=t.key,n=dt;return"string"==typeof e&&(ti(e)?n=pt:e=k(e,t)),ne(n,t,{expression:r(),property:e})},t.value.walk(s)}),a=r,!0}return n(i,a,function(){for(var e=o.stack.length,n=0,t=s.stack.length-1;n<t;n++)o.stack.push(s.stack[n]);i.walk(o),o.stack.length=e}),!0});e.walk(s)}function n(e,n,t){var i=this.name.definition().id;return e.defun_visited[i]||e.defun_ids[i]!==e.safe_ids||(e.defun_visited[i]=!0,this.inlined=!1,u(e),f(e,t,this),n(),p(e),c(e,this)),!0}function a(r,e,n){var o=this;o.inlined=!1;var a=r.parent(),t=o instanceof Nn,i=!1;o.walk(new ni(function(e){return t?i=!0:e instanceof Yn?t=!0:e instanceof zn&&e!==o||void 0})),i&&u(r),f(r,n,o);var s=!o.uses_arguments||r.has_directive("use strict");o.argnames.forEach(function(t,i){var n=a.args[i];w(r,t,function(){var e=o.argnames.indexOf(t);return(e<0?n:a.args[e])||ne(Gt,a)},function(e,n){e=e.definition();s&&void 0===e.fixed?(d(r,e),r.loop_ids[e.id]=r.in_loop,a.args[i],e.fixed=n,e.fixed.assigns=[t]):e.fixed=!1})}),o instanceof qn&&o.value?o.value.walk(r):bn(o,r);n=r.safe_ids;return p(r),c(r,o),i||(r.safe_ids=n),!0}function x(e){e._squeezed=!1,e._optimized=!1,delete e.fixed,e instanceof zn&&delete e._var_names}function t(e,n){e=ne(e,this,this);return n(e,this),e}function i(e){return e(this)}function C(e){for(var n,t=0;n=e.parent(t++);)if(n.variables)return n}function ne(e,n,t){return t=t||{},n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function R(e,n){return 1==n.length?n[0]:ne(ut,e,{expressions:n.reduce(E,[])})}function k(e,n){switch(typeof e){case"string":return ne(Yt,n,{value:e});case"number":return isNaN(e)?ne(Jt,n):isFinite(e)?1/e<0?ne(mt,n,{operator:"-",expression:ne(Lt,n,{value:-e})}):ne(Lt,n,{value:e}):e<0?ne(mt,n,{operator:"-",expression:ne(Kt,n)}):ne(Kt,n);case"boolean":return ne(e?ei:Zt,n);case"undefined":return ne(Gt,n);default:if(null===e)return ne(Wt,n,{value:null});if(e instanceof RegExp)return ne(Vt,n,{value:e});throw new Error(on("Can't handle constant of type: {type}",{type:typeof e}))}}function N(e,n){return n instanceof lt||H(n)&&"eval"==n.name}function te(e,n,t,i){var r=!1;return"Call"==n.TYPE?r=n.expression===t&&N(0,i):n instanceof mt&&(r="delete"==n.operator||"typeof"==n.operator&&H(i)),r?R(t,[ne(Lt,t,{value:0}),i]):i}function E(e,n){return n instanceof ut?e.push.apply(e,n.expressions):e.push(n),e}function S(e){if(null===e)return[];if(e instanceof wn)return fn(e.body,function(e){return!(e instanceof rt||e instanceof ot)})?e.body:[e];if(e instanceof mn)return[];if(e instanceof dn)return[e];throw new Error("Can't convert thing to statement array")}function U(e){return null===e||(e instanceof mn||e instanceof wn&&0==e.body.length)}function T(e){return fn(e.body,function(e){return U(e)||e instanceof Rn||e instanceof at&&fn(e.definitions,function(e){return!e.value})})}function D(e){return e instanceof kn&&e.body instanceof wn?e.body:e}function ie(e){for(;e instanceof lt;)e=e.expression;return e}function P(e){if("Call"!=e.TYPE)return!1;e=e.expression;return e instanceof Nn||e instanceof Pn||P(e)}function H(e){return e instanceof Rt&&e.definition().undeclared}function re(e){return e[e instanceof yt?"right":"value"]}e(pn,function(e,n){return e}),pn.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),zn.DEFMETHOD("process_expression",function(t,i){var r=this,o=new si(function(e){return t&&e instanceof _n?ne(Yn,e,{value:e.body}):!t&&e instanceof Yn?i?i(e):ne(_n,e,{body:e.value||ne(mt,e,{operator:"void",expression:ne(Lt,e,{value:0})})}):(e instanceof Mn&&e!==r||(e instanceof yn?0<=(n=e.body.length-1)&&(e.body[n]=e.body[n].transform(o)):e instanceof Gn?(e.body=e.body.transform(o),e.alternative&&(e.alternative=e.alternative.transform(o))):e instanceof An&&(e.body=e.body.transform(o))),e);var n});r.transform(o)}),(J=function(e,n){e.DEFMETHOD("reduce_vars",n)})(pn,Ke),J(yt,function(r,e,o){var a=this,s=a.left;if("="==a.operator&&s.equivalent_to(a.right)&&!s.has_side_effects(o))a.right.walk(r),function e(n){{var t;n instanceof pt?e(n.expression):n instanceof dt?(e(n.expression),n.property.walk(r)):n instanceof Rt?(h(t=n.definition(),n),n.fixed=t.fixed):n.walk(r)}}(s),a.__drop=!0;else{if(!(s instanceof kt||s instanceof Rt))return void y(s);if("="==a.operator)a.right.walk(r),w(r,s,function(){return a.right},function(e,n,t){if(!(e instanceof Rt))return y(e),void t();var i=e.definition();i.assignments++,!Q(o,r,a,a.right,0)&&ee(e)&&m(r,i)?(h(i,e),d(r,i),i.single_use&&s instanceof kt&&(i.single_use=!1),r.loop_ids[i.id]=r.in_loop,g(r,i,e.scope,a,a.right,0,1),e.fixed=i.fixed=n,e.fixed.assigns=[a]):(t(),i.fixed=!1)});else{var n=s.definition();n.assignments++;var t=n.fixed;if(Q(o,r,a,a,0))return void(n.fixed=!1);var i=v(r,n);a.right.walk(r),i&&m(r,n)?(h(n,s),d(r,n),n.single_use&&(n.single_use=!1),s.fixed=n.fixed=function(){return ne(gt,a,{operator:a.operator.slice(0,-1),left:_(s,t),right:a.right})},s.fixed.assigns=t&&t.assigns?t.assigns.slice():[],s.fixed.assigns.push(a)):(s.walk(r),n.fixed=!1)}}return!0}),J(In,n),J(gt,function(e){if(ae[this.operator])return this.left.walk(e),u(e),this.right.walk(e),p(e),!0}),J(gn,function(n,e,t){this.variables.each(function(e){o(n,t,e)})}),J(ft,function(n,e){n.find_parent(zn).may_call_this();var t=this.expression;if(Fn(t)){var i=!t.name;return this.args.forEach(function(e){e.walk(n),e instanceof ht&&(i=!1)}),i&&(t.reduce_vars=a),t.walk(n),i&&delete t.reduce_vars,!0}if(t instanceof Rt){var r=t.definition();if("Call"==this.TYPE&&n.in_boolean_context()&&r.bool_fn++,Hn(r.fixed)){r=s(n,r);if(r)return e(),r.walk(n),!0}}else"Call"==this.TYPE&&t instanceof yt&&"="==t.operator&&t.left instanceof Rt&&n.in_boolean_context()&&t.left.definition().bool_fn++}),J(bt,function(e){return this.condition.walk(e),u(e),this.consequent.walk(e),p(e),u(e),this.alternative.walk(e),p(e),!0}),J(Rn,n),J(Sn,function(e){var n=e.in_loop;return e.in_loop=this,u(e),this.body.walk(e),De(this,e.parent())&&(p(e),u(e)),this.condition.walk(e),p(e),e.in_loop=n,!0}),J(Dn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.init&&this.init.walk(n);var i=n.in_loop;return n.in_loop=this,u(n),this.condition&&this.condition.walk(n),this.body.walk(n),this.step&&(De(this,n.parent())&&(p(n),u(n)),this.step.walk(n)),p(n),n.in_loop=i,!0}),J(On,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.object.walk(n);var i=n.in_loop;n.in_loop=this,u(n);var r=this.init;return r.walk(n),r instanceof it?r.definitions[0].name.match_symbol(function(e){e instanceof jt&&((e=e.definition()).assignments++,e.fixed=!1)},!0):r instanceof Rt&&!r.is_immutable()&&((r=r.definition()).assignments++,r.fixed=!1),this.body.walk(n),p(n),n.in_loop=i,!0}),J(Gn,function(e){return this.condition.walk(e),u(e),this.body.walk(e),p(e),this.alternative&&(u(e),this.alternative.walk(e),p(e)),!0}),J(xn,function(e){return u(e),this.body.walk(e),p(e),!0}),J(Mn,function(e,n,t){var i=this;return i.inlined=!1,u(e),f(e,t,i),n(),p(e),i.name&&g(e,i.name.definition(),i,i.name,i,0,1),c(e,i),!0}),J(Xn,function(n,e,t){this.variables.each(function(e){o(n,t,e)}),this.expression.walk(n);var i=!0;return this.body.forEach(function(e){e instanceof Qn||(e.expression.walk(n),i&&(i=!1,u(n)))}),i||p(n),bn(this,n),!0}),J(Kn,function(e){return u(e),bn(this,e),p(e),!0}),J(It,function(){this.definition().fixed=!1}),J(Rt,function(e,n,t){var i,r,o,a=this.definition();h(a,this),1==a.references.length&&!a.fixed&&a.orig[0]instanceof Pt&&(e.loop_ids[a.id]=e.in_loop),!1===a.fixed?(r=a.redefined())&&b(a.scope,this.scope)&&(r.single_use=!1):void 0!==a.fixed&&v(e,a)?a.fixed&&(this.in_arg&&a.orig[0]instanceof Ht&&(this.fixed=a.scope),o=this.fixed_value(),(i=Be(e,a))?a.recursive_refs++:o&&(r=a,t.option("unused")&&!r.scope.pinned()&&!1!==r.single_use&&r.references.length-r.recursive_refs==1)?(a.in_loop=e.loop_ids[a.id]!==e.in_loop,a.single_use=o instanceof Mn&&!o.pinned()&&(!a.in_loop||e.parent()instanceof ft)||!a.in_loop&&a.scope===this.scope.resolve()&&o.is_constant_expression()):a.single_use=!1,Q(t,e,this,o,0,!!(t=o)&&(t.is_constant()||t instanceof Mn||t instanceof Ut),i)&&(a.single_use?a.single_use="m":a.fixed=!1),a.fixed&&e.loop_ids[a.id]!==e.in_loop&&(a.cross_loop=!0),g(e,a,this.scope,this,o,0,1)):a.fixed=!1,this.fixed||(this.fixed=a.fixed),!Hn(a.fixed)||(o=e.parent())instanceof ft&&o.expression===this||(a=s(e,a))&&a.walk(e)}),J($n,function(n,e,t){return this.globals.each(function(e){o(n,t,e)}),u(n),f(n,t,this),e(),p(n),c(n,this),!0}),J(et,function(n,e,t){return this.variables.each(function(e){o(n,t,e)}),u(n),bn(this,n),p(n),this.bcatch&&(u(n),this.bcatch.walk(n),p(n)),this.bfinally&&this.bfinally.walk(n),!0}),J(vt,function(e,n){var t=this;if(ri[t.operator]){var i=t.expression;if(i instanceof Rt){var r=i.definition();r.assignments++;var o=r.fixed;return v(e,r)&&m(e,r)?(h(r,i),d(e,r),r.single_use&&(r.single_use=!1),r.fixed=function(){return ne(gt,t,{operator:t.operator.slice(0,-1),left:ne(mt,t,{operator:"+",expression:_(i,o)}),right:ne(Lt,t,{value:1})})},r.fixed.assigns=o&&o.assigns?o.assigns.slice():[],r.fixed.assigns.push(t),t instanceof mt?i.fixed=r.fixed:(i.fixed=function(){return ne(mt,t,{operator:"+",expression:_(i,o)})},i.fixed.assigns=o&&o.assigns)):(i.walk(e),r.fixed=!1),!0}y(i)}}),J(st,function(i){var r=this;if(r.value)return r.value.walk(i),w(i,r.name,function(){return r.value},function(e,n){var t=e.definition();m(i,t,!0)?(d(i,t),i.loop_ids[t.id]=i.in_loop,t.fixed=n,t.fixed.assigns=[r],(e instanceof Ft&&t.redefined()||!ee(e)&&!ze(t))&&(t.single_use=!1)):t.fixed=!1}),!0}),J(Tn,function(e,n){var t=e.in_loop;return e.in_loop=this,u(e),n(),p(e),e.in_loop=t,!0}),$n.DEFMETHOD("reset_opt_flags",function(t){var i=new ni(t.option("reduce_vars")?function(e,n){return x(e),e.reduce_vars(i,n,t)}:x);i.defun_ids=Object.create(null),i.defun_visited=Object.create(null),i.in_loop=null,i.loop_ids=Object.create(null),i.safe_ids=Object.create(null),this.walk(i)}),Mt.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return e&&(this.fixed&&(e=this.fixed),e instanceof pn?e:e())}),Rt.DEFMETHOD("is_immutable",function(){var e=this.definition();if(1!=e.orig.length)return!1;var n=e.orig[0];return n instanceof Ht&&e.scope.name===n}),pn.DEFMETHOD("convert_symbol",Ke),kt.DEFMETHOD("convert_symbol",function(t,i){return this.transform(new si(function(e,n){return e instanceof kt?(n(e=e.clone(),this),e):e instanceof St?((e=e.clone()).value=e.value.transform(this),e):e.convert_symbol(t,i)}))}),jt.DEFMETHOD("convert_symbol",t),Rt.DEFMETHOD("convert_symbol",t),kt.DEFMETHOD("mark_symbol",function(n,t){var i=new ni(function(e){return e instanceof St?(e.key instanceof pn&&e.key.walk(t),e.value.walk(i),!0):n(e)});this.walk(i)}),jt.DEFMETHOD("mark_symbol",i),Rt.DEFMETHOD("mark_symbol",i),pn.DEFMETHOD("match_symbol",function(e){return e(this)}),kt.DEFMETHOD("match_symbol",function(n,t){var i=!1,r=new ni(function(e){return!!i||(e instanceof St?!t&&e.key instanceof pn?i=!0:(e.value.walk(r),!0):n(e)?i=!0:void 0)});return this.walk(r),i});var r=sn("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");Rt.DEFMETHOD("is_declared",function(e){return this.defined||!this.definition().undeclared||e.option("unsafe")&&r[this.name]});var oe=sn("Infinity NaN undefined");function O(e){return fn(e.definitions,function(e){return!e.value})}function A(e){return e instanceof Rn||e instanceof at&&O(e)}function z(e,c){var J,G,X;!function(){var e=c.self(),n=0;do{if(e instanceof nt)c.parent(n).bfinally||n++;else if(e instanceof tt)n++;else if(e instanceof kn)J=!0;else{if(e instanceof zn){X=e;break}e instanceof et&&(G=G||e)}}while(e=c.parent(n++))}();for(var K,n=10;K=!1,function e(n){var t=[];for(var i=0;i<n.length;){var r=n[i];if(r instanceof wn&&fn(r.body,function(e){return!(e instanceof rt||e instanceof ot)}))K=!0,e(r.body),[].splice.apply(n,[i,1].concat(r.body)),i+=r.body.length;else{if(r instanceof vn){if(Ge(r.value,t)){K=!0,n.splice(i,1);continue}t.push(r.value)}r instanceof mn?(K=!0,n.splice(i,1)):i++}}}(e),c.option("dead_code")&&function(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s,f=n[r];if(f instanceof Vn?(s=t.loopcontrol_target(f),f instanceof Wn&&!(s instanceof kn)&&D(s)===i||f instanceof Jn&&D(s)===i?f.label&&an(f.label.thedef.references,f):n[o++]=f):n[o++]=f,ve(f)){e=n.slice(r+1);break}}n.length=o,K=o!=a,e&&e.forEach(function(e){$(t,e,n)})}(e,c),c.option("if_return")&&function(t,r){for(var o=r.self(),e=r.parent(),i=h(function(e){return e instanceof Mn}),n=i&&e&&"Call"==e.TYPE,a=function(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof Gn&&i.body instanceof Yn&&1<++n)return!0}return!1}(t),s=t.length;0<=--s;){var f=t[s],c=b(s),u=t[c];if(i&&!u&&f instanceof Yn){if(!f.value){K=!0,t.splice(s,1);continue}if(f.value instanceof mt&&"void"==f.value.operator){K=!0,t[s]=ne(_n,f,{body:f.value.expression});continue}}if(f instanceof Gn){var l=ve(f.body);if(m(l)){l.label&&an(l.label.thedef.references,l),K=!0,(f=f.clone()).condition=f.condition.negate(r);var p=g(f.body,l);f.body=ne(wn,f,{body:S(f.alternative).concat(_())}),f.alternative=ne(wn,f,{body:p}),t[s]=f,t[s]=f.transform(r);continue}if(l&&!f.alternative&&f.body instanceof wn&&u instanceof Un){var d=f.condition.negate(r);if(d.print_to_string().length<=f.condition.print_to_string().length){K=!0,(f=f.clone()).condition=d,t[c]=f.body,f.body=u,t[s]=f,t[s]=f.transform(r);continue}}var d=ve(f.alternative);if(m(d)){d.label&&an(d.label.thedef.references,d),K=!0,(f=f.clone()).body=ne(wn,f.body,{body:S(f.body).concat(_())});p=g(f.alternative,d);f.alternative=ne(wn,f.alternative,{body:p}),t[s]=f,t[s]=f.transform(r);continue}r.option("typeofs")&&(l&&!d&&Oe(f.condition,null,ne(wn,o,{body:t.slice(s+1)})),!l&&d&&Oe(f.condition,ne(wn,o,{body:t.slice(s+1)})))}f instanceof Gn&&f.body instanceof Yn&&(l=f.body.value,d=f.body.in_bool||u instanceof Yn&&u.in_bool,l||f.alternative||!(i&&!u||u instanceof Yn&&!u.value)?!f.alternative&&u instanceof Yn?(K=!0,(f=f.clone()).alternative=u,t.splice(s,1,f.transform(r)),t.splice(c,1)):f.alternative||u||!i||!(d||l&&a)?(l=t[function(e){for(var n=e;0<=--n&&A(t[n]););return n}(s)],r.option("sequences")&&i&&!f.alternative&&(!l&&n||l instanceof Gn&&l.body instanceof Yn)&&b(c)==t.length&&u instanceof _n&&(K=!0,(f=f.clone()).alternative=ne(wn,u,{body:[u,ne(Yn,u,{value:null})]}),t.splice(s,1,f.transform(r)),t.splice(c,1))):(K=!0,(f=f.clone()).alternative=ne(Yn,f,{value:null}),t.splice(s,1,f.transform(r))):(K=!0,t[s]=ne(_n,f.condition,{body:f.condition})))}function h(e){var n,t=o,i=0;do{do{if(e(t))return!0}while((t=r.parent(i++))instanceof Gn&&(n=t))}while((t instanceof wn||t instanceof zn)&&function(e,n){var t=e.lastIndexOf(n);if(!(t<0)){for(;++t<e.length;)if(!A(e[t]))return;return 1}}(t.body,n))}function v(n){return h(function(e){return e===n})}function m(e){if(e instanceof Yn)return i&&(!(n=e.value)||n instanceof mt&&"void"==n.operator);if(e instanceof Vn){var n=r.loopcontrol_target(e);return e instanceof Jn?v(D(n)):!(n instanceof kn)&&v(n)}}function _(){var e=t.slice(s+1);return t.length=s+1,e.filter(function(e){return!(e instanceof Rn)||(t.push(e),!1)})}function g(e,n){for(var t,e=S(e),i=e;(t=i[i.length-1])!==n;)i=t.body;return i.pop(),n.value&&e.push(ne(_n,n.value,{body:n.value.expression})),e}function b(e){for(var n=e+1;n<t.length&&A(t[n]);n++);return n}}(e,c),0<c.sequences_limit&&(function(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a,s=n[r];s instanceof _n?(t.length>=e.sequences_limit&&f(),a=s.body,0<t.length&&(a=a.drop_side_effect_free(e)),a&&E(t,a)):(A(s)||f(),n[i++]=s)}f(),(n.length=i)!=o&&(K=!0)}function f(){var e;t.length&&(e=R(t[0],t),n[i++]=ne(_n,e,{body:e}),t=[])}}(e,c),function(e,n){function t(e){r--,K=!0;var n=i.body;return R(n,[n,e])}for(var i,r=0,o=0;o<e.length;o++){var a,s=e[o];if(i&&(s instanceof Bn?s.value=t(s.value||ne(Gt,s)).transform(n):s instanceof Dn?s.init instanceof it||(a=!1,i.body.walk(new ni(function(e){return!!(a||e instanceof zn)||(e instanceof gt&&"in"==e.operator?a=!0:void 0)})),a||(s.init?s.init=t(s.init):(s.init=i.body,r--,K=!0))):s instanceof On?s.object=t(s.object):s instanceof Gn?s.condition=t(s.condition):(s instanceof Xn||s instanceof An)&&(s.expression=t(s.expression))),n.option("conditionals")&&s instanceof Gn){var f=[],c=p(s.body,f),u=p(s.alternative,f);if(!1!==c&&!1!==u&&0<f.length){var l=f.length;f.push(ne(Gn,s,{condition:s.condition,body:c||ne(mn,s.body),alternative:u})),f.unshift(r,1),[].splice.apply(e,f),o+=l,r+=l+1,K=!(i=null);continue}}e[r++]=s,i=s instanceof _n?s:null}e.length=r}(e,c)),c.option("join_vars")&&function(e){for(var r,n=0,t=-1;n<e.length;n++){var i,o,a=e[n],s=e[t];if(a instanceof it)s&&s.TYPE==a.TYPE?(s.definitions=s.definitions.concat(a.definitions),K=!0):r&&r.TYPE==a.TYPE&&O(a)?(r.definitions=r.definitions.concat(a.definitions),K=!0):(e[++t]=a)instanceof at&&(r=a);else{if(a instanceof Bn)a.value=f(a.value);else if(a instanceof Dn)if(o=u(s,a.init))K=!0,a.init=o.length?R(a.init,o):null;else{if(s instanceof at&&(!a.init||a.init.TYPE==s.TYPE)){a.init&&(s.definitions=s.definitions.concat(a.init.definitions)),r=a.init=s,e[t]=c(a),K=!0;continue}r&&a.init&&r.TYPE==a.init.TYPE&&O(a.init)?(r.definitions=r.definitions.concat(a.init.definitions),a.init=null,K=!0):a.init instanceof at&&(r=a.init)}else if(a instanceof On)r&&r.TYPE==a.init.TYPE&&(i=r.definitions.slice(),a.init=a.init.definitions[0].name.convert_symbol(Rt,function(e,n){i.push(ne(st,n,{name:n,value:null})),n.definition().references.push(e)}),r.definitions=i,K=!0),a.object=f(a.object);else if(a instanceof Gn)a.condition=f(a.condition);else if(a instanceof _n){if(o=u(s,a.body)){if(K=!0,!o.length)continue;a.body=R(a.body,o)}}else(a instanceof Xn||a instanceof An)&&(a.expression=f(a.expression));e[++t]=r?c(a):a}}function f(e){var n=u(s,e,1);if(!n)return e;K=!0;var t=e.tail_node();return n[n.length-1]!==t&&n.push(t.left),R(e,n)}function c(e){return e.transform(new si(function(e,n,t){if(e instanceof it){if(r===e)return e;if(r.TYPE!=e.TYPE)return e;var i=this.parent();return i instanceof On&&i.init===e?e:O(e)?(r.definitions=r.definitions.concat(e.definitions),K=!0,i instanceof Dn&&i.init===e?null:t?tn.skip:ne(mn,e)):e}return!(e instanceof zn)&&e instanceof dn?void 0:e}))}e.length=t+1}(e),c.option("collapse_vars")&&function(o,u){if(!X.pinned())for(var l,n,r=Object.create(null),p=[],a=Object.create(null),s=o.length,c=new si(function(e,n){if($)return e;if(!z)return e!==f[d]?e:++d<f.length?N(e,c):(z=!0,(m=(v?function e(n,t){var i=c.parent(t);if(i instanceof xt)return e(i,t+1);if(i instanceof yt)return k(i)||i.left.match_symbol(function(e){return e instanceof Rt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof gt){if(ae[i.operator]&&i.left!==n){for(;n=i,i=c.parent(++t),i instanceof gt&&i.operator==n.operator;);return n}return e(i,t+1)}if(i instanceof ft)return i;if(i instanceof Zn)return i.expression!==n?n:e(i,t+1);if(i instanceof bt)return i.condition!==n?n:e(i,t+1);if(i instanceof it)return R(i,t+1);if(i instanceof Sn)return n;if(i instanceof Bn)return R(i,t+1);if(i instanceof Dn)return i.init!==n&&i.condition!==n?n:e(i,t+1);if(i instanceof On)return i.init!==n?n:e(i,t+1);if(i instanceof Gn)return i.condition!==n?n:e(i,t+1);if(i instanceof Ot){var r=c.parent(t+1);return fn(r.properties,function(e){return e instanceof At})?e(r,t+2):r}if(i instanceof lt)return e(i,t+1);if(i instanceof ut)return(i.tail_node()===n?e:R)(i,t+1);if(i instanceof _n)return R(i,t+1);if(i instanceof ht)return e(i,t+1);if(i instanceof Xn)return i.expression!==n?n:e(i,t+1);if(i instanceof vt)return"delete"==i.operator?n:e(i,t+1);if(i instanceof st)return i.name.match_symbol(function(e){return e instanceof jt&&(g.name==e.name||v.name==e.name)})?n:e(i,t+1);if(i instanceof Tn)return i.condition!==n?n:e(i,t+1);return null}:function e(n,t){var i=c.parent(t);if(i instanceof xt)return n;if(i instanceof yt)return n;if(i instanceof wt)return n;if(i instanceof gt)return n;if(i instanceof ft)return n;if(i instanceof Zn)return n;if(i instanceof bt)return n;if(i instanceof it)return R(i,t+1);if(i instanceof Bn)return n;if(i instanceof Gn)return n;if(i instanceof kn)return n;if(i instanceof Ot)return n;if(i instanceof lt)return n;if(i instanceof ut)return(i.tail_node()===n?e:R)(i,t+1);if(i instanceof _n)return R(i,t+1);if(i instanceof ht)return n;if(i instanceof Xn)return n;if(i instanceof vt)return n;if(i instanceof st)return n;return null})(e,0))===e&&($=!0),e);var t=c.parent();if(function(e,n){if(e===O)return!0;if(n instanceof Dn)return e!==n.init;if(e instanceof yt)return"="!=e.operator&&g.equivalent_to(e.left);if(e instanceof ft)return g instanceof lt&&(!!g.equivalent_to(e.expression)&&!(O instanceof Pn&&!O.contains_this()));if(e instanceof hn)return!0;if(e instanceof Rn)return x&&g.name===e.name.name;if(e instanceof kt)return n instanceof yt;if(e instanceof St)return e.key instanceof pn;if(e instanceof En)return!0;if(e instanceof Vn)return!0;if(e instanceof Rt){if(e.is_declared(u)){if(e.fixed_value())return!1;if(ee(e))return!(n instanceof lt&&n.expression===e)&&Z(e.definition())}else if(n instanceof yt&&"="==n.operator&&n.left===e)return!1;return A?w=!1:!0}return e instanceof et||e instanceof An}(e,t))return $=!0,e;if(!_&&P(e,t)&&(_=t),e.single_use&&t instanceof st&&t.value===e)return e;if(!(e instanceof jt)&&(y&&g.equivalent_to(e)||w&&(i=w(e,this)))){if(!F||_&&(i||!D||!A))return i&&v||($=!0),e;if(se(e,t))return v&&!i&&(j=!0,M++),e;if(v)return i||M++,e;if(M++,K=$=!0,pn.info("Collapsing {node} [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col}),h instanceof _t)return g instanceof Rt&&(g.definition().fixed=!1),ne(mt,h,h);if(h instanceof st){var i=h.name.definition();return i.references.length-i.replaced!=1||u.exposed(i)?ne(yt,h,{operator:"=",left:ne(Rt,h.name,h.name),right:h.value}):(i.replaced++,te(0,t,e,h.value))}return h.write_only=!1,h}if((H(e,t)||k(e))&&(m=e)instanceof zn&&($=!0),e instanceof jn){t=F;return F=!1,n(e,c),F=t,e}return N(e,c)},function(e){$||(m===e&&($=!0),_===e&&(_=null))}),i=new si(function(e){if($)return e;if(!z){if(e!==f[d])return e;switch(d++,f.length-d){case 0:if(z=!0,j)return e;if(e instanceof st)return e;q.replaced++;var n=i.parent();return n instanceof ut&&n.tail_node()!==e?(v.replaced++,tn.skip):O;case 1:if(!j&&e.body===h)return z=!0,q.replaced++,v.replaced++,null;default:return}}if(e instanceof Rt&&e.name==q.name){if(--M||($=!0),se(e,i.parent()))return e;q.replaced++;var t=O.clone();return v.references.push(t),t}return e instanceof Qn||e instanceof zn?e:void 0},Y);0<=--s;){0==s&&u.option("unused")&&function(){var e,t=u.self();if(Fn(t)&&!t.name&&!t.uses_arguments&&!t.pinned()&&(e=u.parent())instanceof ft&&e.expression===t&&fn(e.args,function(e){return!(e instanceof ht)})){var i=u.has_directive("use strict");i&&!Ge(i,t.body)&&(i=!1);var r=t instanceof Nn?function(e){return e instanceof Mt&&"await"==e.name}:function(e){return e instanceof wt&&!o.find_parent(zn)},o=new ni(function(e){if(!c)return!0;if(r(e))return!(c=null);if(e instanceof Rt&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==X)for(;n=n.parent_scope;)if(n===X)return!0;c=null}return e instanceof Ut&&(i||!o.find_parent(zn))?!(c=null):void 0}),n=t.argnames.length;l=e.args.slice(n);for(var a=Object.create(null),s=n;0<=--s;){var f=t.argnames[s],c=e.args[s];if(l.unshift(ne(st,f,{name:f,value:c})),f instanceof kt){if(!f.match_symbol(Qe))continue;p.length=0;break}f.name in a||(a[f.name]=!0,c?c instanceof Mn&&c.pinned()?c=null:c.walk(o):c=ne(Gt,f).transform(u),c&&p.unshift([ne(st,f,{name:f,value:c})]))}}}();var f=[];for(I(o[s]);0<p.length;){f=p.pop();var d=0,h=f[f.length-1],v=null,m=null,_=null,g=function(e){{if(!(e instanceof st)){if(e instanceof yt){var n=e.left;return"="==e.operator&&n instanceof Rt&&(t=n.definition()).references[0]===n&&!u.exposed(t)&&1<(i=t.references.length-t.replaced)&&U(e.right),n}return e.expression}var t=e.name.definition();if(!t.const_redefs&&Ge(e.name,t.orig)){var n=t.orig.length-t.eliminated-(a[t.name]||0),i=t.references.length-t.replaced-(r[t.name]||0);return 1<n&&!(e.name instanceof Nt)?(U(e.value),ne(Rt,e.name,e.name)):U(e.value)||1==i&&!u.exposed(t)?ne(Rt,e.name,e.name):void 0}}}(h),b=g&&g.has_side_effects(u),y=g&&!b&&!function e(n,t){if(n instanceof Ut)return!0;if(n instanceof Rt){var i=n.definition();return i.lambda||t.exposed(i)&&oe[i.name]}if(n instanceof lt){if((n=n.expression)instanceof Rt){if(n.is_immutable())return!1;n=n.fixed_value()}return!n||(!!n.is_constant()||e(n,t))}return!1}(g,u),w=function(n){if(n instanceof yt&&n.right.single_use)return;var t,i=Object.create(null),e=new ni(function(e){e instanceof Rt&&(i[e.definition().id]=!0)});for(;n instanceof yt&&"="==n.operator;)n.left.walk(e),n=n.right;if(n instanceof Rt){var r=n.evaluate(u);return r===n?o:B(r,o)}if(n instanceof Ut)return o;if(n.is_truthy())return B(!0,Qe);if(n.is_constant())return B(n.evaluate(u),o);return g instanceof Rt&&(!!function e(n){if(n instanceof xt)return!1;if(n instanceof gt&&ae[n.operator])return e(n.left)&&e(n.right);if(n instanceof ft)return!1;if(n instanceof bt)return e(n.consequent)&&e(n.alternative);if(n instanceof Dt)return!1;return!n.has_side_effects(u)}(n)&&(n.walk(new ni(function(e){if(t)return!0;e instanceof Rt&&i[e.definition().id]&&(t=!0)})),!t&&o));function o(e){return n.equivalent_to(e)}}(h);if(y||w){var x=h.name instanceof Nt,k=Qe;if(h.may_throw(u)){if(x&&X instanceof Nn)continue;k=G?function(e){return e.has_side_effects(u)}:W}var E=!1,S=!1,T=function(t){var i=new cn;t instanceof st&&i.add(t.name.name,g);var r=X.uses_arguments&&!u.has_directive("use strict"),o=X instanceof $n,a=new ni(function(e){var n;e instanceof Rt?n=e.fixed_value()||e:e instanceof Ut&&(n=e),n&&i.add(e.name,Q(u,a,e,n,0)),r&&e instanceof dt&&(X.each_argname(function(e){u.option("reduce_vars")&&!e.definition().assignments||i.add(e.name,!0)}),r=!1),o&&("Call"==e.TYPE?S||((n=e.expression)instanceof lt||n instanceof Pn&&!n.contains_this()||(S=!0)):e instanceof lt&&function e(n){if(n instanceof Rt&&!(n=n.fixed_value()))return!0;if(n instanceof yt)return"="==n.operator&&e(n.right);return n instanceof lt||n instanceof Ut}(e.expression)&&(e!==g||t instanceof vt?E=!0:S=!0))});return t.walk(a),i}(h),D=function(e){var n=ie(e);return n instanceof Rt&&n.definition().scope===X&&!(J&&(T.has(n.name)&&T.get(n.name)[0]!==e||h instanceof vt||h instanceof yt&&"="!=h.operator))}(g),O=re(h);b=b||!(h instanceof vt)&&O.has_side_effects(u);var A=function(e){if(e instanceof vt)return!1;if(b)return!1;if(v)return!0;if(!(g instanceof Rt))return!1;var n;if(e instanceof st)n=1;else{if("="!=e.operator)return!1;n=2}e=g.definition();return e.references.length-e.replaced==n}(h),z=x,$=!1,M=0,j=!1,F=!l||!z;if(!F){for(var e=X.argnames.lastIndexOf(h.name)+1;!$&&e<l.length;e++)l[e].transform(c);F=!0}for(var t=s;!$&&t<o.length;t++)o[t].transform(c);if(v){var q=g.definition(),C=q.references.length-q.replaced;if(h instanceof yt&&C--,!M||C!=M){p.push(f),n=!0;continue}if($=!1,M){d=0,z=x;for(t=s;!$&&t<o.length;t++)o[t].transform(i)||o.splice(t--,1);h instanceof st&&(M=!u.exposed(q)&&q.references.length==q.replaced),v.single_use=!1}}M&&!function(e){if(e.name instanceof Nt){var n=u.self().argnames.indexOf(e.name),t=u.parent().args;return t[n]&&(t[n]=ne(Lt,t[n],{value:0}),e.name.definition().fixed=!1),!0}var i=f.length-1;f[i-1].body===f[i]&&i--;var r=new si(function(e,n,t){return z||e!==f[d]?e:++d<=i?N(e,r):(z=!0,e instanceof st?(e.value=null,a[e.name.name]=(a[e.name.name]||0)+1,v&&v.replaced++,e):t?tn.skip:null)},Y);return z=$=!1,d=0,o[s].transform(r)}(h)&&o.splice(s,1)}}}function N(e,n){if(e instanceof gn){if(e instanceof zn)return e;if(!e.variables||!e.variables.all(function(e){return!T.has(e.name)}))return $=!0,e;if(e instanceof On)return e.object=e.object.transform(n),$=!0,e;if(e instanceof Xn){e.expression=e.expression.transform(n);for(var t=0;!$&&t<e.body.length;t++){var i=e.body[t];if(i instanceof Zn){if(!z){if(i!==f[d])continue;d++}if(i.expression=i.expression.transform(n),!A)break;w=!1}}return $=!0,e}}}function P(e,n){return n instanceof gt?ae[n.operator]&&n.left!==e:n instanceof Zn?n.expression!==e:(n instanceof bt||n instanceof Gn)&&n.condition!==e}function H(e,n){if(e instanceof wt)return 1;if("Binary"==e.TYPE)return"in"==e.operator&&!Re(e.right);if(e instanceof ft){var t=e.expression;if(t instanceof Rt&&(f=t.definition(),t=t.fixed_value()),!(t instanceof Mn))return 1;if(f&&Be(u,f))return 1;if(!fn(t.argnames,function(e){return!(e instanceof kt)}))return 1;if(t.collapse_scanning)return;t.collapse_scanning=!0;var i=F;F=!1;var r=m,o=_;if(t instanceof qn&&t.value)t.value.transform(c);else for(var a=0;!$&&a<t.body.length;a++){var s=t.body[a];if(s instanceof Yn){s.value&&s.value.transform(c);break}s.transform(c)}return(_=o,m=r,F=i,delete t.collapse_scanning,$)?($=!1,1):void 0}if(e instanceof Bn){if(G){if(G.bfinally)return 1;if(G.bcatch&&e instanceof Ln)return 1}return b||g instanceof lt||V(g)}if(e instanceof Pn)return u.option("ie8")&&e.name&&T.has(e.name.name);if(e instanceof lt){i=e.expression;return b||!v&&i.may_throw_on_access(u)||i instanceof Rt&&Z(i.definition())}if(e instanceof ht)return 1;if(e instanceof Rt){if(L(e))return!(n instanceof yt&&"="==n.operator&&n.left===e);if(b&&V(e))return 1;var f=e.definition();return(G||f.scope.resolve()!==X)&&!ee(e)}if(e instanceof Ut)return L(e);if(e instanceof st)return(G||!D)&&e.name instanceof kt||(e.value||n instanceof ot)&&e.name.match_symbol(function(e){return e instanceof jt&&(T.has(e.name)||b&&V(e))});e=se(e.left,e);return e&&(e instanceof lt||((G||!D)&&e instanceof kt||e.match_symbol(function(e){return e instanceof Rt&&(T.has(e.name)||E&&u.exposed(e.definition()))})))}function I(e){var n;f.push(e),e instanceof xt?e.elements.forEach(I):e instanceof yt?(e.left instanceof kt||p.push(f.slice()),I(e.left),I(e.right),e.left instanceof Rt&&(r[e.left.name]=(r[e.left.name]||0)+1)):e instanceof wt?I(e.expression):e instanceof gt?(I(e.left),I(e.right)):e instanceof ft?(I(e.expression),e.args.forEach(I)):e instanceof Zn?I(e.expression):e instanceof bt?(I(e.condition),I(e.consequent),I(e.alternative)):e instanceof it?e.definitions.forEach(I):e instanceof pt?I(e.expression):e instanceof En?(I(e.condition),e.body instanceof yn||I(e.body)):e instanceof Bn?e.value&&I(e.value):e instanceof Dn?(e.init&&I(e.init),e.condition&&I(e.condition),e.step&&I(e.step),e.body instanceof yn||I(e.body)):e instanceof On?(I(e.object),e.body instanceof yn||I(e.body)):e instanceof Gn?(I(e.condition),e.body instanceof yn||I(e.body),!e.alternative||e.alternative instanceof yn||I(e.alternative)):e instanceof Dt?e.properties.forEach(function(e){f.push(e),e.key instanceof pn&&I(e.key),e instanceof At&&I(e.value),f.pop()}):e instanceof ut?e.expressions.forEach(I):e instanceof _n?I(e.body):e instanceof ht?I(e.expression):e instanceof dt?(I(e.expression),I(e.property)):e instanceof Xn?(I(e.expression),e.body.forEach(I)):e instanceof vt?ri[e.operator]?p.push(f.slice()):I(e.expression):e instanceof st&&(e.name instanceof Ct&&(e.value?(n=e.name.definition()).references.length>n.replaced&&p.push(f.slice()):a[e.name.name]=(a[e.name.name]||0)+1),e.value&&I(e.value)),f.pop()}function R(e,n){var t=c.parent(n);if(H(e,t))return e;if(P(e,t))return e;if(t instanceof xt)return R(t,n+1);if(t instanceof yt)return k(t)?e:R(t,n+1);if(t instanceof wt)return e;if(t instanceof gt)return R(t,n+1);if(t instanceof ft)return R(t,n+1);if(t instanceof Zn)return R(t,n+1);if(t instanceof bt)return R(t,n+1);if(t instanceof it)return R(t,n+1);if(t instanceof Bn)return R(t,n+1);if(t instanceof Gn)return R(t,n+1);if(t instanceof kn)return e;if(t instanceof Ot){var i=c.parent(n+1);return fn(i.properties,function(e){return e instanceof At})?R(i,n+2):i}if(t instanceof lt){i=t.expression;if(i===e)return R(t,n+1);i=ie(i);if(!(i instanceof Rt))return R(t,n+1);i=T.get(i.name);return!i||fn(i,function(e){return!(e instanceof lt)})?R(t,n+1):e}return t instanceof ut||t instanceof _n?R(t,n+1):t instanceof ht?e:t instanceof Xn||t instanceof vt?R(t,n+1):t instanceof st?k(t)?e:R(t,n+1):null}function U(e){if(n)n=!1;else if(e instanceof Rt){e=e.definition();return e.undeclared?void 0:!Z(e)&&(v=e)}}function B(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(u))return!0;if(e.is_constant())return!e.evaluate(u)==!t}return i(e)}}function Y(e){if(e instanceof ut)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}function L(e){e=T.get(e.name);if(e&&!fn(e,function(e){return!e}))return e[0]!==g||void(w=!1)}function V(e){e=e.definition();return!(1==e.orig.length&&e.orig[0]instanceof Pt)&&(e.scope!==X||(!(!S||!u.exposed(e))||!fn(e.references,function(e){return e.scope.resolve()===X})))}function W(e,n){if(e instanceof yt)return W(e.left,!0);if(e instanceof vt)return W(e.expression,!0);if(e instanceof st)return e.value&&W(e.value);if(n){if(e instanceof pt)return W(e.expression,!0);if(e instanceof dt)return W(e.expression,!0);if(e instanceof Rt)return e.definition().scope!==X}return!1}}(e,c),K&&0<n--;);return e;function p(e,n){if(!(e instanceof wn))return e;for(var t=null,i=0;i<e.body.length;i++){var r=e.body[i];if(r instanceof at&&O(r))n.push(r);else{if(t||r instanceof rt||r instanceof ot)return!1;t=r}}return t}function u(e,n,t){var i;if(n instanceof yt?i=[n]:n instanceof ut&&(i=n.expressions.slice()),i){for(var r=!1,o=i.length-1;0<=--o;){var a,s=i[o];s instanceof yt&&"="==s.operator&&s.left instanceof Rt&&(a=i.slice(o+1),l(s.left,s.right,a)&&(r=!0,i=i.slice(0,o+1).concat(a)))}if(e instanceof it){t=t||0;for(o=e.definitions.length;0<=--o;){var f=e.definitions[o];if(f.value){l(f.name,f.value,i)&&(r=!0),function(e,n,t){if(!c.option("conditionals"))return;if(e.name instanceof kt)return;var i=!1,r=e.name.definition();for(;n.length>t;){var o=Ce(c,r,e.value,n[0]);if(!o)break;e.value=o,n.shift(),i=!0}return i}(f,i,t)&&(r=!0);break}}e instanceof at&&function(e,n,t){var i=!1;for(;n.length>t;){var r=n[0];if(!(r instanceof yt))break;if("="!=r.operator)break;var o=r.left;if(!(o instanceof Rt))break;if(H(o))break;if(o.scope.resolve()!==X)break;var a=o.definition();if(a.scope!==X)break;if(a.orig.length>a.eliminated+1)break;if("SymbolVar"!=a.orig[0].TYPE)break;o=ne(Ct,o,o);e.push(ne(st,r,{name:o,value:r.right})),a.orig.push(o),a.replaced++,n.shift(),i=!0}return i}(e.definitions,i,t)&&(r=!0)}return r&&i}}function l(e,n,t){if(n instanceof Dt){var i=!1;do{var r=t[0];if(!(r instanceof yt))break;if("="!=r.operator)break;if(!(r.left instanceof lt))break;var o=r.left.expression;if(!(o instanceof Rt))break;if(e.name!=o.name)break;if(!r.right.is_constant_expression(X))break;var a=r.left.property;if(a instanceof pn&&(a=a.evaluate(c)),a instanceof pn)break;o="__proto__"==(a=""+a)||c.has_directive("use strict")?function(e){return"string"==typeof e.key&&e.key!=a}:function(e){return!(e instanceof $t||e instanceof zt)||"string"==typeof e.key&&e.key!=a}}while(fn(n.properties,o)&&(n.properties.push(ne(At,r,{key:a,value:r.right})),t.shift(),i=!0,t.length));return i}}}function $(i,r,o){var a;function s(e){a?(a.push(e),(e instanceof rt||e instanceof ot)&&(a.required=!0)):o.push(e)}r instanceof it||Hn(r)||pn.warn("Dropping unreachable code [{file}:{line},{col}]",r.start),r.walk(new ni(function(e,n){if(e instanceof it){var t=[];return e.remove_initializers(i,t)&&pn.warn("Dropping initialization in unreachable code [{file}:{line},{col}]",e.start),0<t.length&&(e.definitions=t,s(e)),!0}if(Hn(e))return s(e),!0;if(e instanceof zn)return!0;if(e instanceof gn){e=a;return a=[],n(),a.required?o.push(ne(wn,r,{body:a})):a.length&&[].push.apply(o,a),a=e,!0}}))}function M(e,n){return e.is_undefined||e instanceof Gt||e instanceof mt&&"void"==e.operator&&!e.expression.has_side_effects(n)}function j(e,n,t){switch(e){case"-":return n.is_negative_zero()&&(!(t instanceof Bt)||0==t.value);case"&&":case"||":return n.is_negative_zero()||t.is_negative_zero();case"*":case"/":case"%":return!0;default:return!1}}function F(e){return/strict/.test(e.option("pure_getters"))}(J=function(e,n){e.DEFMETHOD("is_truthy",n)})(pn,Qe),J(xt,Ze),J(yt,function(){return"="==this.operator&&this.right.is_truthy()}),J(Mn,Ze),J(Dt,Ze),J(Vt,Ze),J(ut,function(){return this.tail_node().is_truthy()}),J(Rt,function(){var e=this.fixed_value();if(!e)return!1;this.is_truthy=Qe;e=e.is_truthy();return delete this.is_truthy,e}),(J=function(e,n){e.DEFMETHOD("is_negative_zero",n)})(pn,Ze),J(xt,Qe),J(yt,function(){var e=this.operator;return"="==e?this.right.is_negative_zero():j(e.slice(0,-1),this.left,this.right)}),J(gt,function(){return j(this.operator,this.left,this.right)}),J(Bt,function(){return 0==this.value&&1/this.value<0}),J(Mn,Qe),J(Dt,Qe),J(Vt,Qe),J(ut,function(){return this.tail_node().is_negative_zero()}),J(Rt,function(){var e=this.fixed_value();if(!e)return!0;this.is_negative_zero=Ze;e=e.is_negative_zero();return delete this.is_negative_zero,e}),J(mt,function(){return"+"==this.operator&&this.expression.is_negative_zero()||"-"==this.operator}),J=function(e,n){e.DEFMETHOD("_dot_throw",n)},pn.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),J(pn,F),J(xt,Qe),J(yt,function(e){if("="!=this.operator)return!1;var n=this.right;if(!n._dot_throw(e))return!1;var t=this.left;return!(t instanceof Rt)||(!(n instanceof gt&&"||"==n.operator&&t.name==n.left.name)||n.right._dot_throw(e))}),J(gt,function(e){switch(this.operator){case"&&":return this.left._dot_throw(e)||this.right._dot_throw(e);case"||":return this.right._dot_throw(e);default:return!1}}),J(bt,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),J(Bt,Qe),J(pt,function(e){if(!F(e))return!1;e=this.expression;return e instanceof Rt&&(e=e.fixed_value()),!(e instanceof Mn&&"prototype"==this.property)}),J(Mn,Qe),J(Wt,Ze),J(Dt,function(e){return F(e)&&!fn(this.properties,function(e){return e instanceof At})}),J(ut,function(e){return this.tail_node()._dot_throw(e)}),J(Rt,function(e){if(this.is_undefined)return!0;if(!F(e))return!1;if(H(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;if(Z(this.definition()))return!1;var n=this.fixed_value();return!n||(this._dot_throw=Ze,n._dot_throw(e)?(delete this._dot_throw,!0):(this._dot_throw=Qe,!1))}),J(Ut,function(e){return F(e)&&!this.scope.new}),J(mt,function(){return"void"==this.operator}),J(_t,Qe),J(Gt,Ze),(J=function(e,n){e.DEFMETHOD("is_defined",n)})(pn,Qe),J(xt,Ze),J(yt,function(e){return"="!=this.operator||this.right.is_defined(e)}),J(gt,function(e){switch(this.operator){case"&&":return this.left.is_defined(e)&&this.right.is_defined(e);case"||":return this.left.is_truthy()||this.right.is_defined(e);default:return!0}}),J(bt,function(e){return this.consequent.is_defined(e)&&this.alternative.is_defined(e)}),J(Bt,Ze),J(Mn,Ze),J(Dt,Ze),J(ut,function(e){return this.tail_node().is_defined(e)}),J(Rt,function(e){if(this.is_undefined)return!1;if(H(this)&&this.is_declared(e))return!0;if(this.is_immutable())return!0;var n=this.fixed_value();if(!n)return!1;this.is_defined=Qe;e=n.is_defined(e);return delete this.is_defined,e}),J(mt,function(){return"void"!=this.operator}),J(_t,Ze),J(Gt,Qe),function(e){e(pn,Qe),e(yt,function(e){return"="==this.operator&&this.right.is_boolean(e)});var n=sn("in instanceof == != === !== < <= >= >");e(gt,function(e){return n[this.operator]||ae[this.operator]&&this.left.is_boolean(e)&&this.right.is_boolean(e)}),e(Qt,Ze);var t=sn("every hasOwnProperty isPrototypeOf propertyIsEnumerable some");e(ft,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof pt&&(t[e.property]||"test"==e.property&&e.expression instanceof Vt)}),e(bt,function(e){return this.consequent.is_boolean(e)&&this.alternative.is_boolean(e)}),e(ct,Qe),e(ut,function(e){return this.tail_node().is_boolean(e)}),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_boolean=Qe;e=n.is_boolean(e);return delete this.is_boolean,e});var i=sn("! delete");e(mt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_boolean",n)}),function(e){e(pn,Qe);var n=sn("- * / % & | ^ << >> >>>");e(yt,function(e){return n[this.operator.slice(0,-1)]||"="==this.operator&&this.right.is_number(e)}),e(gt,function(e){return!!n[this.operator]||"+"==this.operator&&((this.left.is_boolean(e)||this.left.is_number(e))&&(this.right.is_boolean(e)||this.right.is_number(e)))});var t=sn(["charCodeAt","getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","indexOf","lastIndexOf","localeCompare","push","search","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toExponential","toFixed","toPrecision"]);e(ft,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof pt&&(t[e.property]||H(e.expression)&&"Math"==e.expression.name)}),e(bt,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)}),e(ct,Qe),e(Lt,Ze),e(ut,function(e){return this.tail_node().is_number(e)}),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_number=Qe;e=n.is_number(e);return delete this.is_number,e});var i=sn("+ - ~ ++ --");e(vt,function(){return i[this.operator]})}(function(e,n){e.DEFMETHOD("is_number",n)}),function(e){e(pn,Qe),e(yt,function(e){switch(this.operator){case"+=":if(this.left.is_string(e))return!0;case"=":return this.right.is_string(e)}}),e(gt,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))});var n=sn(["charAt","substr","substring","toLowerCase","toString","toUpperCase","trim"]);e(ft,function(e){if(!e.option("unsafe"))return!1;e=this.expression;return e instanceof pt&&n[e.property]}),e(bt,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(ut,function(e){return this.tail_node().is_string(e)}),e(Yt,Ze),e(Rt,function(e){var n=this.fixed_value();if(!n)return!1;this.is_string=Qe;e=n.is_string(e);return delete this.is_string,e}),e(mt,function(){return"typeof"==this.operator})}(function(e,n){e.DEFMETHOD("is_string",n)});var ae=sn("&& ||");function se(e,n){return n instanceof yt?n.left===e&&e:n instanceof kt||n instanceof St?e:n instanceof vt?fi[n.operator]&&n.expression:void 0}function q(e){pn.warn("global_defs {node} redefined [{file}:{line},{col}]",{node:e,file:e.start.file,line:e.start.line,col:e.start.col})}function I(e,n,t){return n.print_to_string().length-e.print_to_string().length<(t||0)?n:e}function B(e,n,t){return I(ne(_n,e,{body:e}),ne(_n,n,{body:n}),t).body}function Y(e,n,t,i){return(ln(e)?B:I)(n,t,i)}function L(n){var t=Object.create(null);return Object.keys(n).forEach(function(e){t[e]=sn(n[e])}),t}function V(e){for(var n=0;n<e.length;n++){var t=e[n];if(!(t instanceof vn))return t}}function W(e,n){var t=n.evaluate(e);return t===n?n:Y(e,n,k(t,n).optimize(e),e.eval_threshold)}J=function(e,n){e.DEFMETHOD("_find_defs",n)},$n.DEFMETHOD("resolve_defines",function(o){return o.option("global_defs")?(this.figure_out_scope({ie8:o.option("ie8")}),this.transform(new si(function(e){var n=e._find_defs(o,"");if(n){for(var t,i=0,r=e;(t=this.parent(i++))&&t instanceof lt&&t.expression===r;)r=t;if(!se(r,t))return n;q(e)}}))):this}),J(pn,Ke),J(pt,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),J(jt,function(e){this.definition().global&&un(e.option("global_defs"),this.name)&&q(this)}),J(Rt,function(e,n){if(this.definition().global){e=e.option("global_defs"),n=this.name+n;return un(e,n)?function n(e,t){if(e instanceof pn)return e.clone(!0);if(Array.isArray(e))return ne(xt,t,{elements:e.map(function(e){return n(e,t)})});if(e&&"object"==typeof e){var i,r=[];for(i in e)un(e,i)&&r.push(ne(At,t,{key:i,value:n(e[i],t)}));return ne(Dt,t,{properties:r})}return k(e,t)}(e[n],this):void 0}}),qn.DEFMETHOD("first_statement",function(){return this.value?ne(Yn,this.value,{value:this.value}):V(this.body)}),Mn.DEFMETHOD("first_statement",function(){return V(this.body)});var J,G=L({Array:["indexOf","join","lastIndexOf","slice"].concat(J=["constructor","toString","valueOf"]),Boolean:J,Function:J,Number:["toExponential","toFixed","toPrecision"].concat(J),Object:J,RegExp:["exec","test"].concat(J),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(J)}),X=L({Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]});function K(e){return ne(mt,e,{operator:"!",expression:e})}function fe(e,n,t){e=K(e);if(t){t=ne(_n,n,{body:n});return I(e,t)===t?n:e}return I(e,n)}!function(e){e(pn,Qe),e(Bt,Ze),e(Vt,Qe);var n=sn("! ~ - + void");e(mt,function(){return n[this.operator]&&this.expression instanceof Bt})}(function(e,n){e.DEFMETHOD("is_constant",n)}),function(e){pn.DEFMETHOD("evaluate",function(e,n){if(!e.option("evaluate"))return this;var t=[],e=this._eval(e,n,t,1);return t.forEach(function(e){delete e._eval}),!n&&e&&!(e instanceof RegExp)&&("function"==typeof e||"object"==typeof e)?this:e});var f=new ni(function(e){e instanceof yt&&c(e.left),e instanceof vt&&ri[e.operator]&&c(e.expression)});function c(e){e instanceof lt?c(e.expression):e instanceof Rt&&e.definition().references.forEach(function(e){delete e._eval})}e(dn,function(){throw new Error(on("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(jn,en),e(pn,en),e(Bt,function(){return this.value}),e(yt,function(e,n,t,i){var r=this.left;if(!n){if(!(r instanceof Rt))return this;if(!un(r,"_eval")){if(!r.fixed)return this;var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this;if("m"==o.single_use)return this}}o=this.operator,o=!un(r,"_eval")&&r instanceof Rt&&r.fixed&&r.definition().fixed?r:"="==o?(r.walk(f),this.right):ne(gt,this,{operator:o.slice(0,-1),left:r,right:this.right}),i=o._eval(e,n,t,i);return"object"==typeof i?this:(c(r),i)}),e(ut,function(e,n,t,i){if(!n)return this;for(var r=this.expressions,o=0,a=r.length-1;o<a;o++)r[o].walk(f);var s=r[a],i=s._eval(e,n,t,i);return i===s?this:i}),e(Mn,function(e){if(e.option("unsafe")){e=function(){};return e.node=this,e.toString=function(){return"function(){}"},e}return this}),e(xt,function(e,n,t,i){if(e.option("unsafe")){for(var r=[],o=0;o<this.elements.length;o++){var a=this.elements[o];if(a instanceof Xt)return this;var s=a._eval(e,n,t,i);if(a===s)return this;r.push(s)}return r}return this}),e(Dt,function(e,n,t,i){if(e.option("unsafe")){for(var r={},o=0;o<this.properties.length;o++){var a=this.properties[o];if(!(a instanceof At))return this;var s=a.key;if(s instanceof pn&&(s=s._eval(e,n,t,i))===a.key)return this;if(a.value instanceof Pn&&"function"==typeof Object.prototype[s])return this;if(r[s]=a.value._eval(e,n,t,i),r[s]===a.value)return this}return r}return this});var u=sn("! typeof void");e(mt,function(e,n,t,i){var r=this.expression,o=this.operator;if(e.option("typeofs")&&"typeof"==o&&(r instanceof Mn||r instanceof Rt&&r.fixed_value()instanceof Mn))return"function";var a=r instanceof Rt&&r.definition();u[o]||a&&a.fixed||i++;var s=r._eval(e,n,t,i);if(s===r)return n&&"void"==o?void 0:this;switch(o){case"!":return!s;case"typeof":return s instanceof RegExp?this:typeof s;case"void":return;case"~":return~s;case"-":return-s;case"+":return+s;case"++":case"--":if(!a)return this;if(!n){if(a.undeclared)return this;if(a.last_ref!==r)return this}return un(r,"_eval")&&(s=+(o[0]+1)+ +s),c(r),s}return this}),e(_t,function(e,n,t,i){var r=this.expression;if(r instanceof Rt){if(!un(r,"_eval")){if(!r.fixed)return this;if(!n){var o=r.definition();if(!o.fixed)return this;if(o.undeclared)return this;if(o.last_ref!==r)return this}}}else if(!n)return this;r instanceof Rt&&r.definition().fixed||i++;i=r._eval(e,n,t,i);return i===r?this:(c(r),+i)});var l=sn("&& || === !==");e(gt,function(e,n,t,i){l[this.operator]||i++;var r=this.left._eval(e,n,t,i);if(r===this.left)return this;if(this.operator==(r?"||":"&&"))return r;var o,a=n&&!(r&&"object"==typeof r),s=this.right._eval(e,a,t,i);if(s===this.right)return this;switch(this.operator){case"&&":o=r&&s;break;case"||":o=r||s;break;case"|":o=r|s;break;case"&":o=r&s;break;case"^":o=r^s;break;case"+":o=r+s;break;case"-":o=r-s;break;case"*":o=r*s;break;case"/":o=r/s;break;case"%":o=r%s;break;case"<<":o=r<<s;break;case">>":o=r>>s;break;case">>>":o=r>>>s;break;case"==":o=r==s;break;case"===":o=r===s;break;case"!=":o=r!=s;break;case"!==":o=r!==s;break;case"<":o=r<s;break;case"<=":o=r<=s;break;case">":o=s<r;break;case">=":o=s<=r;break;case"in":if(s&&"object"==typeof s&&un(s,r)){o=!0;break}default:return this}if(isNaN(o))return e.find_parent(An)?this:o;if(e.option("unsafe_math")&&!n&&o&&"number"==typeof o&&("+"==this.operator||"-"==this.operator)){n=Math.max(0,f(r),f(s));if(n<16)return+o.toFixed(n)}return o;function f(e){e=/(\.[0-9]*)?(e.+)?$/.exec(+e);return(e[1]||".").length-1-(e[2]||"").slice(1)}}),e(bt,function(e,n,t,i){var r=this.condition._eval(e,n,t,i);if(r===this.condition)return this;r=r?this.consequent:this.alternative,i=r._eval(e,n,t,i);return i===r?this:i}),e(Rt,function(e,n,t,i){var r,o=this.fixed_value();if(!o)return this;if(un(o,"_eval"))r=o._eval();else{if(this._eval=en,r=o._eval(e,n,t,i),delete this._eval,r===o)return this;o._eval=function(){return r},t.push(o)}return r&&"object"==typeof r&&!function(n,e){var t=n.definition().escaped;switch(t.length){case 0:return 1;case 1:var i=!1;return t[0].walk(new ni(function(e){return!!i||(e===n?i=!0:e instanceof zn||void 0)})),i;default:return e<=t.depth}}(this,i)?this:r});var h={Array:Array,Math:Math,Number:Number,Object:Object,String:String},s=L({Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]}),p=sn("global ignoreCase multiline source");e(lt,function(e,n,t,i){if(e.option("unsafe")){var r,o=this.expression;if(!H(o)&&(null==(r=o._eval(e,n,t,i+1))||r===o))return this;var a=this.property;if(a instanceof pn&&(a=a._eval(e,n,t,i))===this.property)return this;if(void 0===r){i=s[o.name];if(!i||!i[a])return this;r=h[o.name]}else if(r instanceof RegExp){if(!p[a])return this}else if("object"==typeof r){if(!un(r,a))return this}else if("function"==typeof r)switch(a){case"name":return r.node.name?r.node.name.name:"";case"length":return r.node.argnames.length;default:return this}return r[a]}return this}),e(ft,function(o,a,s,f){var e=this.expression,n=e instanceof Rt?e.fixed_value():e;if(n instanceof Rn||n instanceof Pn){if(n.evaluating)return this;if(n.name&&0<n.name.definition().recursive_refs)return this;if(this.is_expr_pure(o))return this;if(!fn(n.argnames,function(e){return!(e instanceof kt)}))return this;if(!(l=d(this.args))&&!a)return this;var t=n.first_statement();if(!(t instanceof Yn)){if(a){var i=!1;if(n.walk(new ni(function(e){return!!i||(e instanceof Yn?(e.value&&void 0!==e.value._eval(o,!0,s,f)&&(i=!0),!0):e instanceof zn&&e!==n||void 0)})),!i)return}return this}if(!(c=t.value))return;var r=[];return l&&!fn(n.argnames,function(e,n){var t=l[n],n=e.definition();return n.orig[n.orig.length-1]===e&&(n.references.forEach(function(e){e._eval=function(){return t},r.push(e)}),1)})&&!a||(n.evaluating=!0,c=c._eval(o,a,s,f),delete n.evaluating),r.forEach(function(e){delete e._eval}),c===t.value?this:c}if(o.option("unsafe")&&e instanceof lt){var c,u=e.property;if(u instanceof pn&&(u=u._eval(o,a,s,f))===e.property)return this;var l,e=e.expression;if(H(e)){var p=X[e.name];if(!p||!p[u])return this;c=h[e.name]}else{if(null==(c=e._eval(o,a,s,f+1))||c===e)return this;p=G[c.constructor.name];if(!p||!p[u])return this;if(c instanceof RegExp&&c.global&&!(e instanceof Vt))return this}if(!(l=d(this.args)))return this;if("replace"==u&&"function"==typeof l[1])return this;try{return c[u].apply(c,l)}catch(e){pn.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this,file:this.start.file,line:this.start.line,col:this.start.col})}finally{c instanceof RegExp&&(c.lastIndex=0)}}return this;function d(e){for(var n=[],t=0;t<e.length;t++){var i=e[t],r=i._eval(o,a,s,f);if(i===r)return;n.push(r)}return n}}),e(ct,en)}(function(e,n){e.DEFMETHOD("_eval",n)}),(J=function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})})(pn,function(){return K(this)}),J(dn,function(){throw new Error("Cannot negate a statement")}),J(qn,function(){return K(this)}),J(Nn,function(){return K(this)}),J(Pn,function(){return K(this)}),J(mt,function(){return"!"==this.operator?this.expression:K(this)}),J(ut,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),R(this,n)}),J(bt,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),fe(this,t,n)}),J(gt,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),fe(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),fe(this,t,n)}return K(this)});var ce=sn("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");function ue(e){for(;(e=e.tail_node())instanceof Rt;)if(!(e=e.fixed_value()))return!0;return!(e instanceof xt||"Binary"==e.TYPE&&!ae[e.operator]||e instanceof Bt||e instanceof Mn||e instanceof Dt&&fn(e.properties,function(e){return!(e instanceof $t||e instanceof ht)})||e instanceof Ut||e instanceof vt)}function le(e,n,t){return!fn(e,t?function(e){return e instanceof ht?!t(e,n):!e.has_side_effects(n)}:function(e){return!e.has_side_effects(n)})}function pe(e,n){return!e.expression.is_string(n)||e.expression.has_side_effects(n)}function de(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}function he(e){for(var n=e.length;0<=--n;)if(!e[n].is_constant_expression())return!1;return!0}function ve(e){return e&&e.aborts()}function me(){var e=this.body.length;return 0<e&&ve(this.body[e-1])}ft.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(H(n)&&ce[n.name])return!0;if(n instanceof pt&&H(n.expression)){var t=X[n.expression.name];return t&&(t[n.property]||"Math"==n.expression.name&&"random"==n.property)}}return this.pure||!e.pure_funcs(this)}),pn.DEFMETHOD("is_call_pure",Qe),ft.DEFMETHOD("is_call_pure",function(e){if(!e.option("unsafe"))return!1;var n=this.expression;if(!(n instanceof pt))return!1;var t,i=n.expression,r=n.property;if(i instanceof xt)t=G.Array;else if(i.is_boolean(e))t=G.Boolean;else if(i.is_number(e))t=G.Number;else if(i instanceof Vt)t=G.RegExp;else if(i.is_string(e)){if(t=G.String,"replace"==r){i=this.args[1];if(i&&!i.is_string(e))return!1}}else n.may_throw_on_access(e)||(t=G.Object);return t&&t[r]}),(J=function(e,n){e.DEFMETHOD("has_side_effects",n)})(pn,Ze),J(xt,function(e){return le(this.elements,e,pe)}),J(yt,function(e){var n=this.left;if(!(n instanceof lt))return!0;var t=n.expression;return!(t instanceof Ut)||!t.scope.new||n instanceof dt&&n.property.has_side_effects(e)||this.right.has_side_effects(e)}),J(gt,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)||"in"==this.operator&&!Re(this.right)}),J(yn,function(e){return le(this.body,e)}),J(ft,function(e){return!(this.is_expr_pure(e)||this.is_call_pure(e)&&!this.expression.has_side_effects(e))||le(this.args,e,pe)}),J(Zn,function(e){return this.expression.has_side_effects(e)||le(this.body,e)}),J(bt,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),J(Bt,Qe),J(it,function(e){return le(this.definitions,e)}),J(Et,function(e){return le(this.elements,e)}),J(St,function(e){return this.key instanceof pn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),J(Tt,function(e){return le(this.properties,e)}),J(pt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),J(mn,Qe),J(Gn,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),J(xn,function(e){return this.body.has_side_effects(e)}),J(Mn,Qe),J(Dt,function(e){return le(this.properties,e,function(e,n){e=e.expression;return ue(e)||e.has_side_effects(n)})}),J(Ot,function(e){return this.key instanceof pn&&this.key.has_side_effects(e)||this.value.has_side_effects(e)}),J(ut,function(e){return le(this.expressions,e)}),J(_n,function(e){return this.body.has_side_effects(e)}),J(dt,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),J(Xn,function(e){return this.expression.has_side_effects(e)||le(this.body,e)}),J(jt,Qe),J(Rt,function(e){return!this.is_declared(e)||!ee(this)}),J(Ut,Qe),J(et,function(e){return le(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),J(vt,function(e){return fi[this.operator]||this.expression.has_side_effects(e)}),J(st,function(e){return this.value}),(J=function(e,n){e.DEFMETHOD("may_throw",n)})(pn,Ze),J(Bt,Qe),J(mn,Qe),J(Mn,Qe),J(jt,Qe),J(Ut,Qe),J(xt,function(e){return de(this.elements,e)}),J(yt,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof Rt)&&this.left.may_throw(e)}),J(gt,function(e){return this.left.may_throw(e)||this.right.may_throw(e)||"in"==this.operator&&!Re(this.right)}),J(yn,function(e){return de(this.body,e)}),J(ft,function(e){return!!de(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof Mn)||de(this.expression.body,e)))}),J(Zn,function(e){return this.expression.may_throw(e)||de(this.body,e)}),J(bt,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),J(it,function(e){return de(this.definitions,e)}),J(pt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),J(Gn,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),J(xn,function(e){return this.body.may_throw(e)}),J(Dt,function(e){return de(this.properties,e)}),J(Ot,function(e){return this.key instanceof pn&&this.key.may_throw(e)||this.value.may_throw(e)}),J(Yn,function(e){return this.value&&this.value.may_throw(e)}),J(ut,function(e){return de(this.expressions,e)}),J(_n,function(e){return this.body.may_throw(e)}),J(dt,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),J(Xn,function(e){return this.expression.may_throw(e)||de(this.body,e)}),J(Rt,function(e){return!this.is_declared(e)}),J(et,function(e){return(this.bcatch?this.bcatch.may_throw(e):de(this.body,e))||this.bfinally&&this.bfinally.may_throw(e)}),J(vt,function(e){return!("typeof"==this.operator&&this.expression instanceof Rt)&&this.expression.may_throw(e)}),J(st,function(e){return!!this.value&&this.value.may_throw(e)}),(J=function(e,n){e.DEFMETHOD("is_constant_expression",n)})(pn,Qe),J(xt,function(){return he(this.elements)}),J(gt,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()&&("in"!=this.operator||Re(this.right))}),J(Bt,Ze),J(Mn,function(i){var r=this,o=!0,a=[];return r.walk(new ni(function(e,n){if(!o)return!0;if(e instanceof gn)return e===r?void 0:(a.push(e),n(),a.pop(),!0);if(e instanceof Rt){if(r.inlined||e.redef)return!(o=!1);if(r.variables.has(e.name))return!0;var t=e.definition();if(Ge(t.scope,a))return!0;if(i&&!t.redefined()){n=i.find_variable(e.name);if(t.undeclared?!n:n===t)return o="f",!0}return!(o=!1)}return e instanceof Ut?(0==a.length&&r instanceof qn&&(o=!1),!0):void 0})),o}),J(Dt,function(){return he(this.properties)}),J(Ot,function(){return"string"==typeof this.key&&this.value.is_constant_expression()}),J(vt,function(){return this.expression.is_constant_expression()}),(J=function(e,n){e.DEFMETHOD("aborts",n)})(dn,nn),J(Un,en),J(wn,me),J(Kn,me),J(Gn,function(){return this.alternative&&ve(this.body)&&ve(this.alternative)&&this});var _e=sn(["use asm","use strict"]);function ge(e){switch(e.body.length){case 0:return ne(mn,e);case 1:var n=e.body[0];if(!(n instanceof rt||n instanceof ot))return n}return e}function be(n,t){n.walk(new ni(function(e){return e instanceof Yn?(t(e),!0):e instanceof zn&&e!==n||void 0}))}function ye(e){var n=Object.create(null);return be(e,function(e){e=e.value;(e=e&&e.tail_node())instanceof Rt&&(e=e.definition().id,n[e]=(n[e]||0)+1)}),n}function we(e,n,t){return e.bool_fn+(n[e.id]||0)===e.references.length-e.replaced&&!t.exposed(e)}function xe(e,i){be(e,function(e){e.in_bool=!0;var n,t=e.value;t&&((n=t.is_truthy()||t.evaluate(i,!0))?!n||n instanceof pn||(t=t.drop_side_effect_free(i),e.value=t?R(e.value,[t,ne(Lt,e.value,{value:1})]):ne(Lt,e.value,{value:1})):(t=t.drop_side_effect_free(i),e.value=t?R(e.value,[t,ne(Lt,e.value,{value:0})]):null))})}function ke(e,n){if(!e.name||!n.option("ie8"))return 1;e=e.name.definition();return!n.exposed(e)&&fn(e.references,function(e){return!(e instanceof Rt)})}function Ee(e,n,t,i){var r=e.length;if(!r)return null;for(var o=[],a=!1,s=0;s<r;s++){var f=e[s],c=i&&f instanceof ht?i(f,n,t):f.drop_side_effect_free(n,t);c!==f&&(a=!0),c&&(o.push(c),t=!1)}return a?o.length?o:null:e}function Se(e,n,t){var i=e.expression;return i.is_string(n)?i.drop_side_effect_free(n,t):e}function Te(e){return e instanceof ht?ne(xt,e,{elements:[e]}):e}function De(n,e,t){t=t||Vn;var i=!1,r=new ni(function(e){return!!(i||e instanceof zn)||(e instanceof t&&r.loopcontrol_target(e)===n?i=!0:void 0)});return e instanceof xn&&r.push(e),r.push(n),n.body.walk(r),i}function Oe(e,n,t){if(e instanceof gt)if(e.left instanceof Yt){if(e.right instanceof mt&&"typeof"==e.right.operator){var i=e.right.expression;if(H(i)){var r,o,a,s="undefined"==e.left.value;switch(e.operator){case"==":r=s?t:n;break;case"!=":r=s?n:t;break;default:return}r&&(o=i.definition(),a=new ni(function(e){if(e instanceof zn){var n=a.parent();return n instanceof ft&&n.expression===e?void 0:!0}e instanceof Rt&&e.definition()===o&&(e.defined=!0)}),r.walk(a))}}}else switch(e.operator){case"&&":Oe(e.left,n),Oe(e.right,n);break;case"||":Oe(f(e.left),t),Oe(f(e.right),t)}function f(e){if(e instanceof gt)switch(e.operator){case"==":return(e=e.clone()).operator="!=",e;case"!=":return(e=e.clone()).operator="==",e}}}function Ae(r){return function(n,t){var i=!1;return this.definitions.forEach(function(e){e.value&&(i=!0),e.name.match_symbol(function(e){e instanceof jt&&t.push(ne(st,e,{name:e,value:r(n,e)}))},!0)}),i}}function ze(e){return"arguments"!=e.name&&e.orig.length<(e.orig[0]instanceof Ht?3:2)}function $e(e,n){if(e.exposed(n))return!0;for(var t=n.scope.resolve(),i=n.scope;i!==t;)if((i=i.parent_scope).var_names()[n.name])return!0}function Me(e){return ne(at,e,{definitions:e.definitions.map(function(e){return ne(st,e,{name:e.name.convert_symbol(Ct,function(e,n){var t=e.definition();t.orig[t.orig.indexOf(n)]=e;e=t.scope.resolve();t.scope!==e&&(t.scope=e).variables.set(t.name,t)}),value:e.value})})})}function je(e,t){return t.option("varify")&&fn(e.definitions,function(e){return!e.name.match_symbol(function(e){if(e instanceof jt){var n=e.definition();return!e.fixed_value()||!ze(n)||$e(t,n)}},!0)})?Me(e):e}function Fe(e){var n=e.expression;if(!(n instanceof ut))return e;var t=n.expressions.slice(),n=e.clone();return n.expression=t.pop(),t.push(n),R(e,t)}function qe(e,t,n){var i=e.expression,r=i instanceof Rt?i.fixed_value():i;if(r instanceof Mn&&!r.uses_arguments&&!(r.pinned()||n&&n.indexOf(r)<0)){var o=e.args;if(fn(o,function(e){return!(e instanceof ht)})){for(var a=0,s=0,f=r===i&&!r.name&&t.drop_fargs(r,e)?function(e,n){return!e||(e instanceof Et?0==e.elements.length&&n instanceof xt:e instanceof Tt?0==e.properties.length&&n&&!n.may_throw_on_access(t):e.__unused)}:Qe,c=[],u=0;u<o.length;u++){var l=r.argnames[u];if(!l||"__unused"in l){var p=o[u].drop_side_effect_free(t);if(f(l)){l&&r.argnames.splice(u,1),o.splice(u,1),p&&c.push(p),u--;continue}if(p)c.push(p),o[a++]=R(e,c),c=[];else if(l){if(!c.length){o[a++]=ne(Lt,o[u],{value:0});continue}o[a++]=R(e,c),c=[]}}else{if(l&&f(l,o[u])){p=o[u].drop_side_effect_free(t);r.argnames.splice(u,1),o.splice(u,1),p&&c.push(p),u--;continue}c.push(o[u]),o[a++]=R(e,c),c=[]}s=a}for(;u<r.argnames.length;u++)f(r.argnames[u])&&r.argnames.splice(u--,1);o.length=s,c.length&&(i=R(e,c),o.push(o.length<r.argnames.length?ne(mt,e,{operator:"void",expression:i}):i))}}}function Ce(t,i,e,n){if(n instanceof gt&&ae[n.operator]&&n.right instanceof yt&&"="==n.right.operator&&n.right.left instanceof Rt&&n.right.left.definition()===i&&!e.has_side_effects(t)&&r(n.left)&&r(n.right.right))return i.replaced++,"&&"==n.operator?ne(bt,n,{condition:n.left,consequent:n.right.right,alternative:e}):ne(bt,n,{condition:n.left,consequent:e,alternative:n.right.right});function r(e){if(!e.has_side_effects(t)){var n=!1;return e.walk(new ni(function(e){return!!n||(e instanceof Rt&&e.definition()===i?n=!0:void 0)})),!n}}}e(vn,function(e,n){return!n.option("directives")||_e[e.value]&&n.has_directive(e.value)===e?e:ne(mn,e)}),e(hn,function(e,n){return n.option("drop_debugger")?ne(mn,e):e}),e(xn,function(e,n){return n.option("dead_code")&&e.body instanceof Wn&&n.loopcontrol_target(e.body)===e.body?ne(mn,e):n.option("unused")&&0==e.label.references.length?e.body:e}),e(yn,function(e,n){return e.body=z(e.body,n),e}),e(wn,function(e,n){return e.body=z(e.body,n),ge(e)}),e(qn,function(e,n){if(!n.option("arrows"))return e;var t=z(e.value?[e.first_statement()]:e.body,n);switch(t.length){case 1:var i=t[0];if(i instanceof Yn){e.body.length=0,e.value=i.value;break}default:e.body=t,e.value=null}return e}),e(Pn,function(n,e){if(n.body=z(n.body,e),e.option("inline"))for(var t=0;t<n.body.length;t++){var i=n.body[t];if(!(i instanceof vn)){if(i instanceof Yn){var r=i.value;if(!r||"Call"!=r.TYPE)break;if(r.is_expr_pure(e))break;var o=r.expression;if(o instanceof Rt){if(n.name&&n.name.definition()===o.definition())break;o=o.fixed_value()}if(!(o instanceof Rn||o instanceof Pn))break;if(o.uses_arguments)break;if(o===r.expression){if(o.parent_scope!==n)break;if(!fn(o.enclosed,function(e){return e.scope!==n}))break}if(o.contains_this())break;var a=o.argnames.length;if(0<a&&e.option("inline")<2)break;if(a>n.argnames.length)break;if(!fn(n.argnames,function(e){return e instanceof Nt}))break;if(!fn(r.args,function(e){return!(e instanceof ht)}))break;for(var s=0;s<a;s++){var f=r.args[s];if(!(f instanceof Rt))break;if(f.definition()!==n.argnames[s].definition())break}if(s<a)break;for(;s<r.args.length&&!r.args[s].has_side_effects(e);s++);if(s<r.args.length)break;if(a<n.argnames.length&&!e.drop_fargs(n,e.parent())){if(!e.drop_fargs(o,r))break;for(;o.argnames.push(o.make_var(Nt,o,"argument_"+a)),++a<n.argnames.length;);}return r.expression}break}}return n}),zn.DEFMETHOD("merge_variables",function(o){if(o.option("merge_vars")){var f,c=this,u={},a=[],s=[],l=0,p=new cn,d=Object.create(null),h=Object.create(null),v=new ni(function(i,e){if(i instanceof yt){var n=i.left;if(n instanceof kt){i.right.walk(v);var t=new ni(function(e){if(!(e instanceof kt))return e instanceof St?e.key instanceof pn?(w(),e.key.walk(v),x(),w(),e.value.walk(t),x()):e.value.walk(t):e instanceof Rt?k(e,!1):e.walk(v),!0});return n.walk(t),!0}return n instanceof Rt?("="!=i.operator&&k(n,!0),i.right.walk(v),k(n,!1),!0):void 0}if(i instanceof gt)return ae[i.operator]?(i.left.walk(v),w(),i.right.walk(v),x(),!0):void 0;var r;if(i instanceof Wn)return(s=v.loopcontrol_target(i))instanceof kn||E(s),!0;if(i instanceof ft){var o=i.expression,n=o.tail_node();return Fn(n)?(o!==n&&o.expressions.slice(0,-1).forEach(function(e){e.walk(v)}),i.args.forEach(function(e){e.walk(v)}),n.walk(v),!0):void 0}if(i instanceof bt)return i.condition.walk(v),w(),i.consequent.walk(v),x(),w(),i.alternative.walk(v),x(),!0;if(i instanceof Jn)return(s=v.loopcontrol_target(i))instanceof Sn&&E(s),!0;if(i instanceof Sn){w(),u.block=i,u.loop=!0;var a=u;return i.body.walk(v),u.inserted===i&&(u=a),i.condition.walk(v),x(),!0}if(i instanceof Dn)return i.init&&i.init.walk(v),w(),u.block=i,u.loop=!0,i.condition&&i.condition.walk(v),i.body.walk(v),i.step&&i.step.walk(v),x(),!0;if(i instanceof On)return i.object.walk(v),w(),u.block=i,u.loop=!0,i.init.walk(v),i.body.walk(v),x(),!0;if(i instanceof Gn)return i.condition.walk(v),w(),i.body.walk(v),x(),i.alternative&&(w(),i.alternative.walk(v),x()),!0;if(i instanceof xn){w(),u.block=i;a=u;return i.body.walk(v),u.inserted===i&&(u=a),x(),!0}if(i instanceof zn)return w(),(u.block=i)===c&&(f=u),i instanceof Mn&&(i.name&&(d[i.name.definition().id]=!1),t=i.uses_arguments&&!v.has_directive("use strict")?function(e){e instanceof Nt&&(d[e.definition().id]=!1)}:function(e){e instanceof Nt&&k(e,!1)},r=new ni(function(e){if(e instanceof jt&&(d[e.definition().id]=!1),e instanceof Rt){var n=e.definition(),t=i.variables.get(e.name);return t&&(t===n||n.undeclared||i.parent_scope.find_variable(e.name)===n)?(d[n.id]=!1,d[t.id]=!1):(t=u,x(),k(e,!0),u=t),!0}}),i.argnames.forEach(function(e){e.mark_symbol(t,r)})),i instanceof qn&&i.value?i.value.walk(v):bn(i,v),x(),!0;if(i instanceof Xn){i.expression.walk(v);a=u;return i.body.forEach(function(e){e instanceof Qn||(e.expression.walk(v),a===u&&w())}),u=a,i.body.forEach(function(e){w(),u.block=i;var n=u;bn(e,v),u.inserted===i&&(u=n),x()}),!0}if(i instanceof Rt)return k(i,!0),!0;if(i instanceof et)return w(),bn(u.block=i,v),x(),i.bcatch&&(i.bcatch.argname&&i.bcatch.argname.mark_symbol(function(e){e instanceof It&&(e=e.definition(),d[e.id]=!1,(e=e.redefined())&&(d[e.id]=!1))},v),w(),i.bfinally&&(u.block=i.bcatch),bn(i.bcatch,v),x()),i.bfinally&&i.bfinally.walk(v),!0;if(i instanceof vt){if(!ri[i.operator])return;var s=i.expression;return s instanceof Rt?(k(s,!0),!0):void 0}return i instanceof st?(i.value&&i.value.walk(v),i.name.mark_symbol(i.value?function(e){if(e instanceof jt)return e instanceof Ct?k(e,!1):d[e.definition().id]=!1,!0}:function(e){if(e instanceof jt){var n=e.definition().id;return e instanceof Ct?n in d?d[n]&&d[n].push(e):p.add(n,e):d[n]=!1,!0}},v),!0):i instanceof Tn?(w(),u.block=i,u.loop=!0,e(),x(),!0):void 0});v.directives=Object.create(o.directives),c.walk(v);for(var e=Object.create(null);a.length&&s.length;){var n=a.pop(),t=n.definition;if(t.id in h&&d[t.id]){for(var i={start:d[t.id].start};t.id in e;)t=e[t.id];i.end=d[t.id].end;var r=[];do{var m=s.pop();if(m&&!(m.index>n.index)){var _=m.definition.id,g=d[_];if(g){if(i.start.block===g.start.block&&T(i,g)&&(!i.start.loop||T(g,i))&&fn(g,function(e){return e.scope.find_variable(t.name)===t})){var b=[],y=[];g.forEach(function(e){e.thedef=t,e.name=t.name,(e instanceof Rt?y:b).push(e)}),t.orig=b.concat(t.orig),t.references=y.concat(t.references),t.fixed=m.definition.fixed&&t.fixed,e[_]=t;break}r.unshift(m)}}}while(s.length);r.length&&(s=s.concat(r))}}}function w(){u=Object.create(u)}function x(){u=Object.getPrototypeOf(u)}function k(e,n){var t,i,r=e.definition();if(r.id in d){if(!(i=d[r.id]))return;if(i.start.block!==u.block)return d[r.id]=!1;if(i.push(e),i.end=u,r.id in h)s[h[r.id]]=null;else if(!n)return}else{if((t=c.variables.get(r.name))!==r)return t&&f===u&&(d[t.id]=!1),d[r.id]=!1;if(o.exposed(r)||"arguments"==e.name)return d[r.id]=!1;if((i=p.get(r.id)||[]).push(e),d[r.id]=i,!n)return i.start=u,a.push({index:l++,definition:r});if(u.block!==c)return d[r.id]=!1;i.start=f}h[r.id]=s.length,s.push({index:l++,definition:r})}function E(e){for(var n=[];;){if(un(u,"block")){var t=u.block;if(t instanceof xn&&(t=t.body),t===e)break}n.push(u),x()}for(u.inserted=u.block,w();n.length;){var i=n.pop();w(),un(i,"block")&&(u.block=i.block),un(i,"loop")&&(u.loop=i.loop)}}function S(e,n){return e===n||e.isPrototypeOf(n)}function T(e,n){return S(e.start,e.end)||S(e.start,n.start)}}),zn.DEFMETHOD("drop_unused",function(y){if(y.option("unused")){var w=this,x=!(w instanceof $n)||y.toplevel.funcs,k=!(w instanceof $n)||y.toplevel.vars,E=/keep_assign/.test(y.option("unused"))?Qe:function(e,n){var t,i=!1;if(e instanceof yt?!e.write_only&&"="!=e.operator||(t=e.left):e instanceof vt&&e.write_only&&(t=e.expression),/strict/.test(y.option("pure_getters")))for(;t instanceof lt&&!t.expression.may_throw_on_access(y);)t instanceof dt&&n.unshift(t.property),t=t.expression,i=!0;if(t instanceof Rt&&!y.exposed(t.definition())&&ee(t,i))return t},S=Object.create(null),f=function(e){return(f=function e(n,t,i){var r=y.parent(t);if(!r)return i;if(r instanceof St){var o=y.parent(t+1);if(r.key===n){var a=y.parent(t+2);if(a instanceof Mn)return e(a,t+3,0<=a.argnames.indexOf(o)?function(e){var n=i(e);if(n)return n;if(n=a.variables.get(e)){var e=n.orig[0];if(e instanceof Nt||e instanceof Ht)return n}}:function(e){return i(e)||a.variables.get(e)})}return e(o,t+2,i)}return e(r,t+1,r.variables?function(e){return i(e)||r.variables.get(e)}:i)}(w,0,Ke))(e)},T=Object.create(null),c=[],D=Object.create(null),u=Object.create(null),l=Object.create(null);w instanceof $n&&y.top_retain&&w.variables.each(function(e){!y.top_retain(e)||e.id in D||(D[e.id]=!0,c.push(e))});var p=new cn,O=new cn,d=new cn,A=this,h=new ni(function(r,e){if(r instanceof Mn&&r.uses_arguments&&!h.has_directive("use strict")&&r.each_argname(function(e){e=e.definition();e.id in D||(D[e.id]=!0,c.push(e))}),r!==w){if(A===w){if(Hn(r)){var n=r.name.definition();return x||n.id in D||(D[n.id]=!0,c.push(n)),d.add(n.id,r),!0}if(r instanceof it)return r.definitions.forEach(function(t){var i=t.value&&(t.name instanceof kt||t.value.has_side_effects(y));t.name.mark_symbol(function(e){if(e instanceof jt){var n=e.definition();return O.add(n.id,t),r instanceof at&&n.orig[0]instanceof It&&((e=n.redefined())&&O.add(e.id,t)),n.id in D||k&&(r instanceof rt?!n.redefined():!n.const_redefs)&&(r instanceof at||ze(n))||(D[n.id]=!0,c.push(n)),t.value&&(i||d.add(n.id,t.value),p.add(n.id,t)),!0}},h),i&&t.value.walk(h)}),!0;if(r instanceof Nt){n=r.definition();return O.add(n.id,r),p.add(n.id,r),!0}}return t(r,e,!0)}});h.directives=Object.create(y.directives),w.walk(h),h=new ni(t);for(var e=0;e<c.length;e++){var n=d.get(c[e].id);n&&n.forEach(function(e){e.walk(h)})}Object.keys(S).forEach(function(e){var n,t=S[e];t?(t=t.reduce(function(n,e){return e.forEach(function(e){rn(n,e)}),n},[]),n=(p.get(e)||[]).filter(function(n){return Xe(n instanceof vt?function(e){return e===n}:function(e){return e===n||!(e instanceof vt)&&re(e)===re(n)},t)}),t.length==n.length?S[e]=n:delete S[e]):delete S[e]});var z=y.option("keep_fnames")?Qe:y.option("ie8")?function(e){return!y.exposed(e)&&e.references.length==e.replaced}:function(e){return!(e.id in D)||!(e.orig.length<2)&&(e.orig[1]instanceof Nt||fn(e.references,function(e){return!e.in_arg}))},$=[],M=[],j=[],F=new si(function(e){if(e instanceof Et){for(var n=!0,t=e.elements.length;0<=--t;){var i=e.elements[t];i instanceof jt?i.definition().id in D?n=!1:n?e.elements.pop():e.elements[t]=ne(Xt,i):(e.elements[t]=i.transform(F),n=!1)}return e}if(e instanceof St)return e.value instanceof jt?"string"!=typeof e.key||e.value.definition().id in D?e:tn.skip:(e.value=e.value.transform(F),e)}),q=new si(function(l,e,n){var p=q.parent();if(k){var t=[];if(o=E(l,t)){var i,r=(a=o.definition()).id in D;if(l instanceof yt?(!r||l.left===o&&H(a,l)<0)&&(i=I(l),!0===l.write_only&&(i=i.drop_side_effect_free(y)||ne(Lt,l,{value:0}))):(!r||l.expression===o&&H(a,l)<0)&&(i=ne(Lt,l,{value:0})),i)switch(p instanceof ut&&p.tail_node()!==l&&(i=i.drop_side_effect_free(y)),i&&t.push(i),t.length){case 0:return tn.skip;case 1:return te(0,p,l,t[0].transform(q));default:return R(l,t.map(function(e){return e.transform(q)}))}}else if(l instanceof _t&&l.expression instanceof Rt&&H(l.expression.definition(),l)<0)return ne(mt,l,{operator:"+",expression:l.expression})}if(l instanceof ft&&M.push(l),A===w){if(l instanceof Mn){if(x&&l!==w&&Hn(l))if(!((a=l.name.definition()).id in D))return C(l.name,"Dropping unused function {name}"),a.eliminated++,n?tn.skip:ne(mn,l);if(Fn(l)&&l.name&&z(l.name.definition())&&$.push(l),!(l instanceof jn)){for(var o,a,s=y.drop_fargs(l,p),f=l.argnames,c=f.length;0<=--c;)(o=f[c])instanceof kt?(o.transform(F),s=!1):(a=o.definition()).id in D?(s=!1,H(a,o)<0&&(o.__unused=null)):(o.__unused=!0,s&&(C(o,"Dropping unused function argument {name}"),f.pop()));j.push(l)}}if(l instanceof nt&&l.argname instanceof kt&&l.argname.transform(F),l instanceof it&&!(p instanceof On&&p.init===l)){var d=[],h=[],v=[],m=[],_=0,g=l instanceof at;switch(l.definitions.forEach(function(n){var s,e,t,i,r,o,a,f;function c(e){var n=e.definition();return n.orig[0]instanceof It&&n.scope.resolve()===e.scope.resolve()}function u(){0<m.length&&(0==v.length?d.push(ne(_n,l,{body:R(l,m)})):n.value?(m.push(n.value),n.value=R(n.value,m)):n.value=ne(mt,n,{operator:"void",expression:R(n,m)}),m=[]),v.push(n)}n.value&&(n.value=n.value.transform(q)),n.name instanceof kt?(f=n.value,s=new si(function(e){if(e instanceof Et){var n=f;f instanceof Rt&&(f=f.fixed_value());var t=f instanceof xt&&f.elements,i=[];if(e.elements.forEach(function(e,n){e instanceof Xt||(f=t&&t[n],(e=e.transform(s))&&(i[n]=e))}),f=n,t&&0==i.length)return null;for(var r=i.length;0<=--r;)i[r]||(i[r]=ne(Xt,e.elements[r]||e));return e.elements=i,e}if(e instanceof Tt){n=f;if(f instanceof Rt&&(f=f.fixed_value()),f instanceof Dt){t=Object.create(null);for(r=0;r<f.properties.length;r++){var o=f.properties[r];if("string"!=typeof o.key){t=null;break}t[o.key]=o.value}}var a=[];return(e.properties.forEach(function(e){var n=e.key instanceof pn?(e.key=e.key.transform(q),f=null,e.key.has_side_effects(y)):(f=t&&t[e.key],!1);n&&e.value instanceof jt?a.push(e):(n=e.value.transform(s))&&(e.value=n,a.push(e))}),f=n,0==a.length&&f&&!f.may_throw_on_access(y))?null:(e.properties=a,e)}if(e instanceof jt)return!k||e.definition().id in D||c(e)||g&&!ee(e)?e:null}),n.name.transform(s)?u():(f=f.drop_side_effect_free(y))&&m.push(f)):(e=n.name.definition(),!(t=g?ee(n.name):ze(e))||!k||e.id in D?(n.value&&H(e,n)<0&&(r=n.value.write_only,f=n.value.drop_side_effect_free(y),n.value!==f?n.value=f&&R(n.value,[f,ne(Lt,n.value,{value:0})]):n.value.write_only!==r&&(n.value.write_only=r)),a=O.get(e.id),n.value||l instanceof ot?y.option("functions")&&!y.option("ie8")&&!(l instanceof rt||l instanceof ot)&&1==a.length&&0==e.assignments&&n.value instanceof Pn&&(e.references.length?fn(e.references,function(e){return n.value===e.fixed_value()}):n.value===n.name.fixed_value())&&(!n.value.name||0==(i=n.value.name.definition()).assignments&&(i.name==n.name.name||fn(i.references,function(e){return e.scope.find_variable(n.name.name)===n.name.definition()})))&&(y.has_directive("use strict")?p instanceof zn:p instanceof yn||p instanceof Dn&&p.init===l||p instanceof Gn)&&function(e,n){n=e.variables.get(n);return!n||e.name&&n===e.name.definition()}(n.value,n.name.name)?(pn.warn("Declaring {name} as function [{file}:{line},{col}]",N(n.name)),(r=ne(Rn,n,n.value)).name=ne(Pt,n.name,n.name),o=n.name.scope.resolve().def_function(r.name),i&&i.references.forEach(function(e){e.name=o.name,e.thedef=o,e.reference({})}),d.push(r)):(t&&1<a.length&&e.orig.indexOf(n.name)>e.eliminated&&(an(a,n),_++),u()):t&&1<a.length?(pn.info("Dropping declaration of variable {name} [{file}:{line},{col}]",N(n.name)),an(a,n),e.eliminated++):h.push(n)):c(n.name)?((f=n.value&&n.value.drop_side_effect_free(y))&&m.push(f),1<(a=O.get(e.id)).length?(pn.warn("Dropping duplicated declaration of variable {name} [{file}:{line},{col}]",N(n.name)),an(a,n),e.eliminated++):(n.value=null,h.push(n))):((f=n.value&&!n.value.single_use&&n.value.drop_side_effect_free(y))?(pn.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",N(n.name)),m.push(f)):C(n.name,"Dropping unused variable {name}"),e.eliminated++))}),h.length){case 0:if(0==v.length)break;if(v.length==_){[].unshift.apply(m,v.map(function(e){pn.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",N(e.name));var n=e.name.definition(),t=ne(Rt,e.name,e.name);n.references.push(t);t=ne(yt,e,{operator:"=",left:t,right:e.value}),e=H(n,e);return 0<=e&&(S[n.id][e]=t),n.eliminated++,t}));break}case 1:if(0==v.length){var u=h[0].name.definition().id;if(u in T){l.definitions=h,T[u].init=l;break}}default:l.definitions=h.concat(v),d.push(l)}return 0<m.length&&d.push(ne(_n,l,{body:R(l,m)})),P(d,l,n)}if(l instanceof xn&&l.body instanceof Dn){if(e(l,q),l.body instanceof wn){var b=l.body;return l.body=b.body.pop(),b.body.push(l),n?tn.splice(b.body):b}return l}if(l instanceof zn){b=A;return e(A=l,q),A=b,l}}},function(e,n){if(e instanceof wn)switch(e.body.length){case 0:return n?tn.skip:ne(mn,e);case 1:var t=e.body[0];if(!(t instanceof rt||t instanceof ot))return t}else{if(e instanceof Dn)return e.init instanceof wn&&(o=e.init,e.init=o.body.pop(),o.body.push(e)),e.init instanceof Rn?((o=o||ne(wn,e,{body:[e]})).body.splice(-1,0,e.init),e.init=null):e.init instanceof _n?e.init=e.init.body:U(e.init)&&(e.init=null),o?n?tn.splice(o.body):o:e;if(e instanceof On){if(k&&y.option("loops")&&U(e.body)){var i=g(e);if(i){var r=i.definition();if(!(r.id in D)){C(i,"Dropping unused loop variable {name}"),T[r.id]===e&&delete T[r.id];var o=[],i=e.object.drop_side_effect_free(y);return i&&(pn.warn("Side effects in object of for-in loop [{file}:{line},{col}]",i.start),o.push(ne(_n,e,{body:i}))),e.init instanceof it&&r.orig[0]instanceof It&&o.push(e.init),P(o,e,n)}}}}else if(e instanceof ut&&1==e.expressions.length)return e.expressions[0]}});q.push(y.parent()),w.transform(q),w instanceof Mn&&1==w.body.length&&w.body[0]instanceof vn&&"use strict"==w.body[0].value&&(w.body.length=0),$.forEach(function(e){e.name=null}),M.forEach(function(e){qe(e,y,j)})}function C(e,n){pn[0<e.definition().references.length?"info":"warn"](n+" [{file}:{line},{col}]",N(e))}function N(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}function P(e,n,t){switch(e.length){case 0:return t?tn.skip:ne(mn,n);case 1:return e[0];default:return t?tn.splice(e):ne(wn,n,{body:e})}}function v(e,n){return e.scope===w&&(e.fixed&&n.fixed||(S[e.id]=!1),!1!==S[e.id])}function m(e,n){S[e.id]||(S[e.id]=[]),n.fixed.assigns&&rn(S[e.id],n.fixed.assigns)}function H(e,n){e=S[e.id];return e&&e.indexOf(n)}function _(e,n,t){e.id in D||(n&&t?(D[e.id]=!0,c.push(e)):(u[e.id]=n,l[e.id]=t))}function I(e){var n=e.right;if(!e.write_only)return n;if(!(n instanceof gt&&ae[n.operator]))return n;if(!(n.left instanceof Rt))return n;if(!(e.left instanceof Rt))return n;e=e.left.definition();return n.left.definition()!==e||n.right.has_side_effects(y)?n:(v(e,n.left)&&m(e,n.left),n.right)}function g(e){var n=e.init;if(n instanceof it)return(n=n.definitions[0].name)instanceof jt&&n;for(;n instanceof lt;)n=n.expression.tail_node();return n instanceof Rt?n:void 0}function t(e,n,t){e instanceof yt&&e.left instanceof Rt&&(i=e.left.definition()).scope===w&&p.add(i.id,e),e instanceof vt&&e.expression instanceof Rt&&(i=e.expression.definition()).scope===w&&p.add(i.id,e);var i,r=[],o=E(e,r);if(o&&w.variables.get(o.name)===(s=o.definition())&&(!Z(s)||fn(w.argnames,function(e){return!e.match_symbol(function(e){if(e instanceof Nt){e=e.definition();return e.references.length>e.replaced}},!0)}))){if(r.forEach(function(e){e.walk(h)}),e instanceof yt){if("p"===e.write_only&&e.right.may_throw_on_access(y))return;var a,r=I(e);t&&!0===e.write_only&&s.scope===w&&!r.has_side_effects(y)?d.add(s.id,r):r.walk(h),e.left===o?e.write_only||_(s,!0,l[s.id]):(a=o.fixed_value())&&a.is_constant()||_(s,u[s.id],!0)}return v(s,o)&&se(o,e)!==o&&m(s,o),!0}if(e instanceof On){if(e.init instanceof Rt&&A===w&&((a=e.init.definition().id)in T||(T[a]=e)),!k||!y.option("loops"))return;if(!U(e.body))return;if(e.init.has_side_effects(y))return;if(!(o=g(e)))return;if((i=o.definition()).scope!==w){o=f(o.name);if((o&&o.redefined()||o)===i)return}return e.object.walk(h),!0}if(e instanceof Rt)return(s=e.definition()).id in D||(D[s.id]=!0,c.push(s)),b(s.scope,e.scope)&&(!(i=s.redefined())||i.id in D||(D[i.id]=!0,c.push(i))),v(s,e)&&m(s,e),!0;if(e instanceof zn){var s=A;return A=e,n(),A=s,!0}}}),zn.DEFMETHOD("hoist_declarations",function(r){if(!r.has_directive("use asm")){var n,o=r.option("hoist_funs"),a=r.option("hoist_vars"),s=this;if(a&&(n=0,s.walk(new ni(function(e){return 1<n||(e instanceof zn&&e!==s||(e instanceof at?(n++,!0):void 0))})),n<=1&&(a=!1)),o||a){var f=[],c=[],u=new cn,l=0,p=new si(function(e){if(e!==s){if(e instanceof vn)return f.push(e),ne(mn,e);if(o&&e instanceof Rn&&(p.parent()===s||!r.has_directive("use strict")))return c.push(e),ne(mn,e);if(a&&e instanceof at){e.definitions.forEach(function(e){u.set(e.name.name,e),++l});var n=e.to_assignments(),t=p.parent();if(t instanceof On&&t.init===e){if(n)return n;var i=e.definitions[0].name;return ne(Rt,i,i)}return t instanceof Dn&&t.init===e?n:n?ne(_n,e,{body:n}):ne(mn,e)}return e instanceof zn?e:void 0}});if(s.transform(p),0<l){var t=[];if(u.each(function(e,n){s instanceof Mn&&!fn(s.argnames,function(e){return e.name!=n})?u.del(n):((e=e.clone()).value=null,t.push(e),u.set(n,e))}),0<t.length){for(var e=0;e<s.body.length;){if(s.body[e]instanceof _n){var i,d,h,v=s.body[e].body;if(v instanceof yt&&"="==v.operator&&(i=v.left)instanceof Mt&&u.has(i.name)){if((h=u.get(i.name)).value)break;h.value=v.right,an(t,h),t.push(h),s.body.splice(e,1);continue}if(v instanceof ut&&(d=v.expressions[0])instanceof yt&&"="==d.operator&&(i=d.left)instanceof Mt&&u.has(i.name)){if((h=u.get(i.name)).value)break;h.value=d.right,an(t,h),t.push(h),s.body[e].body=R(v,v.expressions.slice(1));continue}}if(s.body[e]instanceof mn)s.body.splice(e,1);else{if(!(s.body[e]instanceof wn))break;v=[e,1].concat(s.body[e].body);s.body.splice.apply(s.body,v)}}t=ne(at,s,{definitions:t}),c.push(t)}}s.body=f.concat(c,s.body)}}}),zn.DEFMETHOD("process_boolean_returns",Ke),Rn.DEFMETHOD("process_boolean_returns",function(e){var n;e.option("booleans")&&(n=ye(this),we(this.name.definition(),n,e)&&xe(this,e))}),Pn.DEFMETHOD("process_boolean_returns",function(e){if(e.option("booleans")){var n=ye(this);if(!this.name||we(this.name.definition(),n,e)){var t=e.parent();if(t instanceof yt){if("="!=t.operator)return;if(!((i=t.left)instanceof Rt))return;if(!we(i.definition(),n,e))return}else if(t instanceof ft&&t.expression!==this){var i,r=t.expression;if(r instanceof Rt&&(r=r.fixed_value()),!(r instanceof Mn))return;if(r.uses_arguments||r.pinned())return;if((i=r.argnames[t.args.indexOf(this)])&&!we(i.definition(),n,e))return}else{if("Call"!=t.TYPE)return;e.pop();t=e.in_boolean_context();if(e.push(this),!t)return}xe(this,e)}}}),gn.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),zn.DEFMETHOD("make_var",function(e,n,t){var i=[this];n instanceof jt&&n.definition().references.forEach(function(e){var n=e.scope;if(!Ge(n,i))for(;rn(i,n),n=n.parent_scope,n&&n!==this;);});for(var r=t=t.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),o=0;!fn(i,function(e){return!e.var_names()[r]});o++)r=t+"$"+o;var n=ne(e,n,{name:r,scope:this}),a=this.def_variable(n);return i.forEach(function(e){e.enclosed.push(a),e.var_names()[r]=!0}),n}),zn.DEFMETHOD("hoist_properties",function(e){var s,r,f;function c(e,n,t){if(e instanceof Mt){var i=e.definition();return i.assignments==t?!i.direct_access&&(1!=i.escaped.depth&&(i.references.length-i.replaced!=t&&(!i.single_use&&(!r(i)&&(e.fixed_value()===n&&(n instanceof Dt&&0<n.properties.length&&fn(n.properties,function(e){return e instanceof At&&"string"==typeof e.key})&&fn(i.references,function(e){return e.fixed_value()===n})&&ee(e))))))):void 0}}e.option("hoist_props")&&!e.has_directive("use asm")&&(r=(s=this)instanceof $n&&e.top_retain||Qe,f=Object.create(null),s.transform(new si(function(t,e){if(t instanceof yt){if("="!=t.operator)return;if(!t.write_only)return;if(t.left.scope!==s)return;if(!c(t.left,t.right,1))return;e(t,this);var i=new cn,r=[],o=[];return t.right.properties.forEach(function(e){var n=a(t.left,e.key);o.push(ne(st,t,{name:n,value:null}));n=ne(Rt,t,{name:n.name,scope:s,thedef:n.definition()});n.reference({}),r.push(ne(yt,t,{operator:"=",left:n,right:e.value}))}),f[t.left.definition().id]=i,s.body.splice(s.body.indexOf(this.stack[1])+1,0,ne(at,t,{definitions:o})),R(t,r)}if(t instanceof zn)return t===s?void 0:t;if(t instanceof st&&c(t.name,t.value,0)){e(t,this);var i=new cn,n=[];return t.value.properties.forEach(function(e){n.push(ne(st,t,{name:a(t.name,e.key),value:e.value}))}),f[t.name.definition().id]=i,tn.splice(n)}function a(e,n){e=s.make_var(Ct,e,e.name+"_"+n);return i.set(n,e.definition()),e}})),s.transform(new si(function(i,e){if(i instanceof gt)return t("right");if(i instanceof lt){if(!(i.expression instanceof Rt))return;var n=f[i.expression.definition().id];if(!n)return;n=n.get(i.getProperty()),n=ne(Rt,i,{name:n.name,scope:i.expression.scope,thedef:n});return n.reference({}),n}return i instanceof vt&&!fi[i.operator]?t("expression"):void 0;function t(e){var n=i[e];if(n instanceof Rt&&n.definition().id in f){var t=i.clone();return t[e]=ne(Dt,n,{properties:[]}),t}}})))}),(J=function(e,n){e.DEFMETHOD("drop_side_effect_free",n)})(pn,en),J(jn,nn),J(xt,function(e,n){n=Ee(this.elements,e,n,Se);return n?n===this.elements&&fn(n,function(e){return e instanceof ht})?this:R(this,n.map(Te)):null}),J(qn,nn),J(yt,function(e){var n=this.left;if(n instanceof lt){var t=n.expression;if(t instanceof yt&&"="==t.operator&&!t.may_throw_on_access(e)&&(t.write_only="p"),e.has_directive("use strict")&&t.is_constant())return this}return n.has_side_effects(e)?this:(this.write_only=!0,ie(n).is_constant_expression(e.find_parent(zn))?this.right.drop_side_effect_free(e):this)}),J(Nn,nn),J(gt,function(e,n){if("in"==this.operator&&!Re(this.right))return(t=this.left.drop_side_effect_free(e,n))===this.left?this:((i=this.clone()).left=t||ne(Lt,this.left,{value:0}),i);var t,i,r=this.right.drop_side_effect_free(e,n);return r?!ae[this.operator]||r instanceof Pn?(t=this.left.drop_side_effect_free(e,n))?R(this,[t,r.drop_side_effect_free(e)]):r:(r!==(i=this).right&&((i=this.clone()).right=r.drop_side_effect_free(e)),(n?B:I)(i,ne(gt,this,{operator:"&&"==i.operator?"||":"&&",left:i.left.negate(e,n),right:i.right}))):this.left.drop_side_effect_free(e,n)}),J(ft,function(t,e){var n=this;if(n.is_expr_pure(t)){n.pure&&pn.warn("Dropping __PURE__ call [{file}:{line},{col}]",n.start);var i=Ee(n.args,t,e,Se);return i&&R(n,i.map(Te))}var r=n.expression;if(n.is_call_pure(t))return(o=n.args.slice()).unshift(r.expression),(o=Ee(o,t,e,Se))&&R(n,o.map(Te));if(r instanceof Pn&&!(r.name&&(a=r.name.definition()).references.length>a.replaced)&&(r.process_expression(!1,function(e){var n=e.value&&e.value.drop_side_effect_free(t,!0);return n?ne(_n,e,{body:n}):ne(mn,e)}),be(r,function(e){e.value&&(e.value=e.value.drop_side_effect_free(t))}),(n=n.clone()).expression=r.clone()),n instanceof ct){i=r;if(i instanceof Rt&&(i=i.fixed_value()),i instanceof Mn){i.new=!0;var o,a=fn(i.body,function(e){return!e.has_side_effects(t)});if(delete i.new,a)return(o=n.args.slice()).unshift(r),(o=Ee(o,t,e,Se))&&R(n,o.map(Te));if(!i.contains_this())return ne(ft,n,n)}}return n}),J(bt,function(e){var n,t,i=this.consequent.drop_side_effect_free(e),r=this.alternative.drop_side_effect_free(e);return i===this.consequent&&r===this.alternative?this:(e.option("ie8")&&(n=[],i instanceof Pn&&(n.push(i),i=null),r instanceof Pn&&(n.push(r),r=null)),i?r?((t=this.clone()).consequent=i,t.alternative=r):t=ne(gt,this,{operator:"&&",left:this.condition,right:i}):t=r?ne(gt,this,{operator:"||",left:this.condition,right:r}):this.condition.drop_side_effect_free(e),e.option("ie8")?(t&&n.push(t),0==n.length?null:R(this,n)):t)}),J(Bt,nn),J(pt,function(e,n){var t=this.expression;return t.may_throw_on_access(e)?this:t.drop_side_effect_free(e,n)}),J(Pn,function(e){return ke(this,e)?null:this}),J(Dt,function(e,n){var t=[];this.properties.forEach(function(e){e instanceof ht?t.push(e):(e.key instanceof pn&&t.push(e.key),t.push(e.value))});n=Ee(t,e,n,function(e,n,t){var i=e.expression;return ue(i)?e:i.drop_side_effect_free(n,t)});return n?n!==t||fn(n,function(e){return!(e instanceof ht)})?R(this,n.map(function(e){return e instanceof ht?ne(Dt,e,{properties:[e]}):e})):this:null}),J(ut,function(e,n){var t=Ee(this.expressions,e,n);if(!t)return null;var i,r,o,n=t.length-1;return e.option("conditionals")&&0<n&&(i=t[n-1])instanceof yt&&"="==i.operator&&(o=i.left)instanceof Rt&&(r=Ce(e,o.definition(),i.right,t[n]))&&((i=i.clone()).right=r,(t=t.slice(0,-2)).push(i)),t===this.expressions?this:R(this,t)}),J(dt,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);e=this.property.drop_side_effect_free(e);return e?R(this,[t,e]):t}),J(Rt,function(e){return this.is_declared(e)&&ee(this)?null:this}),J(Ut,nn),J(vt,function(e,n){var t=this.expression;if(fi[this.operator])return this.write_only=!t.has_side_effects(e),this;if("typeof"==this.operator&&t instanceof Rt&&ee(t))return null;var i=t.drop_side_effect_free(e,n);return n&&i&&P(i)?i===t&&"!"==this.operator?this:i.negate(e,n):i}),e(_n,function(e,n){if(n.option("side_effects")){var t=e.body,n=t.drop_side_effect_free(n,!0);if(!n)return pn.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),ne(mn,e);if(n!==t)return ne(_n,e,{body:n})}return e}),e(Tn,function(e,n){return n.option("loops")?ne(Dn,e,e).optimize(n):e}),e(Sn,function(t,e){if(!e.option("loops"))return t;var n=t.condition.is_truthy()||t.condition.evaluate(e,!0);if(!(n instanceof pn)){if(n&&!De(t,e.parent(),Jn))return ne(Dn,t,{body:ne(wn,t.body,{body:[t.body,ne(_n,t.condition,{body:t.condition})]})}).optimize(e);if(!De(t,e.parent()))return ne(wn,t.body,{body:[t.body,ne(_n,t.condition,{body:t.condition})]}).optimize(e)}if(t.body instanceof wn&&!De(t,e.parent(),Jn)){for(var i=t.body.body,r=i.length;0<=--r;){var o=i[r];if(o instanceof Gn&&!o.alternative&&o.body instanceof Wn&&e.loopcontrol_target(o.body)===t){if(a(o.condition))break;t.condition=ne(gt,t,{operator:"&&",left:o.condition.negate(e),right:t.condition}),i.splice(r,1)}else if(o instanceof _n){if(a(o.body))break;t.condition=R(t,[o.body,t.condition]),i.splice(r,1)}else if(!A(o))break}t.body=ge(t.body)}return t.body instanceof mn?ne(Dn,t,t).optimize(e):t.body instanceof _n?ne(Dn,t,{condition:R(t.condition,[t.body.body,t.condition]),body:ne(mn,t)}).optimize(e):t;function a(e){var n=!1;return e.walk(new ni(function(e){return!!n||(e instanceof Rt?(Ge(e.definition(),t.enclosed)||(n=!0),!0):void 0)})),n}}),e(Dn,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&(e.init&&(e.init=e.init.drop_side_effect_free(n)),e.step&&(e.step=e.step.drop_side_effect_free(n))),e.condition){var t,i=e.condition.evaluate(n);if(i instanceof pn?i=e.condition.is_truthy()||e.condition.evaluate(n,!0):i?e.condition=null:n.option("dead_code")||(t=e.condition,e.condition=k(i,e.condition),e.condition=I(e.condition.transform(n),t)),i)!e.condition||i instanceof pn||(e.body=ne(wn,e.body,{body:[ne(_n,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){i=[];return e.init instanceof dn?i.push(e.init):e.init&&i.push(ne(_n,e.init,{body:e.init})),i.push(ne(_n,e.condition,{body:e.condition})),$(n,e.body,i),ne(wn,e,{body:i}).optimize(n)}}return function n(t,i){var e=a(t.body);if(i.option("dead_code")&&(e instanceof Wn||e instanceof Jn&&s(e)||e instanceof Bn)){var r=[];t.init instanceof dn?r.push(t.init):t.init&&r.push(ne(_n,t.init,{body:t.init}));var o=s(e)||e instanceof Bn;return t.condition&&o?r.push(ne(Gn,t,{condition:t.condition,body:e,alternative:null})):t.condition?r.push(ne(_n,t.condition,{body:t.condition})):o&&r.push(e),$(i,t.body,r),ne(wn,t,{body:r})}if(e instanceof Gn){if((o=a(e.body))instanceof Wn&&!s(o))return t.condition?t.condition=ne(gt,t.condition,{left:t.condition,operator:"&&",right:e.condition.negate(i)}):t.condition=e.condition.negate(i),r=S(e.alternative),$(i,e.body,r),f(r);if((o=a(e.alternative))instanceof Wn&&!s(o))return t.condition?t.condition=ne(gt,t.condition,{left:t.condition,operator:"&&",right:e.condition}):t.condition=e.condition,r=S(e.body),$(i,e.alternative,r),f(r)}return t;function a(e){return e instanceof wn?e.body[0]:e}function s(e){return i.loopcontrol_target(e)!==i.self()}function f(e){return t.body instanceof wn?(t.body=t.body.clone(),t.body.body=e.concat(t.body.body.slice(1)),t.body=t.body.transform(i)):t.body=ne(wn,t.body,{body:e}).transform(i),n(t,i)}}(e,n)}),e(On,function(e,n){var t;return n.option("varify")&&(e.init instanceof rt||e.init instanceof ot)&&(((t=e.init.definitions[0].name)instanceof kt||t instanceof qt)&&!t.match_symbol(function(e){if(e instanceof jt)return $e(n,e.definition())})&&(e.init=Me(e.init))),e}),e(Gn,function(e,f){if(U(e.alternative)&&(e.alternative=null),!f.option("conditionals"))return e;var n=e.condition.evaluate(f);if(f.option("dead_code")||n instanceof pn||(c=e.condition,e.condition=k(n,c),e.condition=I(e.condition.transform(f),c)),f.option("dead_code")){if(n instanceof pn&&(n=e.condition.is_truthy()||e.condition.evaluate(f,!0)),!n){pn.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var t=[ne(_n,e.condition,{body:e.condition})];return $(f,e.body,t),e.alternative&&t.push(e.alternative),ne(wn,e,{body:t}).optimize(f)}if(!(n instanceof pn)){pn.warn("Condition always true [{file}:{line},{col}]",e.condition.start);t=[ne(_n,e.condition,{body:e.condition}),e.body];return e.alternative&&$(f,e.alternative,t),ne(wn,e,{body:t}).optimize(f)}}var i=e.condition.negate(f),r=e.condition.print_to_string().length,o=i.print_to_string().length,a=o<r;e.alternative&&a&&(a=!1,e.condition=i,u=e.body,e.body=e.alternative||ne(mn,e),e.alternative=u);var t=[],s=[],c=[],n=p(e.body,t,s,c),u=p(e.alternative,t,s,c);if(n&&u)return 0<s.length&&t.push(ne(at,e,{definitions:s})),0==n.length?t.push(ne(_n,e.condition,{body:0<u.length?ne(gt,e,{operator:"||",left:e.condition,right:R(e.alternative,u)}).transform(f):e.condition.clone()}).optimize(f)):0==u.length?(r===o&&!a&&e.condition instanceof gt&&"||"==e.condition.operator&&(a=!0),t.push(ne(_n,e,{body:ne(gt,e,{operator:a?"||":"&&",left:a?i:e.condition,right:R(e.body,n)}).transform(f)}).optimize(f))):t.push(ne(_n,e,{body:ne(bt,e,{condition:e.condition,consequent:R(e.body,n),alternative:R(e.alternative,u)})}).optimize(f)),c.forEach(function(e){e.definition().references.push(e)}),ne(wn,e,{body:t}).optimize(f);if(U(e.body)&&(e=ne(Gn,e,{condition:i,body:e.alternative,alternative:null})),e.body instanceof Bn&&e.alternative instanceof Bn&&e.body.TYPE==e.alternative.TYPE){var l=ne(e.body.CTOR,e,{value:ne(bt,e,{condition:e.condition,consequent:e.body.value||ne(Gt,e.body).transform(f),alternative:e.alternative.value||ne(Gt,e.alternative).transform(f)})});return l instanceof Yn&&(l.in_bool=e.body.in_bool||e.alternative.in_bool),l}if(e.body instanceof Gn&&!e.body.alternative&&!e.alternative&&(e=ne(Gn,e,{condition:ne(gt,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),ve(e.body)&&e.alternative){l=e.alternative;return e.alternative=null,ne(wn,e,{body:[e,l]}).optimize(f)}if(ve(e.alternative)){t=e.body;return e.body=e.alternative,e.condition=a?i:e.condition.negate(f),e.alternative=null,ne(wn,e,{body:[e,t]}).optimize(f)}return f.option("typeofs")&&Oe(e.condition,e.body,e.alternative),e;function p(e,n,t,i){if(null==e)return[];if(e instanceof wn){for(var r=[],o=0;o<e.body.length;o++){var a=e.body[o];if(a instanceof Rn)n.push(a);else if(!(a instanceof mn))if(a instanceof _n){if(!f.option("sequences")&&0<r.length)return;r.push(a.body)}else{if(!(a instanceof at))return;if(!f.option("sequences")&&0<r.length)return;a.remove_initializers(f,t),a.definitions.forEach(s)}}return r}if(e instanceof Rn)return n.push(e),[];if(e instanceof mn)return[];if(e instanceof _n)return[e.body];if(e instanceof at){r=[];return e.remove_initializers(f,t),e.definitions.forEach(s),r}function s(e){e.value&&r.push(ne(yt,e,{operator:"=",left:e.name.convert_symbol(Rt,function(e){i.push(e)}),right:e.value}))}}}),e(Xn,function(i,t){if(!t.option("switches"))return i;var e,n,r=i.expression.evaluate(t);if(r instanceof pn||(n=i.expression,i.expression=k(r,n),i.expression=I(i.expression.transform(t),n)),!t.option("dead_code"))return i;r instanceof pn&&(r=i.expression.evaluate(t,!0));for(var o,a,s,f=[],c=[],u=0,l=i.body.length;u<l&&!s;u++){if((e=i.body[u])instanceof Qn){var p=c[c.length-1];if(o||_(e.body[0],t)&&(!p||ve(p))){b(e,p);continue}o=e}else if(!(r instanceof pn)){if(!((d=e.expression.evaluate(t))instanceof pn)&&d!==r){b(e,c[c.length-1]);continue}d instanceof pn&&(d=e.expression.evaluate(t,!0)),d===r&&(s=e,o&&(a=c.indexOf(o),c.splice(a,1),b(o,c[a-1]),o=null))}ve(e)&&ve(p=c[c.length-1])&&p.body.length==e.body.length&&ne(wn,p,p).equivalent_to(ne(wn,e,e))&&(p.body=[]),c.push(e)}for(;u<l;)b(i.body[u++],c[c.length-1]);for(;e=c[c.length-1];){if(_(e.body[e.body.length-1],t)&&e.body.pop(),e===o){if(!T(e))break}else{if(e.expression.has_side_effects(t))break;if(o){if(!T(o))break;if(c[c.length-2]!==o)break;o.body=o.body.concat(e.body),e.body=[]}else if(!T(e))break}b(e),c.pop()===o&&(o=null)}if(0==c.length)return ne(wn,i,{body:f.concat(ne(_n,i.expression,{body:i.expression}))}).optimize(t);if(c[0].body=f.concat(c[0].body),i.body=c,t.option("conditionals"))switch(c.length){case 1:if(!g(c[0]))break;var d=c[0].expression,h=c[0].body.slice();return c[0]!==o&&c[0]!==s?ne(Gn,i,{condition:ne(gt,i,{operator:"===",left:i.expression,right:d}),body:ne(wn,i,{body:h}),alternative:null}).optimize(t):(d&&h.unshift(ne(_n,d,{body:d})),h.unshift(ne(_n,i.expression,{body:i.expression})),ne(wn,i,{body:h}).optimize(t));case 2:if(!Ge(o,c)||!g(c[1]))break;var v=(h=c[0].body.slice()).length&&_(h[h.length-1],t);if(v&&h.pop(),!fn(h,g))break;var m=c[1].body.length&&ne(wn,c[1],c[1]),h=ne(Gn,i,{condition:ne(gt,i,c[0]===o?{operator:"!==",left:i.expression,right:c[1].expression}:{operator:"===",left:i.expression,right:c[0].expression}),body:ne(wn,c[0],{body:h}),alternative:v&&m||null});return!v&&m&&(h=ne(wn,i,{body:[h,m]})),h.optimize(t)}return i;function _(e,n){return e instanceof Wn&&n.loopcontrol_target(e)===i}function g(e){var n=!1,t=new ni(function(e){if(n||e instanceof Mn||e instanceof _n)return!0;_(e,t)&&(n=!0)});return t.push(i),e.walk(t),!n}function b(e,n){n&&!ve(n)?n.body=n.body.concat(e.body):$(t,e,f)}}),e(et,function(e,n){if(e.body=z(e.body,n),n.option("dead_code")){if(T(e)&&!(e.bcatch&&e.bcatch.argname&&e.bcatch.argname.match_symbol(function(e){return e instanceof It&&!ee(e)},!0))){var t=[];return e.bcatch&&($(n,e.bcatch,t),t.forEach(function(e){e instanceof at&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),t.unshift(ne(wn,e,e).optimize(n)),e.bfinally&&t.push(ne(wn,e.bfinally,e.bfinally).optimize(n)),ne(wn,e,{body:t}).optimize(n)}if(e.bfinally&&T(e.bfinally)){t=ne(wn,e.bfinally,e.bfinally).optimize(n);if(t=e.body.concat(t),!e.bcatch)return ne(wn,e,{body:t}).optimize(n);e.body=t,e.bfinally=null}}return e}),rt.DEFMETHOD("remove_initializers",Ae(function(e,n){return ne(Gt,n).optimize(e)})),ot.DEFMETHOD("remove_initializers",Ae(nn)),at.DEFMETHOD("remove_initializers",Ae(nn)),it.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){var t,i=n.name.definition();return n.value&&(t=ne(Rt,n.name,n.name),e.push(ne(yt,n,{operator:"=",left:t,right:n.value})),i.references.push(t)),i.eliminated++,e},[]);return 0==e.length?null:R(this,e)}),e(rt,je),e(ot,je),e(ft,function(f,c){var t,a=f.expression;if(c.option("sequences"))if(a instanceof lt){if((b=Fe(a))!==a){var e=f.clone();return e.expression=b.expressions.pop(),b.expressions.push(e),b.optimize(c)}}else if(!N(0,a.tail_node()))if((b=Fe(f))!==f)return b.optimize(c);if(c.option("unused")&&qe(f,c),c.option("unsafe"))if(H(a))switch(a.name){case"Array":if(1==f.args.length){if((s=f.args[0])instanceof Lt)try{var n=s.value;if(6<n)break;for(var i=Array(n),r=0;r<n;r++)i[r]=ne(Xt,f);return ne(xt,f,{elements:i})}catch(e){pn.warn("Invalid array length: {length} [{file}:{line},{col}]",{length:n,file:f.start.file,line:f.start.line,col:f.start.col});break}if(!s.is_boolean(c)&&!s.is_string(c))break}return ne(xt,f,{elements:f.args});case"Object":if(0==f.args.length)return ne(Dt,f,{properties:[]});break;case"String":if(0==f.args.length)return ne(Yt,f,{value:""});if(f.args.length<=1)return ne(gt,f,{left:f.args[0],operator:"+",right:ne(Yt,f,{value:""})}).optimize(c);break;case"Number":if(0==f.args.length)return ne(Lt,f,{value:0});if(1==f.args.length)return ne(mt,f,{expression:f.args[0],operator:"+"}).optimize(c);case"Boolean":if(0==f.args.length)return ne(Zt,f);if(1==f.args.length)return ne(mt,f,{expression:ne(mt,f,{expression:f.args[0],operator:"!"}),operator:"!"}).optimize(c);break;case"RegExp":var o=[];if(fn(f.args,function(e){var n=e.evaluate(c);return o.unshift(n),e!==n}))try{return Y(c,f,ne(Vt,f,{value:RegExp.apply(RegExp,o)}))}catch(e){pn.warn("Error converting {expr} [{file}:{line},{col}]",{expr:f,file:f.start.file,line:f.start.line,col:f.start.col})}}else if(a instanceof pt)switch(a.property){case"toString":if(0==f.args.length&&!a.expression.may_throw_on_access(c))return ne(gt,f,{left:ne(Yt,f,{value:""}),operator:"+",right:a.expression}).optimize(c);break;case"join":if(a.expression instanceof xt)if(!(0<f.args.length&&(t=f.args[0].evaluate(c))===f.args[0])){var s,i=[],u=[];return(a.expression.elements.forEach(function(e){var n=e.evaluate(c);n!==e?u.push(n):(0<u.length&&(i.push(ne(Yt,f,{value:u.join(t)})),u.length=0),i.push(e))}),0<u.length&&i.push(ne(Yt,f,{value:u.join(t)})),0==i.length)?ne(Yt,f,{value:""}):1==i.length?i[0].is_string(c)?i[0]:ne(gt,i[0],{operator:"+",left:ne(Yt,f,{value:""}),right:i[0]}):""==t?(s=i[0].is_string(c)||i[1].is_string(c)?i.shift():ne(Yt,f,{value:""}),i.reduce(function(e,n){return ne(gt,n,{operator:"+",left:e,right:n})},s).optimize(c)):((A=f.clone()).expression=A.expression.clone(),A.expression.expression=A.expression.expression.clone(),A.expression.expression.elements=i,Y(c,f,A))}break;case"charAt":if(f.args.length<2)return(A=ne(dt,f,{expression:a.expression,property:f.args.length?ne(gt,f.args[0],{operator:"|",left:ne(Lt,f,{value:0}),right:f.args[0]}):ne(Lt,f,{value:0})})).is_string=Ze,A.optimize(c);break;case"apply":if(2==f.args.length&&f.args[1]instanceof xt)return(w=f.args[1].elements.slice()).unshift(f.args[0]),ne(ft,f,{expression:ne(pt,a,{expression:a.expression,property:"call"}),args:w}).optimize(c);break;case"call":var l=a.expression;if(l instanceof Rt&&(l=l.fixed_value()),l instanceof Mn&&!l.contains_this())return(f.args.length?R(this,[f.args[0],ne(ft,f,{expression:a.expression,args:f.args.slice(1)})]):ne(ft,f,{expression:a.expression,args:[]})).optimize(c)}if(c.option("unsafe_Function")&&H(a)&&"Function"==a.name){if(0==f.args.length)return ne(Pn,f,{argnames:[],body:[]}).init_vars(a.scope);if(fn(f.args,function(e){return e instanceof Yt}))try{var p=ai(m="n(function("+f.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+f.args[f.args.length-1].value+"})"),d={ie8:c.option("ie8")};p.figure_out_scope(d);var h,v=new ui(c.options);(p=p.transform(v)).figure_out_scope(d),p.compute_char_frequency(d),p.mangle_names(d),p.walk(new ni(function(e){return!!h||(e instanceof Mn?(h=e,!0):void 0)}));var m=ci();return wn.prototype._codegen.call(h,m),f.args=[ne(Yt,f,{value:h.argnames.map(function(e){return e.print_to_string()}).join(",")}),ne(Yt,f.args[f.args.length-1],{value:m.get().replace(/^\{|\}$/g,"")})],f}catch(e){if(!(e instanceof ii))throw e;pn.warn("Error parsing code passed to new Function [{file}:{line},{col}]",f.args[f.args.length-1].start),pn.warn(e.toString())}}var _=a instanceof Rt?a.fixed_value():a,g=_ instanceof qn||_ instanceof Rn||_ instanceof Pn,e=g&&_.first_statement(),b=g&&c.option("inline")&&!f.is_expr_pure(c)&&fn(_.argnames,function(e){return!(e instanceof kt)})&&fn(f.args,function(e){return!(e instanceof ht)});if(b&&e instanceof Yn){var y=e.value;if(a===_&&(!y||y.is_constant_expression()&&$(y))){var w=f.args.concat(y||ne(Gt,f));return R(f,w).optimize(c)}}if(g){var x,k=!1;if(b&&!_.uses_arguments&&!_.pinned()&&!(_.name&&_ instanceof Pn)&&(a===_||!Be(c,x=a.definition())&&_.is_constant_expression(C(c)))&&(y=function(e){var n=_.body.length;if(n<2&&(e=M(e)))return e;if(c.option("inline")<3)return!1;e=null;for(var t=0;t<n;t++){var i=_.body[t];if(i instanceof at){var r=k||!fn(i.definitions,function(e){return!e.value});if(r&&(k=!0,e))return!1}else if(!(i instanceof In||i instanceof Rn||i instanceof mn)){if(e)return!1;e=i}}return M(e)}(e))&&!_.contains_this()){var E,S,T,D=a===_||x.single_use&&x.references.length-x.replaced==1;if(function(){if(k)return;if(c.option("inline")<2&&_.argnames.length)return;if(!_.variables.all(function(e){return e.references.length-e.replaced<2&&e.orig[0]instanceof Nt}))return;var i,r=!1,o=[],a=!1,s=!0;if(y.walk(new ni(function(e,n){if(r)return!0;if(!(e instanceof gt&&ae[e.operator]||e instanceof bt)){if(e instanceof zn)return r=!0;if(s&&e instanceof Mt&&"await"==e.name){if(Cn(c.find_parent(zn)))return r=!0;s=!1}if(e instanceof Rt){var t=e.definition();if(_.variables.get(e.name)!==t)return void(o=null);if(Hn(t.init))return r=!0;if(se(e,this.parent()))return r=!0;t=j(t);return(i<t||(i=t),o)?void(a?o=null:o.push(_.argnames[t])):void 0}return e.has_side_effects(c)?(n(),a=!0):void 0}o=null})),r)return;var e=f.args.length;if(o&&_.argnames.length>=e){for(e=_.argnames.length;e-- >i&&_.argnames[e]===o.pop(););e++}var n=a&&!o&&c.find_parent(zn);return e<=i||fn(f.args.slice(i,e),n?function(e){return e.is_constant_expression(n)}:function(e){return!e.has_side_effects(c)})}()){var w=f.args.slice(),O=[];w.push(y.clone(!0).transform(new si(function(e){if(e instanceof Rt){var n=e.definition();if(_.variables.get(e.name)!==n)return O.push(e),e;var t=j(n),n=w[t];if(!n)return ne(Gt,f);w[t]=null;t=this.parent();return t?te(0,t,e,n):n}})));var A=R(f,w.filter(function(e){return e})).optimize(c);if(A=te(0,c.parent(),c.self(),A),D||I(A,f)===A)return O.forEach(function(e){var n=e.definition();n.references.push(e),D&&n.replaced++}),A}if(D&&function(){var e,n=Object.create(null),t=0;T=c.self();do{if(T.variables&&T.variables.each(function(e){n[e.name]=!0}),e=T,(T=c.parent(t++))instanceof En)S=[];else if(T instanceof Dn)T.init!==e&&(S=[]);else if(T instanceof On)T.init!==e&&T.object!==e&&(S=[]);else if(T instanceof Rt&&T.fixed_value()instanceof zn)return!1}while(!(T instanceof zn));if(!(E=T.body.indexOf(e)+1))return!1;if(!$(_))return!1;var i=a!==_||_.parent_scope.resolve()===T;T instanceof $n&&(c.toplevel.vars?n.arguments=!0:i=!1);var r=c.option("inline"),o=Object.create(n);return!!function(e,n,t){for(var i=0;i<_.argnames.length;i++){var r=_.argnames[i];if(!r.__unused){if(!t||F(e,r.name))return!1;n[r.name]=!0,S&&S.push(r.definition())}}return!0}(n,o,2<=r&&i)&&(!!function(n,e,t){for(var i=0;i<_.body.length;i++){var r=_.body[i];if(Hn(r)){if(!t||F(e,r.name.name))return!1;if(!fn(r.enclosed,function(e){return e.scope===r||!n[e.name]}))return!1}else if(r instanceof at){if(!t)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(F(n,a.name))return!1;S&&S.push(a.definition())}}}return!0}(n,o,3<=r&&i)&&(!S||0==S.length||!Le(_,S)))}()){_._squeezed=!0,a!==_&&(_.parent_scope=a.scope);A=R(f,function(){var e=[],n=[];(function(e,n){for(var t=_.argnames.length,i=f.args.length;--i>=t;)n.push(f.args[i]);for(i=t;0<=--i;){var r,o=_.argnames[i],a=f.args[i];o.__unused||T.var_names()[o.name]?a&&n.push(a):(r=ne(Ct,o,o),o.definition().orig.push(r),!a&&S&&(a=ne(Gt,f)),"__unused"in o?(q(e,n,r),a&&n.push(a)):q(e,n,r,a))}e.reverse(),n.reverse()})(e,n),function(e,n){for(var t=n.length,i=0;i<_.body.length;i++){var r=_.body[i];if(r instanceof at)for(var o=0;o<r.definitions.length;o++){var a,s=r.definitions[o],f=s.name,c=f.definition().redefined();c&&((f=f.clone()).thedef=c),q(e,n,f,s.value),S&&fn(_.argnames,function(e){return e.name!=f.name})&&(a=_.variables.get(f.name),c=ne(Rt,f,f),a.references.push(c),n.splice(t++,0,ne(yt,s,{operator:"=",left:c,right:ne(Gt,f)})))}}}(e,n),n.push(y);var t=_.body.filter(function(e){if(Hn(e)){e=e.name.definition();return T.functions.set(e.name,e),T.variables.set(e.name,e),T.enclosed.push(e),T.var_names()[e.name]=!0}});t.unshift(E,0),e.length&&t.push(ne(at,_,{definitions:e}));return[].splice.apply(T.body,t),_.enclosed.forEach(function(e){T.var_names()[e.name]||(T.enclosed.push(e),T.var_names()[e.name]=!0)}),n}()).optimize(c);return te(0,c.parent(),c.self(),A)}}if(c.option("side_effects")&&fn(_.body,U)&&(_!==a||ke(_,c))&&!(_ instanceof qn&&_.value)&&fn(_.argnames,function(e){return!(e instanceof kt)}))return(w=f.args.map(function(e){return e instanceof ht?ne(xt,e,{elements:[e]}):e})).push(ne(Gt,f)),R(f,w).optimize(c)}if(c.option("drop_console")&&a instanceof lt){for(var z=a.expression;z.expression;)z=z.expression;if(H(z)&&"console"==z.name)return ne(Gt,f).optimize(c)}return c.option("negate_iife")&&c.parent()instanceof _n&&P(f)?f.negate(c,!0):W(c,f);function $(e){if(!Cn(T||c.find_parent(zn)))return 1;var t=!0,i=new ni(function(e){if(!t)return!0;if(e instanceof zn){if(e===_)return;if(e instanceof qn)for(var n=0;t&&n<e.argnames.length;n++)e.argnames[n].walk(i);else Hn(e)&&"await"==e.name.name&&(t=!1);return!0}e instanceof Mt&&"await"==e.name&&e!==_.name&&(t=!1)});return e.walk(i),t}function M(e){return e?e instanceof Yn?e.value||ne(Gt,f):e instanceof _n?ne(mt,e,{operator:"void",expression:e.body}):void 0:ne(Gt,f)}function j(e){for(var n=_.argnames.length;0<=--n;)if(_.argnames[n].definition()===e)return n}function F(e,n){return e[n]||oe[n]||T.var_names()[n]}function q(e,n,t,i){var r=t.definition();T.variables.set(t.name,r),T.enclosed.push(r),T.var_names()[t.name]||(T.var_names()[t.name]=!0,e.push(ne(st,t,{name:t,value:null}))),i&&(t=ne(Rt,t,t),r.references.push(t),n.push(ne(yt,f,{operator:"=",left:t,right:i})))}}),e(ct,function(e,n){if(n.option("sequences")){var t=Fe(e);if(t!==e)return t.optimize(n)}if(n.option("unsafe")){t=e.expression;if(H(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return ne(ft,e,e).transform(n)}}return e}),e(ut,function(e,o){var i=function(){if(!o.option("side_effects"))return e.expressions;var t=[],i=ln(o),r=e.expressions.length-1;return e.expressions.forEach(function(e,n){n<r&&(e=e.drop_side_effect_free(o,i)),e&&(E(t,e),i=!1)}),t}(),r=i.length-1;return function(){if(o.option("conditionals"))for(var e=1;e<r;e++){var n,t=i[e-1];t instanceof yt&&"="==t.operator&&t.left instanceof Rt&&(n=t.left.definition(),(n=Ce(o,n,t.right,i[e]))&&(t.right=n,i.splice(e,1),r--))}}(),function(){if(o.option("side_effects")){for(;0<r&&M(i[r],o);)r--;r<i.length-1&&(i[r]=ne(mt,e,{operator:"void",expression:i[r]}),i.length=r+1)}}(),0==r?(e=te(0,o.parent(),o.self(),i[0]))instanceof ut||(e=e.optimize(o)):e.expressions=i,e}),e(_t,function(e,n){if(n.option("sequences")){var t=Fe(e);if(t!==e)return t.optimize(n)}return W(n,e)});var Ne=sn("+ -"),Pe=sn("* / %");e(mt,function(e,n){var t=e.operator,i=e.expression;if(n.option("evaluate")&&"delete"==t&&!(i instanceof Rt||i instanceof lt||((r=i)instanceof Kt||r instanceof Jt||r instanceof Gt)))return i instanceof ut?((i=i.expressions.slice()).push(ne(ei,e)),R(e,i).optimize(n)):R(e,[i,ne(ei,e)]).optimize(n);if(n.option("sequences")&&("typeof"!=t||!H(i.tail_node()))){var r=Fe(e);if(r!==e)return r.optimize(n)}if(n.option("side_effects")&&"void"==t)return(i=i.drop_side_effect_free(n))?(e.expression=i,e):ne(Gt,e).optimize(n);if(n.option("booleans")){if("!"==t&&i.is_truthy())return R(e,[i,ne(Zt,e)]).optimize(n);if(n.in_boolean_context())switch(t){case"!":if(i instanceof mt&&"!"==i.operator)return i.expression;i instanceof gt&&(e=Y(n,e,i.negate(n,ln(n))));break;case"typeof":pn.warn("Boolean expression always true [{file}:{line},{col}]",e.start);var o=[ne(ei,e)];return i instanceof Rt&&ee(i)||o.unshift(i),R(e,o).optimize(n)}}return"-"==t&&i instanceof Kt&&(i=i.transform(n)),n.option("evaluate")&&i instanceof gt&&Ne[t]&&Pe[i.operator]&&(i.left.is_constant()||!i.right.has_side_effects(n))?ne(gt,e,{operator:i.operator,left:ne(mt,i.left,{operator:t,expression:i.left}),right:i.right}):"-"==t&&(i instanceof Lt||i instanceof Kt)?e:W(n,e)}),gt.DEFMETHOD("lift_sequences",function(e){if(this.left instanceof lt){if(!(this.left.expression instanceof ut))return this;var n=this.left.expression.expressions.slice();return(t=this.clone()).left=t.left.clone(),t.left.expression=n.pop(),n.push(t),R(this,n)}if(this.left instanceof ut){n=this.left.expressions.slice();return(t=this.clone()).left=n.pop(),n.push(t),R(this,n)}if(this.right instanceof ut){if(this.left.has_side_effects(e))return this;for(var t,i="="==this.operator&&this.left instanceof Rt,r=(n=this.right.expressions).length-1,o=0;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),R(this,n);if(0<o)return(t=this.clone()).right=R(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),R(this,n)}return this});var He=sn("indexOf lastIndexOf"),Ie=sn("== === != !== * & | ^");function Re(e){return e instanceof yt?"="==e.operator&&Re(e.right):e instanceof ut?Re(e.tail_node()):e instanceof Rt?Re(e.fixed_value()):e instanceof xt||e instanceof Mn||e instanceof ct||e instanceof Dt}function Ue(e,n){return n instanceof pt?Ue(e,n.expression):n instanceof dt?Ue(e,n.expression)&&Ue(e,n.property):n instanceof Mt||!n.has_side_effects(e)}function Be(e,n){var t=0,i=e.self();do{if(i instanceof Mn&&i.name&&i.name.definition()===n)return i}while(i=e.parent(t++))}function Ye(e,n){return e instanceof Rt||e.TYPE===n.TYPE}function Le(t,n){var i=!1,r=new ni(function(e){return!!i||(e instanceof Rt&&Ge(e.definition(),n)?i=!0:void 0)}),o=new ni(function(e){if(i)return!0;if(e instanceof zn&&e!==t){var n=o.parent();if(!(n instanceof ft&&n.expression===e))return e.walk(r),!0}});return t.walk(o),i}e(gt,function(t,a){function n(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(a)&&!t.right.has_side_effects(a)}function e(e){n()&&(e&&(t.operator=e),e=t.left,t.left=t.right,t.right=e)}function i(){var e=t.right;t.left=ne(gt,t,{operator:t.operator,left:t.left,right:e.left,start:t.left.start,end:e.left.end}),t.right=e.right,t.left=t.left.transform(a)}if(!Ie[t.operator]||!t.right.is_constant()||t.left.is_constant()||t.left instanceof gt&&oi[t.left.operator]>=oi[t.operator]||e(),a.option("sequences")){var r=t.lift_sequences(a);if(r!==t)return r.optimize(a)}if(a.option("assignments")&&ae[t.operator]){var o=t.right;if(t.left instanceof Rt&&o instanceof yt&&"="==o.operator&&t.left.equivalent_to(o.left))return t.right=o.right,o.right=t,o}if(a.option("comparisons"))switch(t.operator){case"===":case"!==":if(M(t.left,a)&&t.right.is_defined(a))return pn.warn("Expression always defined [{file}:{line},{col}]",t.start),R(t,[t.right,ne("==="==t.operator?Zt:ei,t)]).optimize(a);var s=!0;(t.left.is_string(a)&&t.right.is_string(a)||t.left.is_number(a)&&t.right.is_number(a)||t.left.is_boolean(a)&&t.right.is_boolean(a)||Ue(a,t.left)&&t.left.equivalent_to(t.right))&&(t.operator=t.operator.slice(0,2));case"==":case"!=":if(!s&&M(t.left,a))t.left=ne(Wt,t.left);else if(a.option("typeofs")&&t.left instanceof Yt&&"undefined"==t.left.value&&t.right instanceof mt&&"typeof"==t.right.operator){var f=t.right.expression;(f instanceof Rt?!f.is_declared(a):f instanceof lt&&a.option("ie8"))||(t.right=f,t.left=ne(Gt,t.left).optimize(a),2==t.operator.length&&(t.operator+="="))}else if(t.left instanceof Rt&&t.right instanceof Rt&&t.left.definition()===t.right.definition()&&Re(t.left))return ne("="==t.operator[0]?ei:Zt,t).optimize(a);break;case"&&":case"||":if((h=t.left).operator==t.operator&&(h=h.right),h instanceof gt&&h.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof gt&&h.operator==t.right.operator&&(M(h.left,a)&&t.right.left instanceof Wt||h.left instanceof Wt&&M(t.right.left,a))&&!h.right.has_side_effects(a)&&h.right.equivalent_to(t.right.right)){f=ne(gt,t,{operator:h.operator.slice(0,-1),left:ne(Wt,t),right:h.right});return h!==t.left&&(f=ne(gt,t,{operator:t.operator,left:t.left.left,right:f})),f}}var c=a.option("booleans")&&a.in_boolean_context();if(c)switch(t.operator){case"+":var u=t.left.evaluate(a),l=t.right.evaluate(a);if(u&&"string"==typeof u)return pn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),R(t,[t.right,ne(ei,t)]).optimize(a);if(l&&"string"==typeof l)return pn.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),R(t,[t.left,ne(ei,t)]).optimize(a);break;case"==":if(t.left instanceof Yt&&""==t.left.value&&t.right.is_string(a))return ne(mt,t,{operator:"!",expression:t.right}).optimize(a);break;case"!=":if(t.left instanceof Yt&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a)}var p=a.parent();if(a.option("comparisons")&&t.is_boolean(a)){if(!(p instanceof gt)||p instanceof yt){o=Y(a,t,ne(mt,t,{operator:"!",expression:t.negate(a,ln(a))}));if(o!==t)return o}switch(t.operator){case">":e("<");break;case">=":e("<=")}}if(a.option("conditionals")&&ae[t.operator]&&t.right instanceof gt&&t.operator==t.right.operator&&i(),a.option("strings")&&"+"==t.operator){if(t.right instanceof Yt&&""==t.right.value&&t.left.is_string(a))return t.left.optimize(a);if(t.left instanceof Yt&&""==t.left.value&&t.right.is_string(a))return t.right.optimize(a);if(t.left instanceof gt&&"+"==t.left.operator&&t.left.left instanceof Yt&&""==t.left.left.value&&t.right.is_string(a))return t.left=t.left.right,t.optimize(a);t.right instanceof gt&&t.operator==t.right.operator&&(t.left.is_string(a)&&t.right.is_string(a)||t.right.left.is_string(a)&&(t.left.is_constant()||!t.right.right.has_side_effects(a)))&&i()}if(a.option("evaluate")){var d,h,v,m=!0;switch(t.operator){case"&&":if(!(u=x(t.left)))return pn.warn("Condition left of && always false [{file}:{line},{col}]",t.start),te(0,p,a.self(),t.left).optimize(a);if(!(u instanceof pn))return pn.warn("Condition left of && always true [{file}:{line},{col}]",t.start),R(t,[t.left,t.right]).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof pn)&&(c||"&&"==p.operator&&p.left===a.self()))return pn.warn("Dropping side-effect-free && [{file}:{line},{col}]",t.start),t.left.optimize(a)}else{if(c)return pn.warn("Boolean && always false [{file}:{line},{col}]",t.start),R(t,[t.left,ne(Zt,t)]).optimize(a);t.falsy=!0}if("||"==t.left.operator)if(!(d=t.left.right.evaluate(a,!0)))return ne(bt,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(a);break;case"||":if(!(u=x(t.left)))return pn.warn("Condition left of || always false [{file}:{line},{col}]",t.start),R(t,[t.left,t.right]).optimize(a);if(!(u instanceof pn))return pn.warn("Condition left of || always true [{file}:{line},{col}]",t.start),te(0,p,a.self(),t.left).optimize(a);if(l=t.right.evaluate(a)){if(!(l instanceof pn)){if(c)return pn.warn("Boolean || always true [{file}:{line},{col}]",t.start),R(t,[t.left,ne(ei,t)]).optimize(a);t.truthy=!0}}else if(c||"||"==p.operator&&p.left===a.self())return pn.warn("Dropping side-effect-free || [{file}:{line},{col}]",t.start),t.left.optimize(a);if("&&"==t.left.operator)if((d=t.left.right.is_truthy()||t.left.right.evaluate(a,!0))&&!(d instanceof pn))return ne(bt,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(a);break;case"+":if(t.left instanceof Bt&&t.right instanceof gt&&"+"==t.right.operator&&t.right.left instanceof Bt&&t.right.is_string(a)&&(t=ne(gt,t,{operator:"+",left:ne(Yt,t.left,{value:""+t.left.value+t.right.left.value,start:t.left.start,end:t.right.left.end}),right:t.right.right})),t.right instanceof Bt&&t.left instanceof gt&&"+"==t.left.operator&&t.left.right instanceof Bt&&t.left.is_string(a)&&(t=ne(gt,t,{operator:"+",left:t.left.left,right:ne(Yt,t.right,{value:""+t.left.right.value+t.right.value,start:t.left.right.start,end:t.right.end})})),t.right instanceof mt&&"-"==t.right.operator&&t.left.is_number(a)){t=ne(gt,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof mt&&"-"==t.left.operator&&n()&&t.right.is_number(a)){t=ne(gt,t,{operator:"-",left:t.right,right:t.left.expression});break}if(a.option("unsafe_math")&&t.left instanceof gt&&oi[t.left.operator]==oi[t.operator]&&t.right.is_constant()&&(t.right.is_boolean(a)||t.right.is_number(a))&&t.left.is_number(a)&&!t.left.right.is_constant()&&(t.left.left.is_boolean(a)||t.left.left.is_number(a))){t=ne(gt,t,{operator:t.left.operator,left:ne(gt,t,{operator:t.operator,left:t.right,right:t.left.left}),right:t.left.right});break}case"-":if(t.right instanceof mt&&"-"==t.right.operator&&t.left.is_number(a)&&t.right.expression.is_number(a)){t=ne(gt,t,{operator:"+",left:t.left,right:t.right.expression});break}case"*":case"/":m=a.option("unsafe_math"),"+"!=t.operator&&["left","right"].forEach(function(e){var n=t[e];n instanceof mt&&"+"==n.operator&&(((n=n.expression).is_boolean(a)||n.is_number(a)||n.is_string(a))&&(t[e]=n))});case"&":case"|":case"^":if("-"==t.operator||"/"==t.operator||!t.left.is_boolean(a)&&!t.left.is_number(a)||!t.right.is_boolean(a)&&!t.right.is_number(a)||!n()||t.left instanceof gt&&t.left.operator!=t.operator&&oi[t.left.operator]>=oi[t.operator]||(v=ne(gt,t,{operator:t.operator,left:t.right,right:t.left}),t=t.right instanceof Bt&&!(t.left instanceof Bt)?Y(a,v,t):Y(a,t,v)),!m||!t.is_number(a))break;!(t.right instanceof gt&&"%"!=t.right.operator&&oi[t.right.operator]==oi[t.operator]&&t.right.is_number(a)&&("+"!=t.operator||t.right.left.is_boolean(a)||t.right.left.is_number(a)))||"-"==t.operator&&t.left.is_negative_zero()||!t.right.left.is_constant_expression()&&t.right.right.has_side_effects(a)||"+"!=(t=ne(gt,t,{operator:y(t.operator,t.right.operator),left:ne(gt,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})).operator||t.right.is_boolean(a)||t.right.is_number(a)||(t.right=ne(mt,t.right,{operator:"+",expression:t.right})),t.right instanceof Bt&&t.left instanceof gt&&"%"!=t.left.operator&&oi[t.left.operator]==oi[t.operator]&&t.left.is_number(a)&&(t.left.left instanceof Bt?(h=w(t.left,t.operator,t.left.left,t.right,t.left.left.start,t.right.end),t=w(t,t.left.operator,W(a,h),t.left.right)):t.left.right instanceof Bt&&(v=y(t.left.operator,t.operator),!(v=W(a,w(t.left,v,t.left.right,t.right))).is_constant()||"-"==t.left.operator&&0!=t.right.value&&0==+v.value&&t.left.left.is_negative_zero()||(t=w(t,t.left.operator,t.left.left,v))))}if(!(p instanceof mt&&"delete"==p.operator)){if(t.left instanceof Lt&&!t.right.is_constant())switch(t.operator){case"+":if(0==t.left.value){if(t.right.is_boolean(a))return ne(mt,t,{operator:"+",expression:t.right}).optimize(a);if(t.right.is_number(a)&&!t.right.is_negative_zero())return t.right}break;case"*":if(1==t.left.value)return t.right.is_number(a)?t.right:ne(mt,t,{operator:"+",expression:t.right}).optimize(a)}if(t.right instanceof Lt&&!t.left.is_constant())switch(t.operator){case"+":if(0==t.right.value){if(t.left.is_boolean(a))return ne(mt,t,{operator:"+",expression:t.left}).optimize(a);if(t.left.is_number(a)&&!t.left.is_negative_zero())return t.left}break;case"-":if(0==t.right.value)return t.left.is_number(a)?t.left:ne(mt,t,{operator:"+",expression:t.left}).optimize(a);break;case"/":if(1==t.right.value)return t.left.is_number(a)?t.left:ne(mt,t,{operator:"+",expression:t.left}).optimize(a)}}}if(a.option("typeofs"))switch(t.operator){case"&&":Oe(t.left,t.right,null);break;case"||":Oe(t.left,null,t.right)}if(a.option("unsafe")){var _=k(t.right);if(c&&_&&("=="==t.operator||"!="==t.operator)&&t.left instanceof Lt&&0==t.left.value)return("=="==t.operator?ne(mt,t,{operator:"!",expression:t.right}):t.right).optimize(a);var g=k(t.left);if(a.option("comparisons")&&function(){switch(t.operator){case"<=":return _&&t.left instanceof Lt&&0==t.left.value;case"<":if(g&&t.right instanceof Lt&&0==t.right.value)return!0;case"==":case"!=":return _?t.left instanceof Lt&&-1==t.left.value||t.left instanceof mt&&"-"==t.left.operator&&t.left.expression instanceof Lt&&1==t.left.expression.value:!1}}()){var b=ne(mt,t,{operator:"!",expression:ne(mt,t,{operator:"~",expression:g?t.left:t.right})});switch(t.operator){case"<":if(g)break;case"<=":case"!=":b=ne(mt,t,{operator:"!",expression:b})}return b.optimize(a)}}return W(a,t);function y(e,n){switch(e){case"-":return"+"==n?"-":"+";case"/":return"*"==n?"/":"*";default:return n}}function w(e,n,t,i,r,o){return"+"==n&&(t.is_boolean(a)||t.is_number(a)||(t=ne(mt,t,{operator:"+",expression:t})),i.is_boolean(a)||i.is_number(a)||(i=ne(mt,i,{operator:"+",expression:i}))),ne(gt,e,{operator:n,left:t,right:i,start:r,end:o})}function x(e){return!!e.truthy||!e.falsy&&(!!e.is_truthy()||e.evaluate(a,!0))}function k(e){return"Call"==e.TYPE&&e.expression instanceof pt&&He[e.expression.property]}}),e(Rt,function(e,n){if(!n.option("ie8")&&H(e)&&(!e.scope.resolve().uses_with||!n.find_parent(An)))switch(e.name){case"undefined":return ne(Gt,e).optimize(n);case"NaN":return ne(Jt,e).optimize(n);case"Infinity":return ne(Kt,e).optimize(n)}var t=n.parent();if(n.option("reduce_vars")&&se(n.self(),t)!==n.self()){var i,r,o=e.definition(),a=e.fixed_value(),t=o.single_use&&!(t instanceof ft&&t.is_expr_pure(n));if(t)if(a instanceof Mn){if(o.scope===e.scope.resolve()&&!o.in_loop||n.option("reduce_funcs")&&1!=o.escaped.depth&&!a.inlined){if(Be(n,o))t=!1;else if(a.name&&a.name.definition()!==o)t=!1;else if((a.parent_scope!==e.scope.resolve()||o.orig[0]instanceof Nt)&&"f"==(t=a.is_constant_expression(e.scope)))for(var s=e.scope;(Hn(s)||Fn(s))&&(s.inlined=!0),s=s.parent_scope;);}else t=!1;t&&(a.parent_scope=e.scope)}else a&&a.is_constant_expression()||(t=!1);if(t)return o.single_use=!1,a._squeezed=!0,a.single_use=!0,a instanceof In?(a=ne(Nn,a,a)).name=ne(Ht,a.name,a.name):a instanceof Rn&&((a=ne(Pn,a,a)).name=ne(Ht,a.name,a.name)),a instanceof Mn&&(s=e.scope.resolve(),a.enclosed.forEach(function(e){a.variables.has(e.name)||s.var_names()[e.name]||(s.enclosed.push(e),s.var_names()[e.name]=!0)})),0<o.recursive_refs?(i=(l=a.clone(!0)).name.definition(),(c=(r=l.variables.get(l.name.name))&&r.orig[0])instanceof Ht||(((c=ne(Ht,l.name,l.name)).scope=l).name=c,(r=l.def_function(c)).recursive_refs=o.recursive_refs),l.walk(new ni(function(e){var n,t;e instanceof Rt&&((n=e.definition())===i?(e.thedef=r).references.push(e):(n.single_use=!1,(t=e.fixed_value())instanceof Mn&&t.name&&t.name.definition()===n&&n.scope===t.name.scope&&a.variables.get(t.name.name)===n&&(t.name=t.name.clone(),t=l.variables.get(t.name.name)||l.def_function(t.name),(e.thedef=t).references.push(e))))}))):(l=a.optimize(n))===a&&(l=l.transform(new si(function(e,n){return e instanceof zn||n(e=e.clone(),this),e}))),o.replaced++,l;var f,c,u,l,t=e.fixed!==o.fixed;if(a&&(t||!1!==o.should_replace))if(a instanceof Ut?o.orig[0]instanceof Nt||!p(o)||(f=a):(u=a.evaluate(n,!0))!==a&&"function"!=typeof u&&("object"!=typeof u||u instanceof RegExp&&n.option("unsafe_regexp")&&!o.cross_loop&&p(o))&&(f=k(u,a)),f)if(t||void 0!==o.should_replace||(c=f.optimize(n).print_to_string().length,d(a)||(c=Math.min(c,a.print_to_string().length)),u=o.name.length,n.option("unused")&&!n.exposed(o)&&(u+=(u+2+c)/(o.references.length-o.replaced-o.assignments)),u=c-Math.floor(u),o.should_replace=u<n.eval_threshold),t||o.should_replace)return d(a)?(l=f.optimize(n))===f&&(l=l.clone(!0)):(l=I(f.optimize(n),a))!==f&&l!==a||(l=l.clone(!0)),o.replaced++,l}return e;function p(e){var n=e.scope.resolve();return fn(e.references,function(e){return n===e.scope.resolve()})}function d(e){var n;return e.walk(new ni(function(e){if(e instanceof Rt&&(n=!0),n)return!0})),n}}),e(Gt,function(e,n){if(n.option("unsafe_undefined")){var t=C(n).find_variable("undefined");if(t){t=ne(Rt,e,{name:"undefined",scope:t.scope,thedef:t});return t.is_undefined=!0,t}}n=se(n.self(),n.parent());return n&&Ye(n,e)?e:ne(mt,e,{operator:"void",expression:ne(Lt,e,{value:0})})}),e(Kt,function(e,n){var t=se(n.self(),n.parent());return(!t||!Ye(t,e))&&(!n.option("keep_infinity")||t&&!Ye(t,e)||C(n).find_variable("Infinity"))?ne(gt,e,{operator:"/",left:ne(Lt,e,{value:1}),right:ne(Lt,e,{value:0})}):e}),e(Jt,function(e,n){var t=se(n.self(),n.parent());return t&&!Ye(t,e)||C(n).find_variable("NaN")?ne(gt,e,{operator:"/",left:ne(Lt,e,{value:0}),right:ne(Lt,e,{value:0})}):e});var Ve=sn("+ - * / % >> << >>> | ^ &"),We=sn("* | ^ &");function Je(e,n){if(e instanceof Rt&&(e=e.fixed_value()),e){if(!(e instanceof Mn))return 1;var t=n.parent();return"Call"!=t.TYPE||(t.expression!==n.self()||!e.contains_this())}}e(yt,function(o,a){if(a.option("dead_code"))if(o.left instanceof lt){if("="==o.operator){if(o.__drop){var e=[o.left.expression];return o.left instanceof dt&&e.push(o.left.property),e.push(o.right),R(o,e).optimize(a)}if(o.left.equivalent_to(o.right)&&!o.left.has_side_effects(a))return o.right;e=o.left.expression;if(e instanceof Mn||!a.has_directive("use strict")&&e instanceof Bt&&!e.may_throw_on_access(a))return o.left instanceof pt?o.right:R(o,[o.left.property,o.right]).optimize(a)}}else if(o.left instanceof Rt&&fn(o.left.definition().orig,function(e){return!(e instanceof Ft)})){if("="==o.operator&&o.left.equivalent_to(o.right)&&!((f=a.parent())instanceof mt&&"delete"==f.operator))return o.right;if(o.left.is_immutable())return p();var n,t=o.left.definition(),s=t.scope.resolve(),i=s===a.find_parent(Mn),r=0,f=o;do{if(n=f,(f=a.parent(r++))instanceof yt){var c=!1;if(f.left.match_symbol(function(e){if(e instanceof lt)return!0;if(!c&&e instanceof Rt&&e.definition()===t){if(l(r,f))return!0;t.fixed=!1,c=!0}}))break;if(c)return p()}else{if(f instanceof Bn){if(!i)break;if(l(r,f))break;if(Le(s,[t]))break;return t.fixed=!1,p()}if(f instanceof st&&f.name instanceof jt&&f.name.definition()===t){if(l(r,f))break;return t.fixed=!1,p()}}}while(f instanceof gt&&f.right===n||f instanceof ut&&f.tail_node()===n||f instanceof mt)}if(a.option("sequences")){var u=o.lift_sequences(a);if(u!==o)return u.optimize(a)}if(a.option("assignments")){if("="==o.operator&&o.left instanceof Rt&&o.right instanceof gt){if(o.right.left instanceof Rt&&o.right.left.name==o.left.name&&Ve[o.right.operator])return ne(yt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.right}).optimize(a);if(o.right.right instanceof Rt&&o.right.right.name==o.left.name&&We[o.right.operator]&&!o.right.left.has_side_effects(a))return ne(yt,o,{operator:o.right.operator+"=",left:o.left,right:o.right.left}).optimize(a)}if(("-="==o.operator||"+="==o.operator&&(o.left.is_boolean(a)||o.left.is_number(a)))&&o.right instanceof Lt&&1==o.right.value){u=o.operator.slice(0,-1);return ne(mt,o,{operator:u+u,expression:o.left})}}return W(a,o);function l(e,n){var t=o.right;o.right=ne(Wt,t);var i,r=n.may_throw(a);for(o.right=t;i=a.parent(e++);){if(i===s)return;if(i instanceof et){if(i.bfinally)return 1;if(r&&i.bcatch)return 1}}}function p(){return("="!=o.operator?ne(gt,o,{operator:o.operator.slice(0,-1),left:o.left,right:o.right}):te(0,a.parent(),o,o.right)).optimize(a)}}),e(bt,function(r,n){if(n.option("sequences")&&r.condition instanceof ut){var e=r.condition.expressions.slice();return r.condition=e.pop(),e.push(r),R(r,e)}if(!n.option("conditionals"))return r;var o=r.condition.is_truthy()||r.condition.evaluate(n,!0);if(!o)return pn.warn("Condition always false [{file}:{line},{col}]",r.start),R(r,[r.condition,r.alternative]).optimize(n);if(!(o instanceof pn))return pn.warn("Condition always true [{file}:{line},{col}]",r.start),R(r,[r.condition,r.consequent]).optimize(n);var t=o.negate(n,ln(n));Y(n,o,t)===t&&(r=ne(bt,r,{condition:t,consequent:r.alternative,alternative:r.consequent}),t=o,o=r.condition);var i=r.consequent,a=r.alternative;if(Ue(n,o)){if(o.equivalent_to(i))return ne(gt,r,{operator:"||",left:o,right:a}).optimize(n);if(o.equivalent_to(a))return ne(gt,r,{operator:"&&",left:o,right:i}).optimize(n)}var s=i.tail_node();if(s instanceof yt){var f="="==s.operator,e=f?a.tail_node():a;if((f||i===s)&&e instanceof yt&&s.operator==e.operator&&s.left.equivalent_to(e.left)&&(f&&s.left instanceof Rt||!o.has_side_effects(n)&&m(i)&&m(a)))return ne(yt,r,{operator:s.operator,left:s.left,right:ne(bt,r,{condition:o,consequent:_(i),alternative:_(a)})})}if(i.equivalent_to(a))return R(r,[o,i]).optimize(n);var c,s=function e(n,t,i){if(!v(n,t))return!i&&ne(bt,r,{condition:o,consequent:n,alternative:t});var t=e(n.expression,t.expression);if(!t)return;var n=n.clone();n.expression=t;return n}(i,a,!0);if(s)return s;if(i instanceof ft&&a.TYPE==i.TYPE&&0<=(c=h(i,a))&&i.expression.equivalent_to(a.expression)&&!o.has_side_effects(n)&&!i.expression.has_side_effects(n)){s=i.clone();return s.args[c]=ne(bt,r,{condition:o,consequent:i.args[c],alternative:a.args[c]}),s}if(i instanceof bt&&i.alternative.equivalent_to(a))return ne(bt,r,{condition:ne(gt,r,{left:o,operator:"&&",right:i.condition}),consequent:i.consequent,alternative:a});if(i instanceof bt&&i.consequent.equivalent_to(a))return ne(bt,r,{condition:ne(gt,r,{left:t,operator:"||",right:i.condition}),consequent:a,alternative:i.alternative});if(a instanceof bt&&i.equivalent_to(a.consequent))return ne(bt,r,{condition:ne(gt,r,{left:o,operator:"||",right:a.condition}),consequent:i,alternative:a.alternative});if(a instanceof bt&&i.equivalent_to(a.alternative))return ne(bt,r,{condition:ne(gt,r,{left:t,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:i});if((i instanceof ut||a instanceof ut)&&i.tail_node().equivalent_to(a.tail_node()))return R(r,[ne(bt,r,{condition:o,consequent:g(i),alternative:g(a)}),i.tail_node()]).optimize(n);if(i instanceof gt&&"&&"==i.operator&&i.right.equivalent_to(a))return ne(gt,r,{operator:"&&",left:ne(gt,r,{operator:"||",left:t,right:i.left}),right:a}).optimize(n);if(i instanceof gt&&"||"==i.operator&&i.right.equivalent_to(a))return ne(gt,r,{operator:"||",left:ne(gt,r,{operator:"&&",left:o,right:i.left}),right:a}).optimize(n);if(a instanceof gt&&"&&"==a.operator&&a.right.equivalent_to(i))return ne(gt,r,{operator:"&&",left:ne(gt,r,{operator:"||",left:o,right:a.left}),right:i}).optimize(n);if(a instanceof gt&&"||"==a.operator&&a.right.equivalent_to(i))return ne(gt,r,{operator:"||",left:ne(gt,r,{operator:"&&",left:t,right:a.left}),right:i}).optimize(n);var u=n.option("booleans")&&n.in_boolean_context();return p(i)?d(a)?l(o):ne(gt,r,{operator:"||",left:l(o),right:a}):d(i)?p(a)?l(o.negate(n)):ne(gt,r,{operator:"&&",left:l(o.negate(n)),right:a}):p(a)?ne(gt,r,{operator:"||",left:l(o.negate(n)),right:i}):d(a)?ne(gt,r,{operator:"&&",left:l(o),right:i}):(n.option("typeofs")&&Oe(o,i,a),r);function l(e){return e.is_boolean(n)?e:ne(mt,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof ei||u&&e instanceof Bt&&e.value||e instanceof mt&&"!"==e.operator&&e.expression instanceof Bt&&!e.expression.value}function d(e){return e instanceof Zt||u&&(e instanceof Bt&&!e.value||e instanceof mt&&"void"==e.operator&&!e.expression.has_side_effects(n))||e instanceof mt&&"!"==e.operator&&e.expression instanceof Bt&&e.expression.value}function h(e,n){var t=e.args,i=n.args,r=t.length;if(r!=i.length)return-2;for(var o=0;o<r;o++)if(!t[o].equivalent_to(i[o])){for(var a=o+1;a<r;a++)if(!t[a].equivalent_to(i[a]))return-2;return o}return-1}function v(e,n){if(e.TYPE==n.TYPE)return e instanceof ft?-1!=h(e,n)?void 0:"Call"!=e.TYPE||!(e.expression instanceof lt||n.expression instanceof lt)||v(e.expression,n.expression):e instanceof pt?e.property==n.property:e instanceof dt?e.property.equivalent_to(n.property):void 0}function m(e){return e===e.tail_node()||fn(e.expressions.slice(0,-1),function(e){return!e.has_side_effects(n)})}function _(e){if(!(e instanceof ut))return e.right;var n=e.expressions.slice();return n.push(n.pop().right),R(e,n)}function g(e){return e instanceof ut?R(e,e.expressions.slice(0,-1)):ne(Lt,e,{value:0})}}),e(Qt,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return ne(Lt,e,{value:+e.value});n=n.parent();return n instanceof gt&&("=="==n.operator||"!="==n.operator)?(pn.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:n.operator,value:e.value,file:n.start.file,line:n.start.line,col:n.start.col}),ne(Lt,e,{value:+e.value})):ne(mt,e,{operator:"!",expression:ne(Lt,e,{value:1-e.value})})}),e(ht,function(e,n){var t=e.expression;return n.option("spread")&&t instanceof xt&&!(n.parent()instanceof Dt)?tn.splice(t.elements.map(function(e){return e instanceof Xt?ne(Gt,e).optimize(n):e})):e}),e(dt,function(e,t){var n=e.expression,i=e.property;if(t.option("properties")){var r=i.evaluate(t);if(r!==i){"string"==typeof r&&("undefined"==r?r=void 0:(m=parseFloat(r)).toString()==r&&(r=m)),i=e.property=I(i,k(r,i).transform(t));var o=""+r;if(ti(o)&&o.length<=i.print_to_string().length+1)return ne(pt,e,{expression:n,property:o}).optimize(t)}}var a,s,f,c=t.parent(),u=se(t.self(),c);if(t.option("arguments")&&n instanceof Rt&&Z(h=n.definition())&&!n.in_arg&&i instanceof Lt&&(a=h.scope)===function(){var e,n=0;for(;e=t.parent(n++);)if(e instanceof Mn){if(e instanceof jn)return;if(!(e instanceof qn))return s=t.parent(n),e}}()&&a.uses_arguments<(u?2:3)){var l=i.value;c instanceof mt&&"delete"==c.operator&&(h.deleted||(h.deleted=[]),h.deleted[l]=!0);var p=a.argnames[l];if(h.deleted&&h.deleted[l])p=null;else if(p instanceof kt)p=null;else if(!p||!t.has_directive("use strict")&&!a.name&&(s instanceof ft&&l<s.args.length)&&fn(a.argnames,function(e){return!(e instanceof kt)})){if(!p&&l<a.argnames.length+5&&t.drop_fargs(a,s))for(;l>=a.argnames.length;)p=a.make_var(Nt,a,"argument_"+a.argnames.length),a.argnames.push(p)}else{var d=p.definition();(!t.option("reduce_vars")||h.reassigned||d.assignments||1<d.orig.length)&&(p=null)}if(p&&Xe(function(e){return e.name===p.name},a.argnames)===p){h.reassigned=!1;var h=ne(Rt,e,p);return h.reference({}),delete p.__unused,h}}if(u)return e;if(t.option("sequences")&&"Call"!=c.TYPE&&!(c instanceof On&&c.init===e)){c=Fe(e);if(c!==e)return c.optimize(t)}if(r===i||(v=e.flatten_object(o,t))&&(n=e.expression=v.expression,i=e.property=v.property),t.option("properties")&&t.option("side_effects")&&i instanceof Lt&&n instanceof xt&&fn(f=n.elements,function(e){return!(e instanceof ht)})){var v=f[l=i.value];if(Je(v,t)){for(var m,_=v instanceof Xt,g=!_,b=[],y=f.length;--y>l;)(m=f[y].drop_side_effect_free(t))&&(b.unshift(m),g&&m.has_side_effects(t)&&(g=!1));for(g||b.unshift(v);0<=--y;)(m=f[y].drop_side_effect_free(t))?b.unshift(m):_?b.unshift(ne(Xt,f[y])):l--;return g?(b.push(v),R(e,b).optimize(t)):ne(dt,e,{expression:ne(xt,n,{elements:b}),property:ne(Lt,i,{value:l})})}}return W(t,e)}),qn.DEFMETHOD("contains_this",Qe),zn.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new ni(function(e){return!!n||(e instanceof Ut?n=!0:e!==t&&e instanceof zn&&!(e instanceof qn)||void 0)})),n}),lt.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof Dt)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(o.key==e){if(!fn(i,function(e){return e instanceof At&&"string"==typeof e.key}))break;if(!Je(o.value,n))break;return ne(dt,this,{expression:ne(xt,t,{elements:i.map(function(e){return e.value})}),property:ne(Lt,this,{value:r})})}}}}),e(pt,function(e,n){"arguments"!=e.property&&"caller"!=e.property||pn.warn("Function.prototype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=n.parent();if(se(n.self(),t))return e;if(n.option("sequences")&&"Call"!=t.TYPE&&!(t instanceof On&&t.init===e)){var i=Fe(e);if(i!==e)return i.optimize(n)}if(n.option("unsafe_proto")&&e.expression instanceof pt&&"prototype"==e.expression.property){var r=e.expression.expression;if(H(r))switch(r.name){case"Array":e.expression=ne(xt,e.expression,{elements:[]});break;case"Function":e.expression=ne(Pn,e.expression,{argnames:[],body:[]}).init_vars(r.scope);break;case"Number":e.expression=ne(Lt,e.expression,{value:0});break;case"Object":e.expression=ne(Dt,e.expression,{properties:[]});break;case"RegExp":e.expression=ne(Vt,e.expression,{value:/t/});break;case"String":e.expression=ne(Yt,e.expression,{value:""})}}i=e.flatten_object(e.property,n);return i?i.optimize(n):W(n,e)}),e(St,function(e,n){var t;return!n.option("objects")||(t=e.key)instanceof pn&&(t=t.evaluate(n))!==e.key&&(e.key=""+t),e}),e(Dt,function(t,i){if(!i.option("objects"))return t;var e,r=!1,o=!1,a=!1,s=i.has_directive("use strict"),f=new cn,c=[];return t.properties.forEach(function(e){if(!(e instanceof ht))return l(e);o=!0;var n=e.expression;i.option("spread")&&n instanceof Dt&&fn(n.properties,function(e){return!(e instanceof $t||e instanceof ht)})?(r=!0,n.properties.forEach(function(e){l(e instanceof zt?ne(At,e,{key:e.key,value:ne(Gt,e).optimize(i)}):e)})):(a=!0,u(),c.push(e))}),u(),r?(o&&a&&1==c.length&&((e=c[0])instanceof Ot&&e.key instanceof Lt&&(e.key=""+e.key.value)),r?ne(Dt,t,{properties:c}):t):t;function u(){f.each(function(e){if(1==e.length)return c.push(e[0]);r=!0;var n=s&&!a&&e.pop();c.push(1==e.length?e[0]:ne(At,t,{key:e[0].key,value:R(t,e.map(function(e){return e.value}))})),n&&c.push(n)}),f=new cn}function l(e){var n=e.key;n instanceof pn&&(o=!0,(n=n.evaluate(i))===e.key?a=!0:n=e.key=""+n),e instanceof At&&"string"==typeof n?(e.value.has_side_effects(i)&&u(),f.add(n,e)):(u(),c.push(e)),o&&!a&&"string"==typeof n&&/^[1-9]*[0-9]$/.test(n)&&(a=!0,f.has(n)&&(e=f.get(n)[0]),e.key=ne(Lt,e,{value:+n}))}}),e(Yn,function(e,n){return e.value&&M(e.value,n)&&(e.value=null),e})}(function(e,n){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;if(e.has_directive("use asm"))return this;e=n(this,e);return e._optimized=!0,e})});var Oe=e("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ae=Oe.reduce(function(e,n,t){return e[n]=t,e},Object.create(null));function ze(e){var n="";e=Math.abs(e)<<1|e>>>31;do{var t=31&e}while((e>>>=5)&&(t|=32),n+=Oe[t],e);return n}function $e(){var n=Object.create(null),t=[];return t.index=function(e){return un(n,e)||(n[e]=t.length,t.push(e)),n[e]},t}function Me(l){var a,s=$e(),o=l.includeSources&&Object.create(null),f=$e(),c="";l.orig&&Object.keys(l.orig).forEach(function(e){var n=l.orig[e],t=[0,0,1,0,0];if(l.orig[e]={names:n.names,mappings:n.mappings.split(/;/).map(function(e){return t[0]=0,e.split(/,/).map(function(e){return t.slice(0,function(e,n){for(var t=0,i=0,r=0,o=0;r<n.length;r++){var a=Ae[n[r]];t+=(31&a)<<i,32&a?i+=5:(e[o++]+=1&t?2147483648|-(t>>1):t>>1,t=i=0)}return o}(t,e))})}),sources:n.sources},o&&n.sourcesContent)for(var i=0;i<n.sources.length;i++){var r=n.sourcesContent[i];r&&(o[n.sources[i]]=r)}});var u=1,p=0,d=0,h=1,v=0,m=0;return{add:l.orig?function(e,n,t,i,r,o){var a=l.orig[e];if(a){var s,f=a.mappings[i-1];if(!f)return;for(var c=0;c<f.length;c++){var u=f[c][0];if(u<=r&&(s=f[c]),r<=u)break}!s||s.length<4?e=null:(e=a.sources[s[1]],i=s[2],r=s[3],4<s.length&&(o=a.names[s[4]]))}_(e,n,t,i,r,o)}:_,setSourceContent:o?function(e,n){o[e]=n}:Ke,toString:function(){return JSON.stringify({version:3,file:l.filename||void 0,sourceRoot:l.root||void 0,sources:s,sourcesContent:o?s.map(function(e){return o[e]||null}):void 0,names:f,mappings:c})}};function _(e,n,t,i,r,o){if(null!=a||null!=e){if(a=e,u<n)for(p=0;c+=";",++u<n;);else c&&(c+=",");c+=ze(t-p),p=t,null!=e&&(e=s.index(e),c+=ze(e-d),d=e,c+=ze(i-h),h=i,c+=ze(r-v),v=r,l.names&&null!=o&&(o=f.index(o),c+=ze(o-m),m=o))}}}!function(){function n(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof dn&&e[t].body instanceof Yt?e[t]=new vn({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof dn&&e[t].body instanceof Yt||(n=!1);return e}var i={Program:function(e){return new $n({start:s(e),end:f(e),body:n(e.body.map(c))})},FunctionDeclaration:function(e){return new Rn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},FunctionExpression:function(e){return new Pn({start:s(e),end:f(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},ExpressionStatement:function(e){return new _n({start:s(e),end:f(e),body:c(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new et({start:s(e),end:f(e),body:c(e.block).body,bcatch:c(n[0]),bfinally:e.finalizer?new tt(c(e.finalizer)):null})},Property:function(e){var n=e.key,n={start:s(n),end:f(e.value),key:""+n["Identifier"==n.type?"name":"value"],value:c(e.value)};return"init"==e.kind?new At(n):(n.value=new jn(n.value),"get"==e.kind?new $t(n):"set"==e.kind?new zt(n):void 0)},ArrayExpression:function(e){return new xt({start:s(e),end:f(e),elements:e.elements.map(function(e){return null===e?new Xt:c(e)})})},ObjectExpression:function(e){return new Dt({start:s(e),end:f(e),properties:e.properties.map(function(e){return e.type="Property",c(e)})})},SequenceExpression:function(e){return new ut({start:s(e),end:f(e),expressions:e.expressions.map(c)})},MemberExpression:function(e){return new(e.computed?dt:pt)({start:s(e),end:f(e),property:e.computed?c(e.property):e.property.name,expression:c(e.object)})},SwitchCase:function(e){return new(e.test?Zn:Qn)({start:s(e),end:f(e),expression:c(e.test),body:e.consequent.map(c)})},VariableDeclaration:function(e){return new at({start:s(e),end:f(e),definitions:e.declarations.map(c)})},Literal:function(e){var n=e.value,t={start:s(e),end:f(e)};if(null===n)return new Wt(t);var i=e.regex;if(i&&i.pattern)return t.value=new RegExp(i.pattern,i.flags),t.value.raw_source=i.pattern,new Vt(t);if(i)return t.value=e.regex&&e.raw?e.raw:n,new Vt(t);switch(typeof n){case"string":return t.value=n,new Yt(t);case"number":return t.value=n,new Lt(t);case"boolean":return new(n?ei:Zt)(t)}},Identifier:function(e){var n=t[t.length-2];return new("LabeledStatement"==n.type?Z:"VariableDeclarator"==n.type&&n.id===e?Ct:"FunctionExpression"==n.type?n.id===e?Ht:Nt:"FunctionDeclaration"==n.type?n.id===e?Pt:Nt:"CatchClause"==n.type?It:"BreakStatement"==n.type||"ContinueStatement"==n.type?ee:Rt)({start:s(e),end:f(e),name:e.name})},ThisExpression:function(e){return new Ut({start:s(e),end:f(e),name:"this"})}};function r(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:r(e)})}function f(e){var n=e.loc,t=n&&n.end,i=e.range;return new H({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:r(e)})}function e(e,n,t){var o="function From_Moz_"+e+"(M){\n";o+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var a="function To_Moz_"+e+"(M){\n";a+="return {\ntype: "+JSON.stringify(e),t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(o+=",\n"+r+": ",a+=",\n"+t+": ",i){case"@":o+="M."+t+".map(from_moz)",a+="M."+r+".map(to_moz)";break;case">":o+="from_moz(M."+t+")",a+="to_moz(M."+r+")";break;case"=":o+="M."+t,a+="M."+r;break;case"%":o+="from_moz(M."+t+").body",a+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),o+="\n})\n}",a+="\n}\n}",o=new Function("U2","my_start_token","my_end_token","from_moz","return("+o+")")(h,s,f,c),a=new Function("to_moz","to_moz_block","to_moz_scope","return("+a+")")(l,p,d),i[e]=o,u(n,a)}i.UpdateExpression=i.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?mt:_t)({start:s(e),end:f(e),operator:e.operator,expression:c(e.argument)})},e("EmptyStatement",mn),e("BlockStatement",wn,"body@body"),e("IfStatement",Gn,"test>condition, consequent>body, alternate>alternative"),e("LabeledStatement",xn,"label>label, body>body"),e("BreakStatement",Wn,"label>label"),e("ContinueStatement",Jn,"label>label"),e("WithStatement",An,"object>expression, body>body"),e("SwitchStatement",Xn,"discriminant>expression, cases@body"),e("ReturnStatement",Yn,"argument>value"),e("ThrowStatement",Ln,"argument>value"),e("WhileStatement",Tn,"test>condition, body>body"),e("DoWhileStatement",Sn,"test>condition, body>body"),e("ForStatement",Dn,"init>init, test>condition, update>step, body>body"),e("ForInStatement",On,"left>init, right>object, body>body"),e("DebuggerStatement",hn),e("VariableDeclarator",st,"id>name, init>value"),e("CatchClause",nt,"param>argname, body%body"),e("BinaryExpression",gt,"operator=operator, left>left, right>right"),e("LogicalExpression",gt,"operator=operator, left>left, right>right"),e("AssignmentExpression",yt,"operator=operator, left>left, right>right"),e("ConditionalExpression",bt,"test>condition, consequent>consequent, alternate>alternative"),e("NewExpression",ct,"callee>expression, arguments@args"),e("CallExpression",ft,"callee>expression, arguments@args"),u($n,function(e){return d("Program",e)}),u(Rn,function(e){return{type:"FunctionDeclaration",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(Pn,function(e){return{type:"FunctionExpression",id:l(e.name),params:e.argnames.map(l),body:d("BlockStatement",e)}}),u(vn,function(e){return{type:"ExpressionStatement",expression:{type:"Literal",value:e.value}}}),u(_n,function(e){return{type:"ExpressionStatement",expression:l(e.body)}}),u(Kn,function(e){return{type:"SwitchCase",test:l(e.expression),consequent:e.body.map(l)}}),u(et,function(e){return{type:"TryStatement",block:p(e),handler:l(e.bcatch),guardedHandlers:[],finalizer:l(e.bfinally)}}),u(nt,function(e){return{type:"CatchClause",param:l(e.argname),guard:null,body:p(e)}}),u(it,function(e){return{type:"VariableDeclaration",kind:"var",declarations:e.definitions.map(l)}}),u(ut,function(e){return{type:"SequenceExpression",expressions:e.expressions.map(l)}}),u(lt,function(e){var n=e instanceof dt;return{type:"MemberExpression",object:l(e.expression),computed:n,property:n?l(e.property):{type:"Identifier",name:e.property}}}),u(vt,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof mt,argument:l(e.expression)}}),u(gt,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:l(e.left),operator:e.operator,right:l(e.right)}}),u(xt,function(e){return{type:"ArrayExpression",elements:e.elements.map(l)}}),u(Dt,function(e){return{type:"ObjectExpression",properties:e.properties.map(l)}}),u(Ot,function(e){var n,t={type:"Literal",value:e.key};return e instanceof At?n="init":e instanceof $t?n="get":e instanceof zt&&(n="set"),{type:"Property",kind:n,key:t,value:l(e.value)}}),u(Mt,function(e){var n=e.definition();return{type:"Identifier",name:n&&n.mangled_name||e.name}}),u(Ut,function(){return{type:"ThisExpression"}}),u(Vt,function(e){var n=e.value.toString().match(/[gimuy]*$/)[0],t="/"+e.value.raw_source+"/"+n;return{type:"Literal",value:t,raw:t,regex:{pattern:e.value.raw_source,flags:n}}}),u(Bt,function(e){var n=e.value;return"number"==typeof n&&(n<0||0===n&&1/n<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-n,raw:e.start.raw}}:{type:"Literal",value:n,raw:e.start.raw}}),u(v,function(e){return{type:"Identifier",name:String(e.value)}}),Qt.DEFMETHOD("to_mozilla_ast",Bt.prototype.to_mozilla_ast),Wt.DEFMETHOD("to_mozilla_ast",Bt.prototype.to_mozilla_ast),Xt.DEFMETHOD("to_mozilla_ast",function(){return null}),yn.DEFMETHOD("to_mozilla_ast",wn.prototype.to_mozilla_ast),Mn.DEFMETHOD("to_mozilla_ast",Pn.prototype.to_mozilla_ast);var t=null;function c(e){t.push(e);e=null!=e?i[e.type](e):null;return t.pop(),e}function u(e,i){e.DEFMETHOD("to_mozilla_ast",function(){return n=i(e=this),t=e.start,e=e.end,null!=t.pos&&null!=e.endpos&&(n.range=[t.pos,e.endpos]),t.line&&(n.loc={start:{line:t.line,column:t.col},end:e.endline?{line:e.endline,column:e.endcol}:null},t.file&&(n.loc.source=t.file)),n;var e,n,t})}function l(e){return null!=e?e.to_mozilla_ast():null}function p(e){return{type:"BlockStatement",body:e.body.map(l)}}function d(e,n){var t=n.body.map(l);return n.body[0]instanceof _n&&n.body[0].body instanceof Yt&&t.unshift(l(new mn(n.body[0]))),{type:e,body:t}}pn.from_mozilla_ast=function(e){var n=t;t=[];e=c(e);return t=n,e.walk(new ni(function(e){if(e instanceof ee){for(var n,t,i=0;(n=this.parent(i))&&!(n instanceof zn);i++)if(n instanceof xn&&n.label.name==e.name){e.thedef=n.label;break}e.thedef||(t=e.start,te("Undefined label "+e.name,t.file,t.line,t.col,t.pos))}})),e}}();var je,Fe,qe,Ce=(je=[],["null","true","false","Infinity","-Infinity","undefined"].forEach(Ne),[Array,Boolean,Date,Error,Function,Math,Number,Object,RegExp,String].forEach(function(e){Object.getOwnPropertyNames(e).map(Ne),e.prototype&&(Object.getOwnPropertyNames(new e).map(Ne),Object.getOwnPropertyNames(e.prototype).map(Ne))}),sn(je));function Ne(e){je.push(e)}function Pe(e,n){e instanceof bt?(Pe(e.consequent,n),Pe(e.alternative,n)):e instanceof ut?Pe(e.tail_node(),n):e instanceof Yt&&n(e.value)}function He(n){try{return JSON.parse(n)}catch(e){throw new Error("invalid input source map: "+n)}}function Ie(n,t,e){t[n]&&e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function Re(e){e&&("props"in e?e.props instanceof cn||(e.props=cn.fromObject(e.props)):e.props=new cn)}function Ue(e){return{props:e.props.toObject()}}qe="undefined"==typeof Buffer?(Fe=atob,btoa):void 0===Buffer.alloc?(Fe=function(e){return new Buffer(e,"base64").toString()},function(e){return new Buffer(e).toString("base64")}):(Fe=function(e){return Buffer.from(e,"base64").toString()},function(e){return Buffer.from(e).toString("base64")}),h.Dictionary=cn,h.List=tn,h.minify=function(i,r){try{(r=Q(r,{compress:{},enclose:!1,ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,validate:!1,warnings:!1,webkit:!1,wrap:!1},!0)).validate&&pn.enable_validation();var e=r.timings&&{start:Date.now()};void 0===r.rename&&(r.rename=r.compress&&r.mangle),Ie("ie8",r,["compress","mangle","output"]),Ie("keep_fnames",r,["compress","mangle"]),Ie("toplevel",r,["compress","mangle"]),Ie("webkit",r,["mangle","output"]),r.mangle&&(r.mangle=Q(r.mangle,{cache:r.nameCache&&(r.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1,webkit:!1},!0),r.mangle.properties&&("object"!=typeof r.mangle.properties&&(r.mangle.properties={}),r.mangle.properties.keep_quoted&&(c=r.mangle.properties.reserved,Array.isArray(c)||(c=[]),r.mangle.properties.reserved=c),!r.nameCache||"cache"in r.mangle.properties||(r.mangle.properties.cache=r.nameCache.props||{})),Re(r.mangle.cache),Re(r.mangle.properties.cache)),r.sourceMap&&(r.sourceMap=Q(r.sourceMap,{content:null,filename:null,includeSources:!1,names:!0,root:null,url:null},!0));var o,n=[];if(r.warnings&&pn.log_function(function(e){n.push(e)},"verbose"==r.warnings),e&&(e.parse=Date.now()),i instanceof $n)o=i;else{"string"==typeof i&&(i=[i]),r.parse=r.parse||{},r.parse.toplevel=null;var t,a=r.sourceMap&&r.sourceMap.content;for(f in"string"==typeof a&&"inline"!=a&&(a=He(a)),a&&(r.sourceMap.orig=Object.create(null)),i)un(i,f)&&(r.parse.filename=f,r.parse.toplevel=o=ai(i[f],r.parse),"inline"==a?(t=function(e,n){for(var t=n.end.comments_after,i=t.length;0<=--i;){var r=t[i];if("comment1"!=r.type)break;r=/^# ([^\s=]+)=(\S+)\s*$/.exec(r.value);if(!r)break;if("sourceMappingURL"==r[1]){if(!(r=/^data:application\/json(;.*?)?;base64,(\S+)$/.exec(r[2])))break;return Fe(r[2])}}pn.warn("inline source map not found: {name}",{name:e})}(f,o))&&(r.sourceMap.orig[f]=He(t)):a&&(r.sourceMap.orig[f]=a))}c&&(l=c,o.walk(new ni(function(e){e instanceof Ot?e.start&&e.start.quote&&u(e.key):e instanceof dt&&Pe(e.property,u)}))),["enclose","wrap"].forEach(function(e){var n,t=r[e];t&&(n=o.print_to_string().slice(0,-1),o=o[e](t),i[o.start.file]=o.print_to_string().replace(n,""))}),r.validate&&o.validate_ast(),e&&(e.rename=Date.now()),r.rename&&(o.figure_out_scope(r.mangle),o.expand_names(r.mangle)),e&&(e.compress=Date.now()),r.compress&&(o=new ui(r.compress).compress(o),r.validate&&o.validate_ast()),e&&(e.scope=Date.now()),r.mangle&&o.figure_out_scope(r.mangle),e&&(e.mangle=Date.now()),r.mangle&&(o.compute_char_frequency(r.mangle),o.mangle_names(r.mangle)),e&&(e.properties=Date.now()),r.mangle&&r.mangle.properties&&function(e,t){t=Q(t,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,regex:null,reserved:null},!0);var n=Object.create(t.builtins?null:Ce);Array.isArray(t.reserved)&&t.reserved.forEach(function(e){n[e]=!0});var i,r=-1;t.cache?(i=t.cache.props).each(function(e){n[e]=!0}):i=new cn;var o,a=t.regex,s=!1!==t.debug;s&&(o=!0===t.debug?"":t.debug);var f=Object.create(null),c=Object.create(n);function u(e){return!c[e]&&!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)}function l(e){return!n[e]&&((!a||a.test(e))&&(i.has(e)||f[e]))}function p(e){u(e)&&(f[e]=!0),l(e)||(c[e]=!0)}function d(e){if(!l(e))return e;var n,t=i.get(e);if(!t){if(!s||u(n="_$"+e+"$"+o+"_")&&(t=n),!t)for(;t=B(++r),!u(t););i.set(e,t)}return t}function h(e){e instanceof ut?h(e.expressions.tail_node()):e instanceof Yt?e.value=d(e.value):e instanceof bt&&(h(e.consequent),h(e.alternative))}e.walk(new ni(function(e){if(e instanceof gt)"in"==e.operator&&Pe(e.left,p);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof pt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Rt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;Pe(e.args[1],p);break;case"hasOwnProperty":if(e.args.length<1)break;Pe(e.args[0],p)}}else e instanceof pt?p(e.property):e instanceof Ot?"string"==typeof e.key&&p(e.key):e instanceof dt&&Pe(e.property,p)})),e.walk(new ni(function(e){if(e instanceof gt)"in"==e.operator&&h(e.left);else if("Call"==e.TYPE){var n=e.expression;if(n instanceof pt)switch(n.property){case"defineProperty":case"getOwnPropertyDescriptor":if(e.args.length<2)break;if(!((n=n.expression)instanceof Rt))break;if("Object"!=n.name)break;if(!n.definition().undeclared)break;h(e.args[1]);break;case"hasOwnProperty":if(e.args.length<1)break;h(e.args[0])}}else e instanceof pt?e.property=d(e.property):e instanceof Ot?"string"==typeof e.key&&(e.key=d(e.key)):e instanceof dt&&(t.keep_quoted||h(e.property))}))}(o,r.mangle.properties),e&&(e.output=Date.now());var s={};if(r.output.ast&&(s.ast=o),!un(r.output,"code")||r.output.code){if(r.sourceMap&&(r.output.source_map=Me(r.sourceMap),r.sourceMap.includeSources)){if(i instanceof $n)throw new Error("original source content unavailable");for(var f in i)un(i,f)&&r.output.source_map.setSourceContent(f,i[f])}delete r.output.ast,delete r.output.code;var c=ci(r.output);o.print(c),s.code=c.get(),r.sourceMap&&(s.map=r.output.source_map.toString(),(c=r.sourceMap.url)&&(s.code=s.code.replace(/\n\/\/# sourceMappingURL=\S+\s*$/,""),s.code+="inline"==c?"\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+qe(s.map):"\n//# sourceMappingURL="+c))}return r.nameCache&&r.mangle&&(r.mangle.cache&&(r.nameCache.vars=Ue(r.mangle.cache)),r.mangle.properties&&r.mangle.properties.cache&&(r.nameCache.props=Ue(r.mangle.properties.cache))),e&&(e.end=Date.now(),s.timings={parse:.001*(e.rename-e.parse),rename:.001*(e.compress-e.rename),compress:.001*(e.scope-e.compress),scope:.001*(e.mangle-e.scope),mangle:.001*(e.properties-e.mangle),properties:.001*(e.output-e.properties),output:.001*(e.end-e.output),total:.001*(e.end-e.start)}),n.length&&(s.warnings=n),s}catch(e){return{error:e}}finally{pn.log_function(),pn.disable_validation()}function u(e){rn(l,e)}var l},h.parse=ai,h.push_uniq=rn,h.TreeTransformer=si,h.TreeWalker=ni}("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);